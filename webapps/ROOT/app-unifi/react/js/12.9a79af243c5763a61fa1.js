(window.webpackJsonpunifiNetworkUi=window.webpackJsonpunifiNetworkUi||[]).push([[12],{2045:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return l}));var r=a(0),n=a.n(r),i=a(458);const o=n.a.createContext({gridHeight:0,gridWidth:0,columnWidth:0,rowHeight:0,dayOrder:[],days:[],times:[]}),l=(o.Consumer,()=>n.a.useContext(o));function d({gridHeight:e,gridWidth:t,dayOrder:a,days:l,times:d,children:s}){const c=Object(r.useRef)(),u=(g=c.current,h={gridHeight:e,gridWidth:t,columnWidth:t/l.length,rowHeight:e/d.length,dayOrder:a,days:l,times:d},g&&Object(i.a)(g,h)?g:h);var g,h;return c.current=u,n.a.createElement(o.Provider,{value:u},s)}},2065:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"e",(function(){return n}));const r=1440,n=15,i=["mon","tue","wed","thu","fri","sat","sun"],o=60,l=30},2092:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return E})),a.d(t,"d",(function(){return x})),a.d(t,"e",(function(){return j})),a.d(t,"f",(function(){return M})),a.d(t,"g",(function(){return l})),a.d(t,"h",(function(){return g})),a.d(t,"i",(function(){return u})),a.d(t,"j",(function(){return k})),a.d(t,"k",(function(){return w})),a.d(t,"l",(function(){return d})),a.d(t,"m",(function(){return c})),a.d(t,"n",(function(){return b})),a.d(t,"o",(function(){return p})),a.d(t,"p",(function(){return O})),a.d(t,"q",(function(){return _}));var r=a(44),n=a(2121),i=a(2065);const o=Object(r.a)(e=>e.reduce((e,t,a)=>(e[t]=a,e),{})),l=e=>{const{startHour:t,startMinute:a}=e;return 60*t+a},d=(e,t)=>{const a=o(t),{startHour:r,startMinute:n,day:l}=e;return a[l]*i.d+60*r+n},s=(e,t)=>{const a=e%1440;return`${Math.floor(a/60)%(t?24:12)||(t?0:12)}:${(a%60).toString().padStart(2,"0")}${!t&&(a/60>=12?"pm":"am")||""}`},c=(e,t,a)=>new Array(24*e).fill(null).map((r,n)=>({value:n*Math.round(60/e),label:`${Math.floor(n/e)%(t?24:12)||(t?0:12)}${a&&1===e?"":":"+(n%e*(60/e)).toString().padStart(2,"0")}${!t&&(n/e>=12?"pm":"am")||""}`})),u=(e,t)=>{if(e.repeatType)return e.repeatType;const{startDaysOfWeek:a}=e,r=t?t.length:7,o=a?a.length:0;if(o===r)return n.a.daily;if(o>1)return n.a.weekly;if(1===o){const{durationMinutes:t}=e;if(t>i.d)return n.a.none}},g=(e,t)=>{const a=u(e,t);return a&&a!==n.a.none?i.d:t.length*i.d},h=(e,t,a)=>{const r=(a.findIndex(t=>t===e)+t)%a.length;return a[r<0?a.length+r:r]},m=(e,t,a,r)=>{const n=o(a),i=n[t]-n[e];return i<0&&r?a.length+i:i},p=(e,t,a,r)=>{const n=o(a),l=24*n[t.day]*60+60*t.startHour+t.startMinute-(24*n[e.day]*60+60*e.startHour+e.startMinute);return l<0&&r?a.length*i.d+l:l},f=({startHour:e,startMinute:t,day:a},r,n)=>24===e&&0===t?n?{startHour:23,startMinute:59,day:a}:{startHour:0,startMinute:0,day:h(a,1,r)}:{startHour:e,startMinute:t,day:a},b=({day:e,startHour:t,startMinute:a},r,n)=>{const o=l({startHour:t,startMinute:a})+r%(i.d*n.length);if(o>i.d){const t=Math.floor(o/i.d),a=o%i.d;return f({startHour:Math.floor(a/60),startMinute:a%60,day:h(e,t*(o<0?-1:1),n)},n)}if(o<0){const t=Math.floor(o/i.d),a=o%i.d;return f({startHour:24+Math.floor(a/60),startMinute:60-(i.d-a)%60,day:h(e,t,n)},n)}return f({startHour:Math.floor(o/60),startMinute:o%60,day:e},n)},v=e=>{const{durationMinutes:t}=e;return Math.min(t,i.d-l(e))},y=e=>{const{durationMinutes:t}=e;return Math.max(0,(t-(i.d-l(e)))%i.d)},M=(e,t,a)=>{const r=o(a);return{mon:e*r.mon,tue:e*r.tue,wed:e*r.wed,thu:e*r.thu,fri:e*r.fri,sat:e*r.sat,sun:e*r.sun}[t]},_=(e,t)=>{const a=o(t);return[...e].sort((e,t)=>a[e]-a[t])},w=(e,t,a)=>{if(e){const{startHour:r,startMinute:n}=e,{startHour:i,startMinute:o}=b({day:e.startDaysOfWeek[0],startHour:r,startMinute:n},e.durationMinutes,t);return`${s(60*r+n,a)} - ${s(60*i+o,a)}`}},O=(e,t,a)=>{let r=Math.floor(e/60);const n=e%60;let i=Math[a?"ceil":"floor"](n/t)*t;return 60===i&&(r+=1,i=0),{hour:r,minute:i,fullMinutes:i+60*r}},S=({gridWidth:e,gridHeight:t,dayOrder:a,item:r,day:n,start:o,end:d,width:s})=>{const c=l(r),u=t/i.d,g=e/a.length,m=[{top:c*u,height:v(r)*u,left:M(g,n,a),width:g,day:n}];if((e=>{const{startHour:t,startMinute:a,durationMinutes:r}=e;return 60*t+a+r>i.d})(r)){const e=(e=>{const{durationMinutes:t}=e;return(t-v(e)-y(e))/i.d})(r);if(e>0){const r=new Array(e).fill(null).map((e,t)=>M(g,h(n,t+1,a),a));m.push(...r.map(e=>({top:0,height:t,left:e,width:g,day:n})))}const o=y(r);o!==i.d&&m.push({top:0,height:o*u,left:M(g,h(n,1+e,a),a),width:g,day:n})}const p=m.filter(({height:e})=>e>0),f=p[0];f&&(f.draggable?f.draggable.push("change-start"):f.draggable=["change-start"],f.start=o);const b=p[p.length-1];return b&&(b.draggable?b.draggable.push("change-end"):b.draggable=["change-end"],b.end=d),s&&s[n]?p.map(({left:e,width:t,...a})=>({...a,width:t*s[n].width/100,left:e+t*s[n].offset/100,zIndex:Math.max(1,600-t)})):p},I=({dayOrder:e,item:t,day:a})=>{const{startHour:r,startMinute:n}=t,o=d({startHour:r,startMinute:n,day:a},e),l=o+t.durationMinutes,s=i.d*e.length;return l>s?[{start:o,end:s},{start:0,end:l-s}]:[{start:o,end:l}]},k=({gridWidth:e,gridHeight:t,dayOrder:a,item:r,width:n})=>{const{startDaysOfWeek:o}=r,l=_(o,a||i.c);return l.reduce((o,d,s)=>[...o,...S({gridWidth:e,gridHeight:t,dayOrder:a||i.c,item:r,day:d,start:0===s,end:s===l.length-1,width:n})],[])},D=(e,t)=>{const{startDaysOfWeek:a}=e;return _(a,t||i.c).reduce((a,r)=>[...a,...I({dayOrder:t||i.c,item:e,day:r})],[])},j=({gridWidth:e,gridHeight:t,dayOrder:a,x:r,y:n})=>({day:a[Math.floor(r/(e/a.length))],minutes:Math.round(n/(t/i.d))}),x=({gridWidth:e,gridHeight:t,dayOrder:a,day:r,hour:n,minute:o,durationMinutes:d})=>{const s=l({startHour:n,startMinute:o}),c=t/i.d,u=e/a.length;return{top:s*c,height:d*c,left:M(u,r,a),width:u}},E=(e,t,a)=>{const r=D(e,a||i.c);return t.some(e=>D(e,a||i.c).some(({start:e,end:t})=>r.some(({start:a,end:r})=>Math.max(a,e)<Math.min(r,t))))}},2121:function(e,t,a){"use strict";var r;a.d(t,"a",(function(){return r})),function(e){e.none="none",e.daily="daily",e.weekly="weekly"}(r||(r={}))},2276:function(e,t,a){"use strict";var r=a(0),n=a.n(r),i=a(1),o=a.n(i),l=a(7),d=a.n(l);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var u={icon:"icon__vcLGl1NY","icon-light":"icon-light__vcLGl1NY",active:"active__vcLGl1NY",fill:"fill__vcLGl1NY","icon-dark":"icon-dark__vcLGl1NY",actionable:"actionable__vcLGl1NY",transparent:"transparent__vcLGl1NY"};!function(e,t){void 0===t&&(t={});var a=t.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===a&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}(".icon__vcLGl1NY{flex:none;vertical-align:middle}.icon-light__vcLGl1NY.active__vcLGl1NY{color:#006fff}.icon-light__vcLGl1NY.active__vcLGl1NY .fill__vcLGl1NY{display:block;color:#e5f0ff}.icon-dark__vcLGl1NY.active__vcLGl1NY{color:#006fff}.icon-dark__vcLGl1NY.active__vcLGl1NY .fill__vcLGl1NY{display:block;color:#032759}.icon__vcLGl1NY.actionable__vcLGl1NY{cursor:pointer}.icon__vcLGl1NY.actionable__vcLGl1NY:hover{color:#a4a7b5}.icon__vcLGl1NY.transparent__vcLGl1NY{opacity:.35}.fill__vcLGl1NY{display:none}");const g={small:"12px",medium:"16px",large:"24px",navigation:"22px",logo:"28px"};function h(e){return"string"==typeof e?e:e+"px"}const m=e=>{const{actionable:t,isActive:a,transparent:r,className:i,children:o,width:l,height:c,motif:m,size:p,svgFillClassname:f}=e,b=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,["actionable","isActive","transparent","className","children","width","height","motif","size","svgFillClassname"]),v=l?h(l):g[p],y=c?h(c):g[p];return n.a.cloneElement(o,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),r.forEach((function(t){s(e,t,a[t])}))}return e}({className:d()(i,u.icon,u["icon-"+m],{[u.transparent]:r,[u.actionable]:t,[u.active]:a}),width:v,height:y,svgfillclassname:f||u.fill},b))};m.propTypes={actionable:o.a.bool,isActive:o.a.bool,transparent:o.a.bool,fill:o.a.string,stroke:o.a.string,className:o.a.string,children:o.a.node,style:o.a.object,width:o.a.oneOfType([o.a.number,o.a.string]),height:o.a.oneOfType([o.a.number,o.a.string]),motif:o.a.oneOf(["light","dark"]),size:o.a.oneOf(["small","medium","large","logo","navigation"])},m.defaultProps={actionable:!1,isActive:!1,transparent:!1,fill:"currentColor",stroke:"currentColor",strokeWidth:0,className:"",children:null,style:{},width:null,height:null,motif:"light",size:"medium"},t.a=(e=>t=>n.a.createElement(m,t,n.a.createElement(e,null)))(e=>n.a.createElement("svg",c({viewBox:"0 0 11 11"},e),n.a.createElement("path",{d:"M0 5h11v1H0z"}),n.a.createElement("path",{d:"M5 0h1v11H5z"})))},2406:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a(10),n=a(193);function i(){return function(e){return e.lift(new o)}}var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new l(e))},e}(),l=function(e){function t(t){var a=e.call(this,t)||this;return a.hasPrev=!1,a}return r.b(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(n.a)},2832:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(807),n=a(840),i=a(576);function o(e,t){var a;return void 0===e&&(e=0),void 0===t&&(t=n.a),a=e,(Object(i.a)(a)||!(a-parseFloat(a)+1>=0)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=n.a),new r.a((function(a){return a.add(t.schedule(l,e,{subscriber:a,counter:0,period:e})),a}))}function l(e){var t=e.subscriber,a=e.counter,r=e.period;t.next(a),this.schedule({subscriber:t,counter:a+1,period:r},r)}},2885:function(e,t,a){"use strict";a.d(t,"a",(function(){return X}));var r=a(0),n=a.n(r),i=a(7),o=a.n(i),l=a(40),d=a(86),s=a.n(d),c=a(2045),u=a(2065),g=a(41),h=a(2092),m=a(25);Object(m.a)(".weekendRect__rdXBR1OE{opacity:.1}.weekendRect-light__rdXBR1OE{fill:#c8cad3}.weekendRect-dark__rdXBR1OE{fill:#7b7d88}");var p={weekendRect:"weekendRect__rdXBR1OE","weekendRect-light":"weekendRect-light__rdXBR1OE","weekendRect-dark":"weekendRect-dark__rdXBR1OE"};function f({hideGridLines:e,motif:t,stepsPerRow:a,...r}){const{days:i,dayOrder:l,columnWidth:d,gridHeight:s,gridWidth:u,rowHeight:m}=Object(c.b)(),f=m/a,b=u/i.length,v=`schedulerGridLinesPattern${Math.round(d)}-${Math.round(f)}`,y=`schedulerBlocksPattern${Math.round(d)}-${Math.round(f)}${e?"":"lined"}`,M=`schedulerColumnsPattern${Math.round(d)}-${Math.round(f)}${e?"":"lined"}`;return n.a.createElement(n.a.Fragment,null,n.a.createElement("defs",null,!e&&n.a.createElement("pattern",{id:v,width:d,height:f,patternUnits:"userSpaceOnUse"},n.a.createElement("line",{x1:"0",x2:d,y1:"0",y2:"0",opacity:"0.65",vectorEffect:"non-scaling-stroke",stroke:g.a.motifs[t].calendarBorder})),n.a.createElement("pattern",{id:y,width:d,height:m,patternUnits:"userSpaceOnUse"},n.a.createElement("rect",{width:d,height:m,fill:e?"transparent":`url(#${v})`,vectorEffect:"non-scaling-stroke",stroke:g.a.motifs[t].calendarBorder})),n.a.createElement("pattern",{id:M,width:u,height:s,x:"0",y:"0",patternUnits:"userSpaceOnUse"},n.a.createElement("rect",{width:u,height:s,fill:`url(#${y})`,vectorEffect:"non-scaling-stroke"}))),i.map(({weekend:e,value:a})=>e?n.a.createElement("rect",{key:a,x:Object(h.f)(b,a,l),y:0,width:d,height:s,className:o()(p.weekendRect,p["weekendRect-"+t])}):null),n.a.createElement("g",{stroke:"currentColor",strokeWidth:"1"},n.a.createElement("rect",{x:0,y:0,width:u,height:s,fill:`url(#${M})`})),n.a.createElement("rect",Object.assign({x:0,y:0,width:u,height:s,opacity:0},r)))}Object(m.a)(".wrapper__SvMS9QIM{display:flex;font-size:11px;margin-top:10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.wrapper-dark__SvMS9QIM{color:hsla(0,0%,100%,.85)}.wrapper-light__SvMS9QIM{color:rgba(0,0,0,.85)}.content__SvMS9QIM{display:flex;width:100%;flex-direction:column}.grid__SvMS9QIM{position:relative}.gridItem__SvMS9QIM{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.gridItem__SvMS9QIM:focus{outline:none}.gridItem-lowered__SvMS9QIM{z-index:0}.gridItem-raised__SvMS9QIM{z-index:15}.gridItem-dragging__SvMS9QIM{z-index:20;cursor:-webkit-grab;cursor:grab}.gridItemBlock__SvMS9QIM{position:absolute}.gridItemBlock-interactive__SvMS9QIM{z-index:3;cursor:pointer;pointer-events:all}.gridItemContent__SvMS9QIM{position:absolute;top:0;right:0;bottom:0;left:0;padding:2px 4px;font-size:10px;line-height:16px;text-overflow:ellipsis;white-space:nowrap}.gridItemContent-clipped__SvMS9QIM{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.gridItemContentIcon__SvMS9QIM{display:flex;width:100%;height:100%;color:#fff;align-items:center;justify-content:center}.gridItemDragHandle__SvMS9QIM{position:absolute}.gridItemDragHandle-bottom__SvMS9QIM,.gridItemDragHandle-top__SvMS9QIM{right:0;left:0;height:16px}.gridItemDragHandle-top__SvMS9QIM{top:-8px;cursor:n-resize}.gridItemDragHandle-top__SvMS9QIM.gridItemDragHandle-diagonal__SvMS9QIM{cursor:nw-resize}.gridItemDragHandle-bottom__SvMS9QIM{bottom:-8px;cursor:s-resize}.gridItemDragHandle-bottom__SvMS9QIM.gridItemDragHandle-diagonal__SvMS9QIM{cursor:se-resize}.gridItemDragHandle-left__SvMS9QIM,.gridItemDragHandle-right__SvMS9QIM{top:0;bottom:0;width:16px}.gridItemDragHandle-left__SvMS9QIM{left:-8px;cursor:w-resize}.gridItemDragHandle-left__SvMS9QIM.gridItemDragHandle-diagonal__SvMS9QIM{cursor:nw-resize}.gridItemDragHandle-right__SvMS9QIM{right:-8px;cursor:e-resize}.gridItemDragHandle-right__SvMS9QIM.gridItemDragHandle-diagonal__SvMS9QIM{cursor:se-resize}.dayLabels__SvMS9QIM{display:flex;text-align:center}.dayLabel__SvMS9QIM{height:100%;font-size:10px}.dayLabel-dark__SvMS9QIM{color:hsla(0,0%,100%,.65)}.dayLabel-light__SvMS9QIM{color:rgba(0,0,0,.65)}.dayLabel-uppercase__SvMS9QIM{text-transform:uppercase}.dayLabel-weekend__SvMS9QIM{color:#a4a7b5}.hourLabels__SvMS9QIM{display:flex;flex-direction:column;padding-right:16px}.hourLabel__SvMS9QIM{width:100%;font-size:10px;text-align:right}.hourLabel-dark__SvMS9QIM{color:hsla(0,0%,100%,.65)}.hourLabel-light__SvMS9QIM{color:rgba(0,0,0,.65)}.backgroundSvg__SvMS9QIM{position:absolute;top:0;right:0;bottom:0;left:0;display:block;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.backgroundSvg-dark__SvMS9QIM{color:#3f3f3f}.backgroundSvg-light__SvMS9QIM{color:#d6d9e2}.accessibleTrigger__SvMS9QIM{position:absolute;z-index:0;top:0;left:1px;pointer-events:none}.accessibleTrigger__SvMS9QIM:not(:focus)>*{display:none}.accessibleTrigger__SvMS9QIM:focus{z-index:10;outline:none}.newGridItem__SvMS9QIM,.newGridItemHoverCapture__SvMS9QIM{position:absolute;top:0;right:0;bottom:0;left:0}.newGridItemHoverCapture__SvMS9QIM{z-index:1;cursor:pointer}");var b={wrapper:"wrapper__SvMS9QIM","wrapper-dark":"wrapper-dark__SvMS9QIM","wrapper-light":"wrapper-light__SvMS9QIM",content:"content__SvMS9QIM",grid:"grid__SvMS9QIM",gridItem:"gridItem__SvMS9QIM","gridItem-lowered":"gridItem-lowered__SvMS9QIM","gridItem-raised":"gridItem-raised__SvMS9QIM","gridItem-dragging":"gridItem-dragging__SvMS9QIM",gridItemBlock:"gridItemBlock__SvMS9QIM","gridItemBlock-interactive":"gridItemBlock-interactive__SvMS9QIM",gridItemContent:"gridItemContent__SvMS9QIM","gridItemContent-clipped":"gridItemContent-clipped__SvMS9QIM",gridItemContentIcon:"gridItemContentIcon__SvMS9QIM",gridItemDragHandle:"gridItemDragHandle__SvMS9QIM","gridItemDragHandle-bottom":"gridItemDragHandle-bottom__SvMS9QIM","gridItemDragHandle-top":"gridItemDragHandle-top__SvMS9QIM","gridItemDragHandle-diagonal":"gridItemDragHandle-diagonal__SvMS9QIM","gridItemDragHandle-left":"gridItemDragHandle-left__SvMS9QIM","gridItemDragHandle-right":"gridItemDragHandle-right__SvMS9QIM",dayLabels:"dayLabels__SvMS9QIM",dayLabel:"dayLabel__SvMS9QIM","dayLabel-dark":"dayLabel-dark__SvMS9QIM","dayLabel-light":"dayLabel-light__SvMS9QIM","dayLabel-uppercase":"dayLabel-uppercase__SvMS9QIM","dayLabel-weekend":"dayLabel-weekend__SvMS9QIM",hourLabels:"hourLabels__SvMS9QIM",hourLabel:"hourLabel__SvMS9QIM","hourLabel-dark":"hourLabel-dark__SvMS9QIM","hourLabel-light":"hourLabel-light__SvMS9QIM",backgroundSvg:"backgroundSvg__SvMS9QIM","backgroundSvg-dark":"backgroundSvg-dark__SvMS9QIM","backgroundSvg-light":"backgroundSvg-light__SvMS9QIM",accessibleTrigger:"accessibleTrigger__SvMS9QIM",newGridItem:"newGridItem__SvMS9QIM",newGridItemHoverCapture:"newGridItemHoverCapture__SvMS9QIM"};function v({motif:e,uppercase:t}){const{days:a,columnWidth:r}=Object(c.b)();return n.a.createElement("div",{className:b.dayLabels,style:{height:u.a}},a.map(({value:a,label:i,abbr:l,weekend:d})=>n.a.createElement("div",{className:o()(b.dayLabel,t&&b["dayLabel-uppercase"],b["dayLabel-"+e],d&&b["dayLabel-weekend"]),style:{width:r},key:a},l||i)))}function y({motif:e,...t}){const{gridHeight:a,rowHeight:i,times:l}=Object(c.b)();return n.a.createElement("div",Object.assign({},t,{className:b.hourLabels,style:{width:u.b,paddingTop:u.a-8,height:a}}),l.map(({label:t,hidden:a},l)=>n.a.createElement(r.Fragment,{key:l},!a&&n.a.createElement("div",{className:o()(b.hourLabel,b["hourLabel-"+e]),style:{height:i,flexShrink:0}},t))))}var M=a(2121),_=a(149),w=a(295),O=a.n(w);function S({children:e,color:t,focused:a,height:r,interactive:i,left:l,motif:d,onClick:s,opaque:c,top:u,width:g,zIndex:h}){const{isAccessible:m}=Object(_.c)(),p="light"===d?.2:.6;return n.a.createElement("div",{role:"presentation",onClick:s,className:o()(b.gridItemBlock,i&&b["gridItemBlock-interactive"]),style:{width:g,height:r,top:u,left:l,backgroundColor:c?t:O()(t).alpha(p+(m&&a?.05:0)).css(),borderLeft:c?void 0:"4px solid "+O()(t).alpha(.4).css(),zIndex:h}},e)}var I=({position:e,allowDiagonalDrag:t,onMouseDown:a,onTouchStart:r,...i})=>n.a.createElement("div",Object.assign({className:o()(b.gridItemDragHandle,b["gridItemDragHandle-"+e],t&&b["gridItemDragHandle-diagonal"]),onMouseDown:a,onTouchStart:r},i));var k,D,j=a(2832),x=a(10),E=function(e){function t(t,a){var r=e.call(this,t,a)||this;return r.scheduler=t,r.work=a,r}return x.b(t,e),t.prototype.requestAsyncId=function(t,a,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,a,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,a,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,a,r);0===t.actions.length&&(cancelAnimationFrame(a),t.scheduled=void 0)},t}(a(1150).a),H=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x.b(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,a=this.actions,r=-1,n=a.length;e=e||a.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<n&&(e=a.shift()));if(this.active=!1,t){for(;++r<n&&(e=a.shift());)e.unsubscribe();throw t}},t}(a(1151).a))(E),C=a(839),T=a(2406);function Q({dragThreshold:e=10,getDragType:t,gridRef:a,onDragStart:n,onDragEnd:i,onDragMove:o}){const[l,d]=Object(r.useState)(),[s,c]=Object(r.useState)(),[u,g]=Object(r.useState)(),[h,m]=Object(r.useState)(),p=Object(r.useRef)(void 0),f=Object(r.useRef)(),b=Object(r.useRef)({x:void 0,y:void 0}),v=Object(r.useCallback)(({clientX:e,clientY:t})=>({x:e-((null==u?void 0:u.x)||0),y:t-((null==u?void 0:u.y)||0)}),[u]),y=Object(r.useCallback)((e,t)=>{if(e&&t){const{top:a,left:r}=e,{top:n,left:i}=t,o=a!==n?a-n:0,l=r!==i?r-i:0;(o||l)&&(g(e=>({x:((null==e?void 0:e.x)||0)+l,y:((null==e?void 0:e.y)||0)+o})),m(e=>({x:((null==e?void 0:e.x)||0)-l,y:((null==e?void 0:e.y)||0)-o})))}},[]),M=Object(r.useCallback)(e=>{0===e.button&&(d(k.belowThreshold),c(t(e)),g({x:e.clientX,y:e.clientY}),a.current&&(p.current=Object(j.a)(0,H).pipe(Object(C.a)(e=>{var t;return null===(t=a.current)||void 0===t?void 0:t.getBoundingClientRect()}),Object(T.a)(),Object(C.a)(([e,t])=>{t&&y(t,e)})).subscribe()),e.stopPropagation(),e.preventDefault())},[t,a,y]),_=Object(r.useCallback)(e=>{d(void 0),c(void 0);const t=v(e);i(e,{position:t}),g(void 0),m(void 0),f.current=void 0,p.current&&(p.current.unsubscribe(),p.current=void 0),e.stopPropagation(),e.preventDefault()},[i,v]),w=Object(r.useCallback)(t=>{if(l===k.dragging){const e=v(t);m(e),t.stopPropagation(),t.preventDefault()}else l===k.belowThreshold&&(Math.abs(t.clientX-((null==u?void 0:u.x)||0))>=e||Math.abs(t.clientY-((null==u?void 0:u.y)||0))>=e)&&(d(k.dragging),n&&n(t))},[l,v,null==u?void 0:u.x,null==u?void 0:u.y,e,n]),O=Object(r.useCallback)(e=>{1===e.touches.length&&(d(k.belowThreshold),c(t(e)),g({x:e.touches[0].clientX,y:e.touches[0].clientY}))},[t]),S=Object(r.useCallback)(e=>{d(void 0),c(void 0);const t=b.current;i(e,{position:t}),f.current=void 0,g(void 0),m(void 0)},[i]),I=Object(r.useCallback)(t=>{if(l===k.dragging){const e=v(t.touches[0]);m(e),b.current=e,t.stopImmediatePropagation(),t.cancelable&&t.preventDefault()}else l===k.belowThreshold&&(Math.abs(t.touches[0].clientX-((null==u?void 0:u.x)||0))>=e||Math.abs(t.touches[0].clientY-((null==u?void 0:u.y)||0))>=e)&&(d(k.dragging),n&&n(t))},[l,v,null==u?void 0:u.x,null==u?void 0:u.y,e,n]);return Object(r.useEffect)(()=>{if(l)return document.addEventListener("mousemove",w),document.addEventListener("mouseup",_),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",_)}},[l,w,_]),Object(r.useEffect)(()=>{if(l)return document.addEventListener("touchmove",I,{passive:!1}),document.addEventListener("touchend",S),()=>{document.removeEventListener("touchmove",I),document.removeEventListener("touchend",S)}},[l,I,S]),Object(r.useEffect)(()=>{h&&h!==f.current&&(s&&o(s,h),f.current=h)},[s,o,h,u]),Object(r.useMemo)(()=>({handleMouseDown:M,handleTouchStart:O}),[M,O])}(D=k||(k={}))[D.belowThreshold=-1]="belowThreshold",D[D.dragging=1]="dragging";const L=n.a.memo((function({adjustDragPosition:e,children:t,color:a,forwardedRef:i,getItemLabel:l,gridRef:d,item:s,motif:m,onChange:p,onClick:f,onDragEnd:v,onDragStart:y,onKeyDown:_,roundToMinutes:w,width:O}){const{dayOrder:k,times:D,gridWidth:j,gridHeight:x}=Object(c.b)(),[E,H]=Object(r.useState)(),[C,T]=Object(r.useState)(!1),{isClickAllowed:L,handleDragMove:N,handleMouseDown:G,handleTouchStart:W}=function(){const e=Object(r.useRef)();return Object(r.useMemo)(()=>{const t=()=>{e.current=!0};return{isClickAllowed:()=>!!e.current,handleDragMove:()=>{e.current=!1},handleMouseDown:t,handleTouchStart:t}},[])}(),R=Object(h.i)(s)||M.a.none,A=Object(r.useCallback)(e=>{e.target.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}),T(!0)},[]),P=Object(r.useCallback)(()=>T(!1),[]),z=Object(r.useCallback)(e=>{L()&&f&&f(e,s)},[s,L,f]),X=Object(r.useCallback)(e=>{_&&_(e,s)},[s,_]),B=Object(r.useCallback)((e,{position:t})=>{E&&p(E).catch(()=>{}),v&&v(e,{position:t}),H(void 0)},[E,p,v]),U=Object(r.useCallback)((t,a)=>{N();const r=(({dayOrder:e,dragType:t,gridHeight:a,gridWidth:r,item:n,maxDuration:i,position:o,repeatType:l,roundToMinutes:d=u.e,times:s})=>{const c=r/e.length,g=a/s.length,m=u.d/s.length,{x:p,y:f}=o,b=l===M.a.none,v=l===M.a.none,y=p&&Math.round(p/c)||0,_=f?f/g*m:0,w={...n};switch(t){case"move":{y&&v&&(w.startDaysOfWeek=n.startDaysOfWeek.map(t=>Object(h.a)(t,y,e)));const{startHour:t,startMinute:a}=Object(h.n)({day:n.startDaysOfWeek[0],startHour:n.startHour,startMinute:n.startMinute},_,e),{hour:r,minute:i}=Object(h.p)(60*t+a,d);w.startHour=r,w.startMinute=i;break}case"change-start":{const t=((b?y:0)*u.d+_)%(u.d*e.length),a="none"===l?t%(u.d*e.length):t%u.d,r=w.durationMinutes-a<d?w.durationMinutes-d:a,{day:o,startHour:s,startMinute:c}=Object(h.n)({day:n.startDaysOfWeek[0],startHour:n.startHour,startMinute:n.startMinute},r,e),g=Object(h.b)(n.startDaysOfWeek[0],o,e);g&&l!==M.a.daily&&(w.startDaysOfWeek=n.startDaysOfWeek.map(t=>Object(h.a)(t,g,e)));const{hour:m,minute:f}=Object(h.p)(60*s+c,d);w.startHour=m,w.startMinute=f;const v=Object(h.l)({startHour:w.startHour,startMinute:w.startMinute,day:w.startDaysOfWeek[0]},e),O=Object(h.l)({startHour:n.startHour,startMinute:n.startMinute,day:n.startDaysOfWeek[0]},e),S=Object(h.l)(Object(h.n)({startHour:n.startHour,startMinute:n.startMinute,day:n.startDaysOfWeek[0]},n.durationMinutes,e),e),I=v>S,k=O>S;let D=Object(h.o)({day:o,startHour:w.startHour,startMinute:w.startMinute},{day:n.startDaysOfWeek[0],startHour:n.startHour,startMinute:n.startMinute},e,l===M.a.daily&&g>0||I&&!k);k&&!I&&p&&p>0&&(D-=e.length*u.d),w.durationMinutes=Math.max(d,Math.min(i,n.durationMinutes+D));break}case"change-end":{const e=b?y*u.d:0,{fullMinutes:t}=Object(h.p)(n.durationMinutes+_+e,d);w.durationMinutes=Math.min(i,Math.max(d,t));break}}return w})({dayOrder:k,dragType:t,gridHeight:x,gridWidth:j,item:s,maxDuration:Object(h.h)(s,k),position:a,repeatType:R,roundToMinutes:w,times:D});if(e){const t=e(r);t&&H(t)}else H(r)},[e,k,x,j,N,s,R,w,D]),Y=Object(r.useCallback)(e=>e.currentTarget.getAttribute("data-dragtype"),[]),{handleMouseDown:$,handleTouchStart:F}=Q({gridRef:d,getDragType:Y,onDragStart:y,onDragEnd:B,onDragMove:U}),q=Object(r.useCallback)(e=>{G(),$(e)},[G,$]),K=Object(r.useCallback)(e=>{W(),F(e)},[W,F]),J=E||s,V=Object(h.j)({gridWidth:j,gridHeight:x,dayOrder:k,item:J,width:O});return V?n.a.createElement("div",{className:o()(b.gridItem,E&&b["gridItem-dragging"]),tabIndex:0,onFocus:A,onBlur:P,onKeyDown:X,onMouseDown:q,onTouchStart:K,ref:i,role:_?"button":"presentation","data-dragtype":"move"},V.map((e,r)=>{var i,d;return n.a.createElement(S,Object.assign({key:r,color:a||g.a.motifs[m].focus,focused:C,onClick:z,interactive:!0,motif:m},e),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:o()(b.gridItemContent,"string"==typeof t&&b["gridItemContent-clipped"]),title:"string"==typeof t?t:void 0},l?l({item:J,block:e}):J.name),(null===(i=e.draggable)||void 0===i?void 0:i.includes("change-start"))&&n.a.createElement(n.a.Fragment,null,n.a.createElement(I,{position:"top",allowDiagonalDrag:R===M.a.none,onMouseDown:$,onTouchStart:F,"data-dragtype":"change-start"}),R===M.a.none&&n.a.createElement(I,{position:"left",allowDiagonalDrag:!0,onMouseDown:$,onTouchStart:F,"data-dragtype":"change-start"})),(null===(d=e.draggable)||void 0===d?void 0:d.includes("change-end"))&&n.a.createElement(n.a.Fragment,null,n.a.createElement(I,{position:"bottom",allowDiagonalDrag:R===M.a.none,onMouseDown:$,onTouchStart:F,"data-dragtype":"change-end"}),R===M.a.none&&n.a.createElement(I,{position:"right",allowDiagonalDrag:!0,onMouseDown:$,onTouchStart:F,"data-dragtype":"change-end"}))))})):null}));var N=n.a.forwardRef((e,t)=>n.a.createElement(L,Object.assign({forwardedRef:t},e))),G=n.a.memo((function({children:e,color:t,getItemLabel:a,item:r,motif:i,width:l}){const{dayOrder:d,gridWidth:s,gridHeight:u}=Object(c.b)(),m=Object(h.j)({gridWidth:s,gridHeight:u,dayOrder:d,item:r,width:l});return m?n.a.createElement("div",{className:b.gridItem,role:"presentation"},m.map((l,d)=>n.a.createElement(S,Object.assign({key:d,color:t||g.a.motifs[i].focus,motif:i},l),n.a.createElement("div",{className:o()(b.gridItemContent,"string"==typeof e&&b["gridItemContent-clipped"]),title:"string"==typeof e?e:void 0},a?a({item:r,block:l}):r.name)))):null})),W=a(2276);function R({color:e,width:t,height:a,children:r,top:i,left:l,lowered:d,motif:s,opaque:c,raised:u}){return n.a.createElement("div",{className:o()(b.gridItem,d&&b["gridItem-lowered"],u&&b["gridItem-raised"])},n.a.createElement(S,{color:e,width:t,height:a,top:i,left:l,motif:s,opaque:c,start:!0}),n.a.createElement("div",{className:b.gridItemContent,style:{top:i,left:l,width:t,height:a}},r))}function A({children:e,width:t,height:a,onTrigger:i,forwardedRef:l}){const d=Object(r.useCallback)(e=>{"Enter"===e.key&&(e.stopPropagation(),i(e))},[i]);return n.a.createElement("div",{className:o()(b.accessibleTrigger),style:{width:t,height:a},tabIndex:0,onKeyDown:d,ref:l},e)}var P=n.a.forwardRef((e,t)=>n.a.createElement(A,Object.assign({forwardedRef:t},e))),z=({adjustDragPosition:e,getItemLabel:t,gridRef:a,isHoverAllowed:i,isItemBeingEdited:o,itemColor:l,motif:d,roundToMinutes:s,setItemBeingEdited:m})=>{const p=Object(r.useRef)(null),f=Object(r.useRef)(null),{isAccessible:v,updateFocusType:y}=Object(_.c)(),{columnWidth:w,rowHeight:O,dayOrder:S,gridWidth:I,gridHeight:k,times:D}=Object(c.b)(),[j,x]=Object(r.useState)(),[E,H]=Object(r.useState)(),C=u.d/D.length,T=Object(r.useCallback)((e,t)=>{if(f.current){const{top:a,left:r}=f.current.getBoundingClientRect(),{clientX:n,clientY:i}="touches"in e?e.touches[0]:e,o=n-r,l=i-a,{day:d,minutes:s}=Object(h.e)({gridWidth:I,gridHeight:k,dayOrder:S,x:o,y:l});return{...Object(h.p)(s,t),day:d}}},[S,k,I]),L=Object(r.useCallback)(()=>{H(void 0)},[]),N=Object(r.useCallback)(()=>{m({startDaysOfWeek:[S[0]],startHour:0,startMinute:0,durationMinutes:C,repeatType:M.a.none})},[m,S,C]),A=Object(r.useCallback)(()=>"change-end",[]),z=Object(r.useCallback)(e=>{const t=T(e,C);H(void 0),x({startDaysOfWeek:(null==t?void 0:t.day)?[t.day]:[],startHour:(null==t?void 0:t.hour)||0,startMinute:(null==t?void 0:t.minute)||0,durationMinutes:C,repeatType:M.a.none})},[T,C]),X=Object(r.useCallback)((t,a)=>{const{x:r,y:n}=a,i=r?Math.floor(Math.max(r,0)/(I/S.length)):0,o=n?Math.round(n/(k/u.d)):0,l=i*u.d+o,{fullMinutes:d}=Object(h.p)(Math.max(s,l+C),s);if(j){const t={...j,durationMinutes:Math.min(S.length*u.d,Math.max(s,d))};if(e){const a=e(t);a&&x(a)}else x(t)}},[e,S.length,j,k,I,C,s]),B=Object(r.useCallback)(()=>{j&&m(j),x(void 0)},[j,m]),{handleMouseDown:U,handleTouchStart:Y}=Q({dragThreshold:0,getDragType:A,gridRef:a,onDragStart:z,onDragEnd:B,onDragMove:X});return o?null:n.a.createElement("div",{ref:f,className:b.newGridItem},n.a.createElement(P,{width:w,height:O,onTrigger:N,ref:p},n.a.createElement(R,{color:g.a.motifs[d].uBlue06,height:O,left:0,motif:d,opaque:!0,raised:!0,top:0,width:w},n.a.createElement("div",{className:b.gridItemContentIcon},n.a.createElement(W.a,{size:"medium"})))),i&&E&&!v&&!j&&n.a.createElement(R,{color:g.a.motifs[d].uBlue06,height:E.height,left:E.left,lowered:!0,motif:d,opaque:!0,top:E.top,width:E.width},n.a.createElement("div",{className:b.gridItemContentIcon},n.a.createElement(W.a,{size:"medium"}))),j&&n.a.createElement(G,{color:l||g.a.motifs[d].focus,item:j,motif:d},t?t({item:j}):j.name),n.a.createElement("div",{className:b.newGridItemHoverCapture,onMouseMove:e=>{if(f.current){const t=T(e,C);if(t){const{hour:e,minute:a,day:r}=t,n=Object(h.d)({gridWidth:I,gridHeight:k,dayOrder:S,day:r,hour:e,minute:a,durationMinutes:C});E&&E.top===n.top&&E.left===n.left&&E.width===n.width&&E.height===n.height||H({...n,day:r,hour:e,minute:a})}}p.current&&p.current.blur(),v&&y("mouse")},onMouseOut:L,onMouseDown:U,onTouchStart:Y,onClick:()=>{m({startDaysOfWeek:(null==E?void 0:E.day)?[E.day]:[],startHour:(null==E?void 0:E.hour)||0,startMinute:(null==E?void 0:E.minute)||0,durationMinutes:C,repeatType:M.a.none}),H(void 0)}}))};function X({adjustDragPosition:e,dayLabelsUppercase:t,days:a,getItemColor:i,getItemLabel:d,height:g,hideGridLines:h,items:m,itemWidths:p,motif:M,onChange:_,onRemove:w,readOnly:O,renderPopup:S,roundToMinutes:I=u.e,stepsPerRow:k=4,style:D,times:j,width:x,...E}){const H=Object(r.useRef)(null),C=Object(r.useRef)(null),[T,Q]=Object(r.useState)(!1),[L,W]=Object(r.useState)(),{motif:R}=Object(l.a)(),A=M||R,P=x?x-u.b:65*a.length,X=g?g-u.a:Math.max(35*(j.length-1),window.innerHeight-(u.a+80)),B=Object(r.useMemo)(()=>a.map(({value:e})=>e),[a]),U=Object(r.useCallback)(()=>{var e;H&&(null===(e=H.current)||void 0===e||e.focus()),W(void 0)},[]),Y=Object(r.useCallback)(e=>_({action:void 0===e.id?"create":"update",item:e}).then(e=>(U(),e)),[U,_]),$=Object(r.useCallback)(e=>w?w(e).then(()=>{U()}):Promise.reject(new Error("There was a problem removing this event.")),[U,w]),F=Object(r.useCallback)((e,t)=>{T||W(t)},[T]),q=Object(r.useCallback)((e,t)=>{"Enter"===e.key&&(e.stopPropagation(),W(t))},[]),K=Object(r.useCallback)(()=>{Q(!0)},[Q]),J=Object(r.useCallback)(()=>{Q(!1)},[Q]);return n.a.createElement(c.a,{gridWidth:P,gridHeight:X,dayOrder:B,days:a,times:j},n.a.createElement("div",Object.assign({className:o()(b.wrapper,b["wrapper-"+A]),style:{width:P+u.b,...D},ref:C},E),n.a.createElement(y,{motif:A}),n.a.createElement("div",{className:b.content},n.a.createElement(v,{motif:A,uppercase:t}),n.a.createElement("div",{className:b.grid,style:{width:P,height:X}},n.a.createElement("svg",{className:o()(b.backgroundSvg,b["backgroundSvg-"+A]),viewBox:`0 0 ${P} ${X}`},n.a.createElement(f,{motif:A,hideGridLines:h,stepsPerRow:k})),!O&&n.a.createElement(z,{adjustDragPosition:e,getItemLabel:d,gridRef:C,isHoverAllowed:!T,isItemBeingEdited:!!L,itemColor:i?i(void 0,m.length):void 0,setItemBeingEdited:W,roundToMinutes:I,motif:A}),m&&m.map((t,a)=>O?n.a.createElement(G,{item:t,color:i&&i(t,a)||t.color,getItemLabel:d,motif:A,key:t.id,width:p?p[t.id]:void 0}):n.a.createElement(N,{adjustDragPosition:e,color:i&&i(t,a)||t.color,getItemLabel:d,gridRef:C,item:t,key:t.id,motif:A,onChange:Y,onClick:F,onDragEnd:J,onDragStart:K,onKeyDown:q,ref:a===m.length-1?H:void 0,roundToMinutes:I,width:p?p[t.id]:void 0})),L&&void 0===L.id&&n.a.createElement(G,{item:L,color:i&&i(L,m.length)||L.color,motif:A},d?d({item:L}):L.name))),L&&s.a.createPortal(S({item:L,onChange:Y,onClose:U,onRemove:w?$:void 0}),document.body)))}},2906:function(e,t,a){"use strict";var r=a(0),n=a.n(r),i=a(7),o=a.n(i),l=a(40),d=a(49),s=a(219),c=a(1146),u=a(1973),g=a(1974),h=a(2045),m=a(2121),p=a(2065),f=a(2092),b=a(1836),v=a(25);Object(v.a)(".wrapper__xUIXOAwD{width:420px;border-radius:8px}.wrapper-dark__xUIXOAwD{color:hsla(0,0%,100%,.85);background-color:#232323}.wrapper-light__xUIXOAwD{color:rgba(0,0,0,.85);background-color:#fff}.title__xUIXOAwD{width:100%;font-size:20px;text-align:center;font-weight:700;padding-bottom:10px;padding-top:20px}.section__xUIXOAwD{padding:32px 40px 0}.inputGroup__xUIXOAwD{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin-bottom:24px}.inputGroupChild__xUIXOAwD{display:flex;flex:1}.inputGroupChild-spaceAfter__xUIXOAwD{margin-right:20px}.inputGroup-daysOfWeek__xUIXOAwD{justify-content:flex-start;margin-top:4px}.inputGroupTogglebox__xUIXOAwD{margin-right:4px;margin-top:4px}.noWrap__xUIXOAwD{white-space:nowrap}");var y={wrapper:"wrapper__xUIXOAwD","wrapper-dark":"wrapper-dark__xUIXOAwD","wrapper-light":"wrapper-light__xUIXOAwD",title:"title__xUIXOAwD",section:"section__xUIXOAwD",inputGroup:"inputGroup__xUIXOAwD",inputGroupChild:"inputGroupChild__xUIXOAwD","inputGroupChild-spaceAfter":"inputGroupChild-spaceAfter__xUIXOAwD","inputGroup-daysOfWeek":"inputGroup-daysOfWeek__xUIXOAwD",inputGroupTogglebox:"inputGroupTogglebox__xUIXOAwD",noWrap:"noWrap__xUIXOAwD"};const M={position:"fixed",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",zIndex:10};t.a=({dayOrder:e,days:t,disableAutoFocus:a,dropdownTimesPerHour:i=4,item:v,labels:_={},motif:w,onChange:O,onClose:S,onRemove:I,style:k,title:D,use24HourTime:j})=>{const x=Object(r.useRef)(null),[E,H]=Object(r.useState)(!1),[C,T]=Object(r.useState)(!1),[Q,L]=Object(r.useState)(void 0),{dayOrder:N,days:G}=Object(h.b)(),W=e||N,R=t||G,{motif:A}=Object(l.a)(),P=w||A,z=Object(r.useMemo)(()=>Object(f.m)(i,j),[i,j]),X=e=>{const{startTime:t,endTime:a,startDay:r,endDay:n,allDay:i}=e;if(i)return r!==n;if(void 0!==t&&void 0!==a){if(r===n&&a<t)return!0;if(r&&n){const e=t?Math.floor(t/60):0,i=t?t%60:0,o=a?Math.floor(a/60):0;return Object(f.o)({day:r,startHour:e,startMinute:i},{day:n,startHour:o,startMinute:a?a%60:0},W,!0)>p.d}}return!1},B=e=>{const t=(e=>{const{startDay:t,startDaysOfWeek:a}=e;return a?Object(f.q)(a,W):[t]})(e);return t.length===W.length?m.a.daily:t.length>1?m.a.weekly:1===t.length&&X(e)?m.a.none:void 0},U=e=>{if(X(e))return m.a.none},[Y,$]=Object(r.useState)((e=>{const{id:t,name:a,startDaysOfWeek:r,startHour:n,startMinute:i,durationMinutes:o,color:l}=e,d=Object(f.i)(e,W),s=r?r[0]:void 0,c=Object(f.g)(e),u=0===c&&!(o%p.d),g=s&&void 0!==n&&void 0!==i?Object(f.n)({day:s,startHour:n,startMinute:i},o,W):void 0,h=null==g?void 0:g.day,m=g&&Object(f.g)(g);return{id:t,name:a||"",startDay:s,endDay:u&&h?Object(f.a)(h,-1,W):h,startDaysOfWeek:r,startTime:c,endTime:m,allDay:u,repeatType:d,color:l}})(v)),F=(e=>{const{id:t,name:a,startDay:r,endDay:n,startDaysOfWeek:i,startTime:o,endTime:l,allDay:d,color:s}=e,c=o?Math.floor(o/60):0,u=o?o%60:0,g=l?Math.floor(l/60):0,h=l?l%60:0,b=i?Object(f.q)(i,W):[r],v=B(e),y=b[0];let M,_=n||y;return v!==m.a.weekly&&v!==m.a.daily||(_=void 0!==l&&void 0!==o&&l<=o?Object(f.a)(y,1,W):y),M=d?p.d*(Object(f.b)(y,_,W,!0)+1):v===m.a.none&&y===_&&o===l?p.d*W.length:y&&void 0!==c&&void 0!==u&&void 0!==g&&void 0!==h?Object(f.o)({day:y,startHour:c,startMinute:u},{day:_,startHour:g,startMinute:h},W,!0):0,v!==m.a.weekly&&v!==m.a.daily||(M=Math.min(M,p.d)),{id:t,name:a,startDaysOfWeek:b,startHour:d||!o?0:Math.floor(o/60),startMinute:d||!o?0:o%60,durationMinutes:M,color:s,repeatType:v}})(Y),q=(e,t)=>{const a={[e]:t},r={...Y,...a};"startDay"===e&&(r.startDaysOfWeek=[t]),$({...r,repeatType:["startDay","endDay","startTime","endTime"].includes(e)?U(r):B(r)})};return Object(r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&S&&S()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),Object(r.useEffect)(()=>{var e;x&&!a&&(null===(e=x.current)||void 0===e||e.focus())},[a]),n.a.createElement("div",{style:{...M,...k}},n.a.createElement("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),H(!0),L(void 0),O(F).catch(e=>{L(e.message),H(!1)})}},n.a.createElement("div",{className:o()(y.wrapper,y["wrapper-"+P])},D&&n.a.createElement("div",{className:y.title},D),n.a.createElement("div",{className:y.section},n.a.createElement("div",{className:y.inputGroup},n.a.createElement(s.a,{motif:P,label:_.name||"Name",name:"name",value:Y.name,onChange:(e,t)=>{$({...Y,[e.target.name]:t})},ref:x})),n.a.createElement("div",{className:y.inputGroup},n.a.createElement("div",{className:o()(y.inputGroupChild,y["inputGroupChild-spaceAfter"])},n.a.createElement(c.a,{motif:P,label:_.startDay||"Start day",options:R,value:Y.startDay,onChange:(e,t)=>q("startDay",t),width:160,disabled:Y.repeatType&&Y.repeatType!==m.a.none})),n.a.createElement("div",{className:y.inputGroupChild},n.a.createElement(c.a,{motif:P,label:_.endDay||"End day",options:R,value:Y.endDay,onChange:(e,t)=>q("endDay",t),width:160,disabled:Y.repeatType&&Y.repeatType!==m.a.none}))),n.a.createElement("div",{className:y.inputGroup},n.a.createElement("div",{className:o()(y.inputGroupChild,y["inputGroupChild-spaceAfter"])},n.a.createElement(c.a,{motif:P,label:_.startTime||"Start time",options:z,value:Y.startTime,onChange:(e,t)=>q("startTime",t),width:106,disabled:Y.allDay})),n.a.createElement("div",{className:o()(y.inputGroupChild,y["inputGroupChild-spaceAfter"])},n.a.createElement(c.a,{motif:P,label:_.endTime||"End time",options:z,value:Y.endTime,onChange:(e,t)=>q("endTime",t),width:106,disabled:Y.allDay})),n.a.createElement("div",{className:y.inputGroupChild},n.a.createElement(b.a,{motif:P,type:"checkbox",id:"schedulerTwoPopoverAllDay_"+(void 0===v.id?"newItem":v.id),checked:Y.allDay,onChange:()=>((e,t)=>{const a={...Y,[e]:t};$({...a,repeatType:["allDay"].includes(e)?U(a):B(a)})})("allDay",!Y.allDay),name:"allDay"},n.a.createElement("div",{className:y.noWrap},_.allDay||"All day")))),n.a.createElement("div",null,F.repeatType!==m.a.none&&n.a.createElement(d.a,{motif:P},_.repeatsWeeklyOnEvery||"Repeats every week on:"),F.repeatType===m.a.none&&n.a.createElement(d.a,{motif:P},_.repeatDisabled||"Events longer than 24 hours cannot repeat."),n.a.createElement("div",{className:o()(y.inputGroup,y["inputGroup-daysOfWeek"])},R.map(({label:e,value:t})=>{var a;const r=null===(a=Y.startDaysOfWeek)||void 0===a?void 0:a.includes(t);return n.a.createElement(b.a,{disabled:F.repeatType===m.a.none,labelClassName:y.inputGroupTogglebox,motif:P,type:"checkbox",id:`schedulerTwoDayOfWeek${t}_${void 0===v.id?"newItem":v.id}`,checked:r,onChange:()=>((e,t)=>{let a=[];t?a=Y.startDaysOfWeek?[...Y.startDaysOfWeek,e]:[e]:(Y.startDaysOfWeek&&(a=Y.startDaysOfWeek.filter(t=>t!==e)),0===a.length&&(a=[e]));const r={...Y,startDaysOfWeek:a,...1===a.length?{startDay:a[0],endDay:Y.endDay&&Y.startDay?Object(f.a)(Y.endDay,Object(f.b)(Y.startDay,a[0],W),W):a[0]}:{}};$({...r,repeatType:B(r)})})(t,!r),name:"allDay",toggleBoxVariant:"secondary",key:t},e[0])}))),Q&&n.a.createElement(d.a,{color:"danger"},Q)),n.a.createElement(u.a,null,I&&void 0!==v.id&&n.a.createElement(g.a,{onClick:()=>{void 0!==v.id&&I&&(T(!0),L(void 0),I(v.id).catch(e=>{L(e.message),T(!1)}))},type:"button",motif:P,variant:"tertiary",loader:C?"spinner":void 0},_.buttonRemove||"Remove"),n.a.createElement(g.a,{onClick:S,type:"button",motif:P,variant:"tertiary"},_.buttonCancel||"Cancel"),n.a.createElement(g.a,{type:"submit",motif:P,variant:"primary",loader:E?"spinner":void 0},_.buttonSave||"Save")))))}}}]);