(window.webpackJsonpunifiNetworkUi=window.webpackJsonpunifiNetworkUi||[]).push([[8],{1791:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),l=a(8),_=a(6),i=a(28),E=a(391),o=a(64),T=a(2),s=a(2145);const d={};t.default=()=>{const{id:e}=Object(c.m)(),t=Object(l.useSelector)(E.selectPortForwardData).find(t=>t._id===e),a=Object(o.g)();return Object(o.e)([Object(E.fetchPortForwardRules)(void 0,{crudCacheStrategy:{type:T.a.CACHE}}),Object(_.fetchSiteGateway)(),Object(i.fetchNetworks)(void 0,{crudCacheStrategy:{type:T.a.CACHE}})],r.a.createElement(s.a,{initialValues:t||d,onBack:a}))}},1792:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),l=a(8),_=a(393),i=a(28),E=a(64),o=a(2),T=a(2146);const s={};t.default=()=>{const{id:e}=Object(c.m)(),t=Object(l.useSelector)(_.selectRoutingData).find(t=>t._id===e),a=Object(E.g)();return Object(E.e)([Object(_.fetchRouting)(void 0,{crudCacheStrategy:{type:o.a.CACHE}}),Object(i.fetchNetworks)(void 0,{crudCacheStrategy:{type:o.a.CACHE}})],r.a.createElement(T.a,{initialValues:t||s,onBack:a}))}},1793:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),l=a(8),_=a(399),i=a(64),E=a(2),o=a(2147);const T={};t.default=()=>{const{id:e}=Object(c.m)(),t=Object(l.useSelector)(_.selectDynamicDnsData).find(t=>t._id===e),a=Object(i.g)();return Object(i.e)([Object(_.fetchDynamicDns)({crudCacheStrategy:{type:E.a.CACHE}})],r.a.createElement(o.a,{initialValues:t||T,onBack:a}))}},1795:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(64),l=a(2),_=a(42),i=a(97),E=a(391),o=a(393),T=a(804),s=a(399),d=a(28),u=a(1950),N=a(95),m=a(8),R=a(31),b=a(1972),A=a(2290),S=a(2038),O=a(4),I=a(5),p=a(6),h=a(13),G=a(1945),g=a(1952),C=a(468),f=a(805),D=a(2495),y=a(2496),W=a(2497);const L=Object(I.c)(N.n)`
  min-width: 480px;
`,j=I.a`
  padding-bottom: 0;
  width: 100%;
`,w=Object(I.c)("div")`
  padding: 0 ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px;
`;var V=Object(O.f)(({intl:e,onBack:t})=>{const a=Object(m.useDispatch)(),l=Object(m.useSelector)(E.selectPortForwardData),_=Object(m.useSelector)(o.selectRoutingData),i=Object(m.useSelector)(s.selectDynamicDnsData),T=Object(m.useSelector)(d.selectNetworksData),I=Object(m.useSelector)(p.selectHasEduAp),V=Object(c.h)("advanced/gateway"),v=Object(R.k)(),{[f.a.SETTINGS_PORT_FWD]:F={sortBy:"port-fwd-name",isAscending:!0},[f.a.SETTINGS_STATIC_ROUTES]:M={sortBy:"static-route-name",isAscending:!0},[f.a.SETTINGS_DYNAMIC_DNS]:P={sortBy:"dynamic-dns-service",isAscending:!0}}=Object(m.useSelector)(h.I),x=Object(n.useMemo)(()=>{const t=(e,t,n)=>{a(Object(h.P)(e,{sortBy:t.id,isAscending:n}))};return[{name:"open-port-forwarding-form",title:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARDING",buttonText:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARDING_BUTTON",route:"portfwd/form",children:l.length?r.a.createElement(b.a,{idField:"_id",onSort:(e,a)=>t(f.a.SETTINGS_PORT_FWD,e,a),initialSortBy:F.sortBy,initiallySortAscending:F.isAscending,columns:Object(D.getPortForwardTableColumns)(),items:l,disableColumnFilters:!0,onRowClick:({_id:e})=>v.push(`${V}/portfwd/form/${e}`),disableTextPointer:!0,disableSelection:!0}):null},{name:"open-static-routes-form",title:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES",buttonText:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_BUTTON",route:"static-route/form",children:_.length?r.a.createElement(b.a,{idField:"_id",onSort:(e,a)=>t(f.a.SETTINGS_STATIC_ROUTES,e,a),initialSortBy:M.sortBy,initiallySortAscending:M.isAscending,columns:Object(y.getStaticRoutesTableColumns)(e,T),items:_,onRowClick:({_id:e})=>v.push(`${V}/static-route/form/${e}`),disableColumnFilters:!0,disableTextPointer:!0,disableSelection:!0}):null},{name:"open-dynamic-dns-form",title:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS",buttonText:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS_BUTTON",route:"dyndns/form",children:i.length?r.a.createElement(b.a,{idField:"_id",onSort:(e,a)=>t(f.a.SETTINGS_DYNAMIC_DNS,e,a),initialSortBy:P.sortBy,initiallySortAscending:P.isAscending,columns:W.dynamicDnsTableColumns,items:i,onRowClick:({_id:e})=>v.push(`${V}/dyndns/form/${e}`),disableColumnFilters:!0,disableTextPointer:!0,disableSelection:!0}):null},{name:"open-dhcp-form",title:"SETTINGS_GATEWAY_SUB_NAME_DHCP",clickable:!0,route:"dhcp/form"},{name:"open-mdns-form",title:"SETTINGS_INTERNET_GENERAL_ADV_GW_MDNS",clickable:!0,route:"mdns/form"},I&&{name:"open-sip-form",title:"SETTINGS_INTERNET_GENERAL_ADV_GW_SIP",clickable:!0,route:"sip/form"},{name:"open-upnp-form",title:"SETTINGS_INTERNET_GENERAL_ADV_GW_UPNP",clickable:!0,route:"upnp/form"},{name:"open-snmp-form",title:"SETTINGS_INTERNET_GENERAL_ADV_GW_SNMP",clickable:!0,route:"snmp/form"}].filter(e=>!!e)},[l,F.sortBy,F.isAscending,a,_,M.sortBy,M.isAscending,T,e,i,P.sortBy,P.isAscending,I,v,V]),k=e=>e?r.a.createElement(O.c,{id:"success"===e?"COMMON_ENABLED":"SETTINGS_COMMON_NOT_ENABLED"}):null;return r.a.createElement(N.g,{flexDirection:"column",width:"100%",height:"100%"},r.a.createElement(G.a,{title:{component:r.a.createElement(O.c,{id:"SETTINGS_INTERNET_GENERAL_WAN_GW_SETTINGS_HEADING"}),message:"SETTINGS_INTERNET_GENERAL_ADV_GW_MESSAGE"},onEscClicked:t,hideClose:!0,showBack:!0,goBack:t}),r.a.createElement(g.a,null,r.a.createElement(w,null,x.map(({clickable:e,title:t,status:a,name:n,route:c,children:l,buttonText:_})=>{const i=e?A.a:S.a;return r.a.createElement(L,{padding:"none",key:n},r.a.createElement(i,{headerTitle:r.a.createElement(u.b,{label:r.a.createElement(O.c,{id:t}),type:a?u.c.STATUS:u.c.BASIC,status:a}),headerButton:r.a.createElement(C.a,null,_?r.a.createElement(u.g,{name:n,onClick:()=>c&&v.push(`${V}/${c}`)},r.a.createElement(O.c,{id:_})):r.a.createElement(u.a,null,k(a))),headerContentClassName:j,onClick:e?()=>c&&v.push(`${V}/${c}`):void 0},l))}))))});var v=()=>{const e=Object(c.g)();return r.a.createElement(V,{onBack:e})};t.default=()=>Object(c.e)([Object(_.fetchSettings)({type:l.a.CACHE}),Object(i.a)(void 0,{crudCacheStrategy:{type:l.a.CACHE}}),Object(E.fetchPortForwardRules)(void 0,{crudCacheStrategy:{type:l.a.CACHE}}),Object(o.fetchRouting)(void 0,{crudCacheStrategy:{type:l.a.CACHE}}),Object(T.fetchDhcpOptions)({crudCacheStrategy:{type:l.a.CACHE}}),Object(s.fetchDynamicDns)({crudCacheStrategy:{type:l.a.CACHE}}),Object(d.fetchNetworks)(void 0,{crudCacheStrategy:{type:l.a.CACHE}})],r.a.createElement(N.j,null,r.a.createElement(u.e,{scrollable:!0,noPadding:!0},r.a.createElement(v,null))))},1946:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return c})),a.d(t,"m",(function(){return s})),a.d(t,"k",(function(){return d})),a.d(t,"h",(function(){return u})),a.d(t,"g",(function(){return N})),a.d(t,"j",(function(){return m})),a.d(t,"f",(function(){return R})),a.d(t,"i",(function(){return b})),a.d(t,"l",(function(){return A})),a.d(t,"d",(function(){return O})),a.d(t,"e",(function(){return I})),a.d(t,"n",(function(){return h})),a.d(t,"o",(function(){return G})),a.d(t,"c",(function(){return g})),a.d(t,"p",(function(){return f})),a.d(t,"q",(function(){return D}));var n=a(112);const r=e=>(t,a,r,c)=>Object(n.d)(e(r,t),e(c,a)),c=e=>t=>{const a=(e=>t=>e.formatMessage({id:t}))(e);return(e,n,r,c)=>{const[l,_]=[t(e,r),t(n,c)].map(a);return l.localeCompare(_)}};var l=a(16),_=a(133),i=a(6),E=a(138),o=a(76);const T={ugw:1,usw:2,uap:3},s=(e,t,a,r)=>{const c=i.DEVICE_STATE_IMPORTANCE[Object(i.getDeviceState)(a)],l=i.DEVICE_STATE_IMPORTANCE[Object(i.getDeviceState)(r)];if(c===l){if(a.adopted===r.adopted){if(a.type!==r.type)return((e,t)=>{const a=e.type,r=t.type;return a===r?Object(n.d)(Object(o.a)(e),Object(o.a)(t)):Object(n.d)(T[a],T[r])})(a,r);const e=a.originalName,t=r.originalName;return e&&t?Object(n.d)(e,t):e?-1:t?1:Object(n.d)(a.modelName,r.modelName)}return Object(n.d)(a.adopted?1:2,r.adopted?1:2)}return Object(n.d)(c,l)},d=(e,t,a,r)=>Object(n.d)(Object(o.a)(a),Object(o.a)(r)),u=(e,t,a,r)=>{const c=Object(E.d)(Object(i.getDeviceIp)(a))||0,l=Object(E.d)(Object(i.getDeviceIp)(r))||0;return Object(n.d)(c,l)},N=(e,t,a,r)=>{const{averageSatisfaction:c}=a.satisfactionByRadio,{averageSatisfaction:l}=r.satisfactionByRadio;let _=Object(i.getDeviceExperience)(a),E=Object(i.getDeviceExperience)(r);return a.type===i.DeviceType.AP&&c<0&&(_=-.5),r.type===i.DeviceType.AP&&l<0&&(E=-.5),Object(n.d)(_,E)},m=(e,t,a,r)=>{const c=Object(i.getDeviceMemoryUsage)(a)||0,l=Object(i.getDeviceMemoryUsage)(r)||0;return Object(n.d)(c,l)},R=(e,t,a,r)=>{const c=parseFloat(Object(l.a)(a,"system-stats.cpu",0)),_=parseFloat(Object(l.a)(r,"system-stats.cpu",0));return Object(n.d)(c,_)},b=(e,t,a,r)=>{const c=parseFloat(Object(l.a)(a,"sys_stats.loadavg_1",-1)),_=parseFloat(Object(l.a)(r,"sys_stats.loadavg_1",-1));return Object(n.d)(c,_)},A=(e,t,a)=>{const r=Object(i.getRadioByType)(e,a),c=Object(i.getRadioByType)(t,a),l=r?Object(i.getRadioStatsByName)(e,r.name):null,_=c?Object(i.getRadioStatsByName)(t,c.name):null;if(r&&c&&l&&_){let a,E;const o=(e,t)=>e&&t?Object(n.d)(e,t):(e?-1:t&&1)||0;return a=("auto"===r.channel?0:r.channel)||0,E=("auto"===c.channel?0:c.channel)||0,o(a,E)?o(a,E):(a=Object(i.getRadioStatsBindedChannel)(e,l)||r.channel||0,E=Object(i.getRadioStatsBindedChannel)(t,_)||c.channel||0,o(a,E)?o(a,E):(a=parseInt(Object(i.getRadioHt)(r),10),E=parseInt(Object(i.getRadioHt)(c),10),o(a,E)?o(a,E):(a=Object(i.getRadioStatsPrimaryChannel)(l)||r.channel||0,E=Object(i.getRadioStatsPrimaryChannel)(_)||r.channel||0,o(a,E)?o(a,E):(a=Object(i.getRadioStatsTransmitPower)(l),E=Object(i.getRadioStatsTransmitPower)(_),o(a,E)?o(a,E):0))))}if(r&&c){if(l)return 1;if(_)return-1}return r?1:c?-1:0},S=(e,t)=>{if(!e.radio_table_stats)return-1;return Object(i.getRadioStatsByType)(e,t).reduce((e,t)=>e+t.num_sta||0,0)},O=(e,t,a,r)=>{const c=S(a,_.b.NG),l=S(r,_.b.NG);return Object(n.d)(c,l)},I=(e,t,a,r)=>{const c=S(a,_.b.NA),l=S(r,_.b.NA);return Object(n.d)(c,l)},p=(e,t)=>{const a=Object(i.getRadioStatsByType)(e,t);return a.length?a.reduce((e,t)=>e+(t.ast_be_xmit||0)+(t.tx_packets||0),0):-1},h=(e,t,a,r)=>{const c=p(a,_.b.NG),l=p(r,_.b.NG);return Object(n.d)(c,l)},G=(e,t,a,r)=>{const c=p(a,_.b.NA),l=p(r,_.b.NA);return Object(n.d)(c,l)},g=(e,t,a,r)=>{const c=Object(i.getChannelValue)(a),l=Object(i.getChannelValue)(r);return Object(n.d)(c,l)},C=(e,t)=>Object(i.getRadioStatsByType)(e,t).reduce((e,t)=>e+t.cu_total||0,0),f=(e,t,a,r)=>{const c=C(a,_.b.NG),l=C(r,_.b.NG);return Object(n.d)(c,l)},D=(e,t,a,r)=>{const c=C(a,_.b.NA),l=C(r,_.b.NA);return Object(n.d)(c,l)}},1956:function(e,t,a){(t=a(290)(!1)).push([e.i,"._2CK7bYrzA61VHROCpc-Pto{color:var(--status-text-color);display:inline-block;font-size:10px;text-transform:uppercase}._2SLoFfvH9hW4rKKuaiBtO3{color:#39cc64}.Kmd1jQ00VlOZksCfvtOd7{color:#f5a623}._1n1-pNdSId4IXjH2NBBqQK{color:#f03a3e}._2TJXw0jvp8-Udl2edpOPsF{color:#006fff}.CwnkZfqYILIlAcLwGpeP6{color:#c2c4ce}",""]),t.locals={ubntStatusText:"_2CK7bYrzA61VHROCpc-Pto","ubntStatusText--success":"_2SLoFfvH9hW4rKKuaiBtO3","ubntStatusText--warning":"Kmd1jQ00VlOZksCfvtOd7","ubntStatusText--danger":"_1n1-pNdSId4IXjH2NBBqQK","ubntStatusText--primary":"_2TJXw0jvp8-Udl2edpOPsF","ubntStatusText--neutral":"CwnkZfqYILIlAcLwGpeP6"},e.exports=t},1972:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(7),l=a.n(c),_=a(1752),i=a(73),E=a(795),o=a(27),T=a(796),s=a(688),d=a(231),u=a(112),N=a(798),m=a(794),R=a(390),b=a(797);t.a=Object(i.a)(class extends n.Component{constructor(e){super(e)}render(){const e=Object(_.a)({},this.props,u.a),{motif:t,renderFooter:a,className:c,width:i,tableClassName:A,renderPlaceholder:S,idField:O,forwardedRef:I}=e;return r.a.createElement(R.a,Object.assign({},e,{ref:I}),r.a.createElement(T.a,{className:c,motif:t,width:Object(u.g)(i)},r.a.createElement(d.a.Consumer,null,e=>{const{noItems:a,renderedItems:c}=e;return r.a.createElement(n.Fragment,null,r.a.createElement(s.a,{className:A,motif:t},r.a.createElement(N.a,null),r.a.createElement(m.a,null,c.map((t,a)=>r.a.createElement(b.a,{key:Object(u.h)(t[O]),row:t,rowIndex:a,context:e})))),a&&void 0!==S&&r.a.createElement("div",{className:o.a.placeholder},r.a.createElement(E.a,{className:o.a.placeholderIcon,size:"large"}),S()))}),void 0!==a&&r.a.createElement("div",{className:l()(o.a.footer,o.a[t])},a())))}})},1981:function(e,t,a){var n=a(289),r=a(1956);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};n(r,c);e.exports=r.locals||{}},1992:function(e,t,a){"use strict";var n=a(25);Object(n.a)(".container__myzJhMx8{width:100%;padding:32px;border-radius:8px}.container-dark__myzJhMx8{background-color:#1e1e1e}.container-light__myzJhMx8{background-color:#fff;background-color:#f8f8f9}.container__myzJhMx8.bubbleContainerClickable__myzJhMx8{transition:background-color .1s ease}.container__myzJhMx8.bubbleContainerClickable-dark__myzJhMx8:hover{background-color:#353535}.container__myzJhMx8.bubbleContainerClickable-dark__myzJhMx8 .headerButton__myzJhMx8 *,.container__myzJhMx8.bubbleContainerClickable-dark__myzJhMx8:focus .headerButton__myzJhMx8 *,.container__myzJhMx8.bubbleContainerClickable-dark__myzJhMx8:hover .headerButton__myzJhMx8 *{color:#9d9d9d}.container__myzJhMx8.bubbleContainerClickable-light__myzJhMx8:hover{background-color:#e5e5e5}.container__myzJhMx8.bubbleContainerClickable-light__myzJhMx8 .headerButton__myzJhMx8 *{color:#525461}.container__myzJhMx8.bubbleContainerClickable-light__myzJhMx8:focus .headerButton__myzJhMx8 *,.container__myzJhMx8.bubbleContainerClickable-light__myzJhMx8:hover .headerButton__myzJhMx8 *{color:#7e8190}.container__myzJhMx8.bubbleContainerClickable__myzJhMx8,.container__myzJhMx8.bubbleContainerClickable__myzJhMx8 *{text-align:left}.container__myzJhMx8.bubbleContainerClickable__myzJhMx8 :not(:first-child),.container__myzJhMx8.bubbleContainerClickable__myzJhMx8:not(:first-child){margin-left:0}.container__myzJhMx8.bubbleContainerClickable-light__myzJhMx8 .header__myzJhMx8,.container__myzJhMx8.bubbleContainerClickable__myzJhMx8 .headerButton__myzJhMx8{transition:color .1s ease}.container__myzJhMx8.bubbleContainerClickable-light__myzJhMx8:hover{background-color:#f8f8f9}.container__myzJhMx8.bubbleContainerClickable-light__myzJhMx8:hover .header__myzJhMx8{color:#7e8190}.header__myzJhMx8{display:flex;font-size:14px;align-items:center;justify-content:space-between;padding-bottom:32px}.header-dark__myzJhMx8{color:hsla(0,0%,100%,.85)}.header-light__myzJhMx8{color:rgba(0,0,0,.85)}.header__myzJhMx8.noChildren__myzJhMx8{padding-bottom:0}.bubbleButton__myzJhMx8{outline:none}.bubbleButton-dark__myzJhMx8.is-accessible__myzJhMx8:focus{outline:1px solid #fff}.bubbleButton-light__myzJhMx8.is-accessible__myzJhMx8:focus{outline:1px solid #006fff}"),t.a={container:"container__myzJhMx8","container-dark":"container-dark__myzJhMx8","container-light":"container-light__myzJhMx8",bubbleContainerClickable:"bubbleContainerClickable__myzJhMx8","bubbleContainerClickable-dark":"bubbleContainerClickable-dark__myzJhMx8",headerButton:"headerButton__myzJhMx8","bubbleContainerClickable-light":"bubbleContainerClickable-light__myzJhMx8",header:"header__myzJhMx8","header-dark":"header-dark__myzJhMx8","header-light":"header-light__myzJhMx8",noChildren:"noChildren__myzJhMx8",bubbleButton:"bubbleButton__myzJhMx8","bubbleButton-dark":"bubbleButton-dark__myzJhMx8","is-accessible":"is-accessible__myzJhMx8","bubbleButton-light":"bubbleButton-light__myzJhMx8"}},2008:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return _})),a.d(t,"e",(function(){return i})),a.d(t,"a",(function(){return E}));var n=function(e){return e.toString().substring(1).split(/\/([^/]*)$/)},r=function(e,t){var a=n(e),r=a[0],c=a[1];return new RegExp(t.call(t,r),c)},c=function(e){return r(e,(function(e){var t="^"===e.substring(0,1),a="$"===e.substring(e.length-1);if(!t&&!a)throw new Error("Unable to modify - regex does not contain modifiers to remove");return e.substring(t?1:0,e.length-(a?1:0))}))},l=function(e){return n(e)[0]},_=function(e){return r(e,(function(e){if("^"===e.substring(0,1)||"$"===e.substring(e.length-1))throw new Error("Unable to modify - regex already contains one or more modifiers");return"^".concat(e,"$")}))},i=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("Unable to combine - missing source regexes");var a=e.map((function(e){return"(".concat(n(e)[0],")")})).join("|");return new RegExp(a,t)},E=function(e,t,a,r){return new RegExp((e||"")+n(t)[0]+(a||""),r)}},2038:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(7),l=a.n(c),_=a(40),i=a(1992);t.a=({className:e,containerClassName:t,headerContentClassName:a,headerTitle:n,headerButton:c,children:E})=>{const{motif:o}=Object(_.a)();return r.a.createElement("div",{className:l()(i.a.container,i.a["container-"+o],e,t)},r.a.createElement("div",{className:l()(i.a.header,i.a["header-"+o],!E&&i.a.noChildren,a)},n&&r.a.createElement("div",{className:l()(i.a.headerTitle)},n),c&&r.a.createElement("div",{className:l()(i.a.headerButton)},c)),E)}},2039:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(44),r=a(168),c=a(2008),l=a(98),_=Object(c.e)([l.j,l.m]),i=Object(n.a)((function(e){if("string"!=typeof e)return!1;if(!e.match(_))return!1;var t=new r.Address4(e);if(t.isValid())return t.correctForm()===t.startAddress().address;var a=new r.Address6(e);if(a.isValid()){var n=a.correctForm();return new r.Address6(n).startAddress().address===a.startAddress().address}return!1}))},2122:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a.n(n),c=a(388);function l(e){var t={height:12,width:12};return e?r.a.createElement(c.CheckThin,t):r.a.createElement(c.CloseIconThin,t)}},2145:function(e,t,a){"use strict";var n,r=a(0),c=a.n(r),l=a(8),_=a(4),i=a(44),E=a(170),o=a(1945),T=a(28),s=a(13),d=a(391),u=a(464),N=a(64),m=a(2262),R=a(30),b=a(98),A=[500,4500];!function(e){e.ANY="any",e.LIMITED="limited"}(n||(n={}));const S=[{label:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_FROM_VALUES_ANY",value:n.ANY},{label:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_FROM_VALUES_LIMITED",value:n.LIMITED}],O=e=>!/^[0-9]*$/.test(e),I=e=>function(t){return!e||(t||"").trim().split(",").every(e=>{if(e.includes("-")){const[t,a]=e.split("-").map(e=>Number(e.trim()));return A.every(e=>!Object(m.a)(e,t,a+1))}return!A.includes(parseInt(e,10))})};var p=Object(i.a)(e=>R.a.object().shape({name:R.a.string().label("SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_NAME").required(),srcType:R.a.string(),src:R.a.string().when("srcType",{is:n.LIMITED,then:R.a.string().label("SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_SOURCE").required().unifiIpv4Range(c.a.createElement(_.c,{id:"COMMON_VALIDATION_VALID_IP_SUBNET_RANGE",values:{name:c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_SOURCE"})}}))}),dst_port:R.a.string().label("SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_PORT").unifiPortRange(c.a.createElement(_.c,{id:"COMMON_VALIDATION_VALID_PORT_RANGE"})).test("port-fwd-overlaps-ipsec",c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_VALIDATION_PORT_FWD_OVERLAPS_IPSEC"}),I(e)).required(),fwd:R.a.string().label("SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_IP").matches(b.h,c.a.createElement(_.c,{id:"COMMON_VALIDATION_VALID_IPV4"})).required(),fwd_port:R.a.string().label("SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_FORWARD_PORT").unifiPortRange(c.a.createElement(_.c,{id:"COMMON_VALIDATION_VALID_PORT_RANGE"})).test("incorrect-multiport-fwd-port",c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_VALIDATION_INCORRECT_MULTIPORT_FWD_PORT"}),(function(e){const{dst_port:t}=this.parent;return!(O(t)||O(e))||(t||"").trim()===(e||"").trim()})).required(),pfwd_interface:R.a.string().oneOf([...Object.values(d.PortForwardInterface)]).required()})),h=[{label:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_PROTOCOL_VALUES_BOTH",value:"tcp_udp"},{label:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_PROTOCOL_VALUES_TCP",value:"tcp"},{label:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_PROTOCOL_VALUES_UDP",value:"udp"}],G={name:"",enabled:!1,pfwd_interface:d.PortForwardInterface.WAN,srcType:n.ANY,src:"",dst_port:"",fwd:"",fwd_port:"",proto:h[0].value,log:!1},g=a(1197),C=a(1753),f=a(1754),D=a(1924),y=a(1755),W=a(5),L=a(45),j=a(23),w=a(6),V=a(95),v=a(1954),F=a(54),M=a(49),P=a(815);const x=Object(W.c)("label")`
  display: block;
  margin-bottom: ${({theme:e})=>e.spacing["spacing-xs"]};
`,k=Object(W.c)("div")`
  margin-right: ${({theme:e})=>e.spacing["spacing-xl"]};
  margin-bottom: ${({theme:e})=>e.spacing["spacing-xl"]};

  &:last-child {
    margin-right: 0;
  }
`,B=Object(W.c)("div")`
  min-width: 100%;
  flex: 1 0;
  margin-bottom: ${({theme:e})=>e.spacing["spacing-xl"]};

  &:last-child {
    margin-bottom: 0;
  }
`;var U=Object(_.f)(({intl:e})=>{const t=Object(l.useSelector)(T.selectWanNetworks),a=Object(l.useSelector)(P.D),{values:n,setFieldValue:i}=Object(L.e)(),{destination_ip:E,pfwd_interface:o}=n,s=o===d.PortForwardInterface.BOTH?[d.PortForwardInterface.WAN,d.PortForwardInterface.WAN2]:[o],u=Object(r.useMemo)(()=>s.map(e=>t.find(({wan_networkgroup:t})=>(null==t?void 0:t.toLowerCase())===e.toLowerCase())),[o]),N=Object(r.useMemo)(()=>u.reduce((t,a)=>{const{wan_ip:n,wan_ip_aliases:r=[],wan_networkgroup:l,wan_type:i,_id:E}=null!=a?a:{},s=[n,...r].reduce((e,t)=>{const a=null==t?void 0:t.replace(/\/\d{1,2}/,"");return a?[...e,{label:a,value:a}]:e},[{label:e.formatMessage({id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_DESTINATION_IP_AUTO_DEFINED"}),value:"any"}]);let u;switch(s.length>2?o!==d.PortForwardInterface.BOTH&&(u="dropdown"):i===T.IpV4ConnectionType.STATIC&&(u="text"),u){case"dropdown":return[...t,c.a.createElement(B,{key:E},c.a.createElement(x,null,c.a.createElement(F.Field,{full:!0,label:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_INTERFACE_"+l,name:"destination_ip",options:s,translateLabel:!0,type:"dropdown"})))];case"text":{const e=null!=n?n:i===T.IpV4ConnectionType.DHCP?"DHCP":"PPPoE";return[...t,c.a.createElement(k,{key:E},c.a.createElement(x,null,c.a.createElement(M.a,{color:"tertiary",size:"label"},c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_INTERFACE_"+l}))),c.a.createElement(M.a,null,e))]}default:return t}},[]),[o,e]);return Object(r.useEffect)(()=>{o===d.PortForwardInterface.BOTH&&"any"!==E&&i("destination_ip","any")},[E,o,i]),a?N.length===s.length&&c.a.createElement(f.a,null,c.a.createElement(D.a,{htmlFor:"destination_ip",label:c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_DESTINATION_IP"})}),c.a.createElement(y.a,null,c.a.createElement(V.g,{flexWrap:"wrap",width:"100%"},N))):null});const z=Object(W.c)(g.a)`
  margin-left: ${({theme:e})=>e.space[3]}px;
`,J=Object(W.c)(F.Field)`
  margin-right: ${({theme:e})=>e.spacing["spacing-s"]};
  &:last-child {
    margin-right: ${({theme:e})=>e.spacing["spacing-xl"]};
  }
`;var H=()=>{const{values:e,errors:t,setFieldValue:a,setValues:i,touched:E,setFieldTouched:o}=Object(L.e)(),T=Object(l.useSelector)(w.selectWanInterfaceOptions);Object(r.useEffect)(()=>{e.srcType===n.LIMITED&&e.src===n.ANY&&a("src","")},[a,e.src,e.srcType]);return c.a.createElement(C.a,null,c.a.createElement(f.a,null,c.a.createElement(D.a,{htmlFor:"name",alignWith:"input",label:c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_NAME"})}),c.a.createElement(y.a,{column:!0},c.a.createElement(F.Field,{full:!0,name:"name",placeholder:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_NAME"}))),c.a.createElement(f.a,null,c.a.createElement(D.a,{htmlFor:"enabled",alignWith:"toggle",label:c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_ENABLE"})}),c.a.createElement(y.a,{column:!0},c.a.createElement(F.Field,{type:"checkbox",name:"enabled"}))),T.length>1&&c.a.createElement(f.a,null,c.a.createElement(D.a,{htmlFor:"pfwd_interface",alignWith:"input",label:c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_INTERFACE"})}),c.a.createElement(y.a,null,T.map(({label:e,value:t})=>c.a.createElement(J,{value:d.PortForwardInterface[e],type:"togglebox",toggleboxType:"radio",name:"pfwd_interface",key:"pfwd-interface-"+t},c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_INTERFACE_"+e}))),c.a.createElement(J,{value:d.PortForwardInterface.BOTH,type:"togglebox",toggleboxType:"radio",name:"pfwd_interface"},c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_INTERFACE_BOTH"})))),c.a.createElement(U,null),c.a.createElement(f.a,null,c.a.createElement(D.a,{htmlFor:"srcType",alignWith:"dropdown",label:c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_FROM"})}),c.a.createElement(y.a,{column:!0},c.a.createElement(F.Field,{type:"dropdown",name:"srcType",full:!0,translateOptions:!0,options:S}))),c.a.createElement(v.a,{in:e.srcType===n.LIMITED},c.a.createElement(f.a,null,c.a.createElement(D.a,{htmlFor:"src",alignWith:"input",label:c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_SOURCE"})}),c.a.createElement(y.a,{column:!0},c.a.createElement(F.Field,{name:"src",placeholder:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_SOURCE",full:!0})))),c.a.createElement(f.a,null,c.a.createElement(D.a,{htmlFor:"dst_port",alignWith:"input",label:c.a.createElement(V.g,null,c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_PORT"}),c.a.createElement(z,{message:c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_PORT_TOOLTIP"}),position:"bottom",width:140},c.a.createElement(j.cb,{isActive:!0})))}),c.a.createElement(y.a,{column:!0},c.a.createElement(F.Field,{full:!0,name:"dst_port",placeholder:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_PORT",onBlur:()=>{E.dst_port||o("dst_port",!0),!E.fwd_port&&e.fwd_port&&o("fwd_port",!0,!0)},onChange:(t,a)=>{const n={...e,dst_port:a};e.fwd_port&&e.dst_port!==e.fwd_port||(n.fwd_port=a),i(n,!0)}}),!t.dst_port&&e.dst_port&&e.dst_port!==e.fwd_port&&c.a.createElement(V.c,{legacy:!1,name:"port-forward-update-forward-port",size:"small",variant:"link",onClick:()=>{a("fwd_port",e.dst_port,!0)}},c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_UPDATE_FORWARD_PORT"})))),c.a.createElement(f.a,null,c.a.createElement(D.a,{htmlFor:"fwd",alignWith:"input",label:c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_IP"})}),c.a.createElement(y.a,{column:!0},c.a.createElement(F.Field,{full:!0,name:"fwd",placeholder:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_IP"}))),c.a.createElement(f.a,null,c.a.createElement(D.a,{htmlFor:"fwd_port",alignWith:"input",label:c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_FORWARD_PORT"})}),c.a.createElement(y.a,{column:!0},c.a.createElement(F.Field,{full:!0,name:"fwd_port",placeholder:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_FORWARD_PORT"}))),c.a.createElement(f.a,null,c.a.createElement(D.a,{htmlFor:"proto",alignWith:"dropdown",label:c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_PROTOCOL"})}),c.a.createElement(y.a,{column:!0},c.a.createElement(F.Field,{full:!0,name:"proto",type:"dropdown",translateOptions:!0,options:h}))),c.a.createElement(f.a,null,c.a.createElement(D.a,{htmlFor:"log",alignWith:"toggle",label:c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_LOGGING"}),description:c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_LOGGING_DESCRIPTION"})}),c.a.createElement(y.a,{column:!0},c.a.createElement(F.Field,{type:"checkbox",name:"log"}))))};const Y=Object(i.a)(e=>{const t={...G,...e},a=t.src&&t.src!==n.ANY?n.LIMITED:n.ANY;return{...t,srcType:a}});t.a=e=>{const t=Object(l.useSelector)(T.selectIsIpsecInUse),a=Object(l.useDispatch)(),i=Object(l.useSelector)(s.u),{initialValues:m,onBack:R}=e,b=!!m._id,A=Object(r.useCallback)((e,{setSubmitting:t})=>{const{srcType:r,...c}=e,l=r===n.ANY?{...c,src:n.ANY}:c;return a(Object(d.savePortForwardRule)(l)).then(()=>R()).catch(()=>t(!1))},[a,R]),S=Object(N.m)({component:c.a.createElement(_.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARDING"}),message:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARDING_BUTTON"},i?"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARDING_VIEW":"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARDING_EDIT",m._id?m.name:void 0),O=Object(r.useCallback)(()=>{a(Object(u.b)({name:m.name,onConfirm:()=>a(Object(d.removePortForwardRule)(m)).then(R())}))},[a,m,R]);return c.a.createElement(o.b,{onSubmit:A,title:S,initialValues:Y(m),isEdit:b,isView:i,onEscClicked:R,validationSchema:p(t),showBack:!0,goBack:R,footerActiveOverride:!!(null==m?void 0:m._id),customFooterButtons:e=>(null==m?void 0:m._id)&&c.a.createElement(E.a,{disabled:e,type:"button",variant:"default",onClick:O},c.a.createElement(_.c,{id:"COMMON_ACTION_REMOVE"}))},c.a.createElement(H,null))}},2146:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(8),l=a(4),_=a(44),i=a(170),E=a(6),o=a(28),T=a(393),s=a(1945),d=a(464),u=a(21),N=a(95),m=a(64),R=a(18);var b=a(30),A=a(98),S=a(2039),O=a(2008),I=b.a.object().shape({name:b.a.string().label("SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_NAME").required(),enabled:b.a.boolean(),gateway_device:b.a.string().when(["gateway_type"],{is:e=>e===T.StaticRouteGatewayType.SWITCH,then:b.a.string().label("SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_L3_GATEWAY_DEVICE").required()}),"static-route_network":b.a.string().label("SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_NETWORK").required().test("networkSubnet",r.a.createElement(l.c,{id:"COMMON_VALIDATION_VALID_NETWORK_SUBNET"}),S.a),"static-route_distance":b.a.string().matches(/^([0-9][0-9]{0,1}|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,r.a.createElement(l.c,{id:"COMMON_DESCRIPTION_NUMBER_BETWEEN",values:{min:0,max:255}})),"static-route_type":b.a.string(),"static-route_nexthop":b.a.string().when(["static-route_type"],{is:T.StaticRouteType.NEXT_HOP,then:b.a.string().label("SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_NEXT_HOP").required().matches(Object(O.e)([A.h,A.k]),r.a.createElement(l.c,{id:"COMMON_VALIDATION_VALID_IP"}))}),"static-route_interface":b.a.string()}),p=a(2151);const h=[o.NetworkPurpose.REMOTE_USER_VPN,o.NetworkPurpose.VLAN_ONLY,o.NetworkPurpose.WAN];var G=a(1753),g=a(1754),C=a(1924),f=a(1755),D=a(45),y=a(5),W=a(1954),L=a(54),j=a(76);const w=Object(y.c)(L.Field)`
  margin-right: ${({theme:e})=>e.spacing["spacing-s"]};
  white-space: nowrap;
  &:last-child {
    margin-right: ${({theme:e})=>e.spacing["spacing-xl"]};
  }
`;var V=Object(l.f)(({interfaces:e,intl:t})=>{const{initialValues:{_id:a},values:{gateway_type:n,"static-route_nexthop":_,"static-route_type":i},errors:{gateway_device:o}}=Object(D.e)(),s=/^fe80:/i.test(_),d=Object(c.useSelector)(E.selectAdoptedL3Switches).map(e=>({value:e.mac,label:Object(j.b)(e)})),u=d.length>0,N=n===T.StaticRouteGatewayType.DEFAULT,m=!!a;return r.a.createElement(G.a,null,r.a.createElement(g.a,null,r.a.createElement(C.a,{htmlFor:"enabled",alignWith:"toggleSmall",label:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_ENABLE"})}),r.a.createElement(f.a,{column:!0},r.a.createElement(L.Field,{type:"checkbox",name:"enabled"}))),r.a.createElement(g.a,null,r.a.createElement(C.a,{htmlFor:"name",alignWith:"input",label:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_NAME"})}),r.a.createElement(f.a,{column:!0},r.a.createElement(L.Field,{full:!0,name:"name",placeholder:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_NAME"}))),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{disabled:m},r.a.createElement(C.a,{htmlFor:"gateway_type",alignWith:"input",label:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_DEVICE_TYPE"})}),r.a.createElement(f.a,null,r.a.createElement(w,{value:T.StaticRouteGatewayType.DEFAULT,type:"togglebox",toggleboxType:"radio",name:"gateway_type",disabled:m},r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_DEVICE_TYPE_GATEWAY"})),r.a.createElement(w,{value:T.StaticRouteGatewayType.SWITCH,type:"togglebox",toggleboxType:"radio",name:"gateway_type",disabled:m},r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_DEVICE_TYPE_SWITCH"})))),!N&&r.a.createElement(g.a,null,r.a.createElement(C.a,{htmlFor:"gateway_device",alignWith:"dropdown",label:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_SELECT_GATEWAY"})}),r.a.createElement(f.a,{column:!0},r.a.createElement(L.Field,{full:!0,type:"dropdown",name:"gateway_device",options:d,placeholder:t.formatMessage({id:"COMMON_CHOOSE_AN_OPTION"})}),o&&r.a.createElement(L.ValidationMessage,{visible:!0},o)))),N&&r.a.createElement(g.a,null,r.a.createElement(C.a,{htmlFor:"static-route_distance",alignWith:"input",label:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_DISTANCE"})}),r.a.createElement(f.a,{column:!0},r.a.createElement(L.Field,{full:!0,name:"static-route_distance",placeholder:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_DISTANCE_PLACEHOLDER"}))),r.a.createElement(g.a,null,r.a.createElement(C.a,{htmlFor:"static-route_network",alignWith:"input",label:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_NETWORK"})}),r.a.createElement(f.a,{column:!0},r.a.createElement(L.Field,{full:!0,name:"static-route_network",placeholder:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_NETWORK_PLACEHOLDER"}))),r.a.createElement(g.a,null,r.a.createElement(C.a,{htmlFor:"static-route_type",alignWith:"dropdown",label:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_ROUTE_TYPE"})}),r.a.createElement(f.a,null,r.a.createElement(w,{value:T.StaticRouteType.NEXT_HOP,type:"togglebox",toggleboxType:"radio",name:"static-route_type"},r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_NEXT_HOP"})),r.a.createElement(w,{value:T.StaticRouteType.INTERFACE,type:"togglebox",toggleboxType:"radio",name:"static-route_type"},r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_INTERFACE"})),r.a.createElement(w,{value:T.StaticRouteType.BLACK_HOLE,type:"togglebox",toggleboxType:"radio",name:"static-route_type"},r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_BLACK_HOLE"})))),r.a.createElement(W.a,{in:i===T.StaticRouteType.NEXT_HOP||i===T.StaticRouteType.INTERFACE||s,wrap:!0},i===T.StaticRouteType.NEXT_HOP&&r.a.createElement(g.a,null,r.a.createElement(C.a,{htmlFor:"static-route_nexthop",alignWith:"input",label:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_NEXT_HOP"})}),r.a.createElement(f.a,{column:!0},r.a.createElement(L.Field,{full:!0,name:"static-route_nexthop",placeholder:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_NEXT_HOP_PLACEHOLDER"}))),(i===T.StaticRouteType.INTERFACE||s)&&r.a.createElement(g.a,null,r.a.createElement(C.a,{htmlFor:"static-route_interface",alignWith:"dropdown",label:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_INTERFACE"})}),r.a.createElement(f.a,{column:!0},r.a.createElement(L.Field,{full:!0,type:"dropdown",name:"static-route_interface",options:e})))))});const v=Object(_.a)((e,t)=>({...{name:"",enabled:!0,gateway_device:"",gateway_type:T.StaticRouteGatewayType.DEFAULT,"static-route_network":"","static-route_distance":"","static-route_type":T.StaticRouteType.NEXT_HOP,"static-route_nexthop":"","static-route_interface":t.length?t[0].value:""},...e}));t.a=e=>{const{initialValues:t,onBack:a}=e,_=Object(c.useSelector)(o.selectNetworksData),b=Object(c.useSelector)(E.selectGatewayMac),A=Object(c.useDispatch)(),S=Object(n.useContext)(N.l),O=Object(n.useCallback)((e,{setSubmitting:t})=>{const n={...e,"static-route_nexthop":e["static-route_type"]===T.StaticRouteType.NEXT_HOP?e["static-route_nexthop"]:void 0,"static-route_interface":e["static-route_type"]===T.StaticRouteType.INTERFACE?e["static-route_interface"]:void 0};return n.gateway_type===T.StaticRouteGatewayType.SWITCH&&delete n["static-route_distance"],n.gateway_type===T.StaticRouteGatewayType.DEFAULT&&(n.gateway_device=b),A(Object(T.saveRouting)({...n,type:"static-route"})).then(()=>{A(Object(u.c)({icon:R.a.success,message:"SETTINGS_GENERAL_SAVE_SUCCESS"})),a()}).catch(e=>{A(Object(u.c)({errorMessage:e.msg,errorValues:e,icon:R.a.danger,message:"SETTINGS_GENERAL_SAVE_ERROR"})),t(!1)})},[A,a]),G=(e=>[...Object(p.b)(e).map(e=>({label:e,value:e})),...(e||[]).filter(e=>!h.includes(e.purpose)).map(({_id:e,name:t})=>({label:t,value:e}))])(_),g=!!t._id,C=Object(m.m)({component:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES"}),message:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES"},S?"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_VIEW":"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_EDIT",t._id?t.name:void 0),f=Object(n.useCallback)(()=>{A(Object(d.b)({name:t.name,onConfirm:()=>A(Object(T.removeRouting)(t)).then(a())}))},[A,t,a]);return r.a.createElement(s.b,{onSubmit:O,title:C,initialValues:v(t,G),isEdit:g,isView:S,onEscClicked:a,validationSchema:I,showBack:!0,goBack:a,footerActiveOverride:!!(null==t?void 0:t._id),customFooterButtons:e=>(null==t?void 0:t._id)&&r.a.createElement(i.a,{disabled:e,type:"button",variant:"default",onClick:f},r.a.createElement(l.c,{id:"COMMON_ACTION_REMOVE"}))},r.a.createElement(V,{interfaces:G}))}},2147:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(8),l=a(4),_=a(44),i=a(170),E=a(399),o=a(28),T=a(1945),s=a(464),d=a(21),u=a(95),N=a(64),m=a(18),R=a(30),b=R.a.object().shape({interface:R.a.string(),service:R.a.string(),host_name:R.a.string().label("SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_NAME").required(),login:R.a.string().label("SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_NAME").required(),x_password:R.a.string().label("SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_NAME").required(),server:R.a.string()}),A={AFRAID:"afraid",DNS_PARK:"dnspark",DSL_REPORTS:"dslreports",DYN_DNS:"dyndns",EASY_DNS:"easydns",NAME_CHEAP:"namecheap",NO_IP:"noip",SITELUTIONS:"sitelutions",ZONE_EDIT:"zoneedit"},S=a(1753),O=a(1754),I=a(1924),p=a(1755),h=a(6),G=a(54);var g=()=>{const e=Object(c.useSelector)(h.selectWanInterfaceOptions),t=Object.values(A).map(e=>({value:e,label:e}));return r.a.createElement(S.a,null,r.a.createElement(O.a,null,r.a.createElement(I.a,{htmlFor:"interface",alignWith:"select",label:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS_INTERFACE"})}),r.a.createElement(p.a,{column:!0},r.a.createElement(G.Field,{full:!0,type:"dropdown",name:"interface",options:e}))),r.a.createElement(O.a,null,r.a.createElement(I.a,{htmlFor:"service",alignWith:"select",label:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS_SERVICE"})}),r.a.createElement(p.a,{column:!0},r.a.createElement(G.Field,{full:!0,type:"dropdown",name:"service",options:t}))),r.a.createElement(O.a,null,r.a.createElement(I.a,{htmlFor:"host_name",alignWith:"input",label:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS_HOSTNAME"})}),r.a.createElement(p.a,{column:!0},r.a.createElement(G.Field,{full:!0,name:"host_name",placeholder:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS_HOSTNAME"}))),r.a.createElement(O.a,null,r.a.createElement(I.a,{htmlFor:"login",alignWith:"input",label:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS_USERNAME"})}),r.a.createElement(p.a,{column:!0},r.a.createElement(G.Field,{full:!0,name:"login",placeholder:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS_USERNAME"}))),r.a.createElement(O.a,null,r.a.createElement(I.a,{htmlFor:"x_password",alignWith:"input",label:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS_PASSWORD"})}),r.a.createElement(p.a,{column:!0},r.a.createElement(G.Field,{full:!0,passwordToggle:!0,type:"password",name:"x_password",placeholder:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS_PASSWORD"}))),r.a.createElement(O.a,null,r.a.createElement(I.a,{htmlFor:"server",alignWith:"input",label:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS_SERVER"})}),r.a.createElement(p.a,{column:!0},r.a.createElement(G.Field,{full:!0,name:"server",placeholder:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS_SERVER"}))))};const C=Object(_.a)(e=>({interface:o.NetworkPurpose.WAN,service:A.AFRAID,host_name:"",login:"",x_password:"",server:"",...e}));t.a=e=>{const{initialValues:t,onBack:a}=e,_=Object(c.useDispatch)(),o=Object(n.useContext)(u.l),R=Object(n.useCallback)((e,{setSubmitting:t})=>_(Object(E.saveDynamicDns)(e)).then(()=>{_(Object(d.c)({icon:m.a.success,message:"SETTINGS_GENERAL_SAVE_SUCCESS"})),a()}).catch(e=>{_(Object(d.c)({errorMessage:e.msg,errorValues:e,icon:m.a.danger,message:"SETTINGS_GENERAL_SAVE_ERROR"})),t(!1)}),[_,a]),A=!!t._id,S=Object(N.m)({component:r.a.createElement(l.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS"}),message:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS"},o?"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS_VIEW":"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS_EDIT",t._id?t.host_name:void 0),O=Object(n.useCallback)(()=>{_(Object(s.b)({name:t.service,onConfirm:()=>_(Object(E.removeDynamicDns)(t)).then(a())}))},[_,t,a]);return r.a.createElement(T.b,{onSubmit:R,title:S,initialValues:C(t),isEdit:A,isView:o,onEscClicked:a,validationSchema:b,showBack:!0,goBack:a,footerActiveOverride:!!(null==t?void 0:t._id),customFooterButtons:e=>(null==t?void 0:t._id)&&r.a.createElement(i.a,{disabled:e,type:"button",variant:"default",onClick:O},r.a.createElement(l.c,{id:"COMMON_ACTION_REMOVE"}))},r.a.createElement(g,null))}},2262:function(e,t,a){"use strict";var n=Math.max,r=Math.min;var c=function(e,t,a){return e>=r(t,a)&&e<n(t,a)},l=a(409),_=a(218);t.a=function(e,t,a){return t=Object(l.a)(t),void 0===a?(a=t,t=0):a=Object(l.a)(a),e=Object(_.a)(e),c(e,t,a)}},2290:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(7),l=a.n(c),_=a(40),i=a(149),E=a(1992),o=a(2038),T=a(170);t.a=({buttonComponent:e=T.a,buttonProps:t={},className:a,onClick:c,...s})=>{const{motif:d}=Object(_.a)(),{className:u}=t,{isAccessible:N}=Object(i.c)(),m=Object(n.useMemo)(()=>({full:!0,variant:"inline",onClick:c,...t,className:l()(u,E.a.bubbleButton,E.a["bubbleButton-"+d],N&&E.a["is-accessible"])}),[u,t,N,d,c]);return r.a.createElement(e,Object.assign({},m),r.a.createElement(o.a,Object.assign({className:l()(E.a.bubbleContainerClickable,E.a["bubbleContainerClickable-"+d],a)},s)))}},2305:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),r=a.n(n),c=a(4),l=a(1946),_=a(2122);const i=()=>{const e=(e,t)=>e+(e&&t?":":"")+t,t=e=>e&&"any"!==e?e:"*";return[{compare:Object(l.a)(({name:e})=>e.toLowerCase()),id:"port-fwd-name",label:r.a.createElement(c.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_TABLE_NAME"}),renderCell:({name:e})=>e,sortable:!0,minWidth:80},{compare:Object(l.a)(({src:e})=>t(e)),id:"port-fwd-src",label:r.a.createElement(c.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_TABLE_FROM"}),renderCell:({src:e})=>t(e),minWidth:80},{compare:Object(l.a)(({dst_port:e})=>e),id:"port-fwd-dst",label:r.a.createElement(c.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_TABLE_PORT"}),renderCell:({dst_port:e})=>e,minWidth:70},{compare:Object(l.a)((t,a)=>e(t,a)),id:"port-fwd-fwd",label:r.a.createElement(c.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_TABLE_DEST"}),renderCell:({fwd:t,fwd_port:a})=>e(t,a),minWidth:100},{compare:Object(l.a)(({enabled:e})=>e),id:"port-fwd-enabled",label:r.a.createElement(c.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PORT_FORWARD_TABLE_ENABLED"}),renderCell:({enabled:e})=>Object(_.a)(e),minWidth:100}]}},2306:function(e,t){},2307:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a.n(n),c=a(4),l=a(93),_=a(1946),i=a(2122),E=a(393);const o=(e,t)=>{const a=Object(_.b)(e),n=(e,a)=>{if(a===E.StaticRouteType.INTERFACE){const a=t&&t.find(({_id:t})=>t===e);return a?a.name:e}return null},o=(e,t)=>t===E.StaticRouteType.NEXT_HOP?e:null,T=e=>{switch(e){case E.StaticRouteType.BLACK_HOLE:return"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_TABLE_BLACK_HOLE";case E.StaticRouteType.INTERFACE:return"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_TABLE_INTERFACE";case E.StaticRouteType.NEXT_HOP:return"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_TABLE_NEXT_HOP";default:return"COMMON_UNKNOWN"}};return[{compare:Object(_.a)(({name:e})=>e.toLowerCase()),id:"static-route-name",label:r.a.createElement(c.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_TABLE_NAME"}),renderCell:({name:e})=>e,sortable:!0,minWidth:100},{compare:Object(_.a)(({enabled:e})=>e),id:"static-route-enabled",label:r.a.createElement(c.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_TABLE_ENABLED"}),renderCell:({enabled:e})=>Object(i.a)(e),minWidth:100},{compare:Object(_.a)(({network:e})=>Object(l.toLong)(e)),id:"static-route-network",label:r.a.createElement(c.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_TABLE_NETWORK"}),renderCell:({"static-route_network":e})=>e,minWidth:110},{compare:a((e,{"static-route_type":t})=>T(t)),id:"static-route-type",label:r.a.createElement(c.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_TABLE_TYPE"}),renderCell:({"static-route_type":e})=>r.a.createElement(c.c,{id:T(e)}),minWidth:80},{compare:Object(_.a)(({"static-route_interface":e,"static-route_type":t})=>n(e,t)),id:"static-route-interface",label:r.a.createElement(c.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_TABLE_INTERFACE"}),renderCell:({"static-route_interface":e,"static-route_type":t})=>n(e,t),minWidth:100},{compare:Object(_.a)(({"static-route_nexthop":e,"static-route_type":t})=>o(e,t)),id:"static-route-next-hop",label:r.a.createElement(c.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_TABLE_NEXT_HOP"}),renderCell:({"static-route_nexthop":e,"static-route_type":t})=>o(e,t),minWidth:100},{compare:Object(_.a)(({"static-route_distance":e})=>e),id:"static-route-distance",label:r.a.createElement(c.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_STATIC_ROUTES_TABLE_DISTANCE"}),renderCell:({"static-route_distance":e})=>e,minWidth:100}]}},2308:function(e,t){},2309:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(0),r=a.n(n),c=a(4),l=a(1946);const _=[{compare:Object(l.a)(({service:e})=>e.toLowerCase()),id:"dynamic-dns-service",label:r.a.createElement(c.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS_TABLE_SERVICE"}),renderCell:({service:e})=>e,sortable:!0,minWidth:100,maxWidth:150},{compare:Object(l.a)(({host_name:e})=>e.toLowerCase()),id:"dynamic-dns-hostname",label:r.a.createElement(c.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS_TABLE_HOSTNAME"}),renderCell:({host_name:e})=>e,sortable:!0,minWidth:100,maxWidth:150},{compare:Object(l.a)(({server:e})=>e.toLowerCase()),id:"dynamic-dns-server",label:r.a.createElement(c.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_DYNAMIC_DNS_TABLE_SERVER"}),renderCell:({server:e})=>e,sortable:!0,minWidth:100}]},2310:function(e,t){},2495:function(e,t,a){"use strict";a(2145),a(1791);var n=a(2305);a.d(t,"getPortForwardTableColumns",(function(){return n.a}));a(2306)},2496:function(e,t,a){"use strict";a(2146),a(1792);var n=a(2307);a.d(t,"getStaticRoutesTableColumns",(function(){return n.a}));a(2308)},2497:function(e,t,a){"use strict";a(2147),a(1793);var n=a(2309);a.d(t,"dynamicDnsTableColumns",(function(){return n.a}));a(2310)}}]);