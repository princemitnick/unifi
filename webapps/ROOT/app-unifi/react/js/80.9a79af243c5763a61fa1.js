(window.webpackJsonpunifiNetworkUi=window.webpackJsonpunifiNetworkUi||[]).push([[80],{1820:function(e,a,t){"use strict";t.r(a);var E=t(0),l=t.n(E),n=t(42),c=t(64),_=t(2),r=t(4),N=t(8),T=t(1945),i=t(95),S=t(21),s=t(18),m=256,d=30,b=8,o=32,G=t(88),A=G.a.object().shape({enabled:G.a.boolean(),community:G.a.string().when("enabled",{is:!0,then:G.a.string().label("SETTINGS_GATEWAY_SNMP_LABEL_COMMUNITY_STRING").required().max(m)}),enabledV3:G.a.boolean(),username:G.a.string().when("enabledV3",{is:!0,then:G.a.string().label("SETTINGS_GATEWAY_SNMP_LABEL_USERNAME").required().max(d)}),x_password:G.a.string().when("enabledV3",{is:!0,then:G.a.string().label("SETTINGS_GATEWAY_SNMP_LABEL_PASSWORD").required().min(b).max(o)})}),R=t(45),I=t(5),u=t(1753),h=t(1754),g=t(1755),L=t(808),V=t(158),O=t(54),p=t(2311),D=t(75),W=t(6);const C=Object(I.c)(p.a)`
  margin-left: ${({theme:e})=>e.spacing["spacing-l"]};
`;var M=()=>{const{values:e}=Object(R.e)(),a=Object(N.useSelector)(L.q),t=Object(E.useMemo)(()=>a.filter(e=>e.adopted&&!Object(V.n)(e)&&!Object(V.m)(e)),[a]);return Object(c.e)([Object(W.fetchDevices)(void 0,{crudCacheStrategy:{type:_.a.CACHE}})],l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,null,l.a.createElement(h.a,null,l.a.createElement(D.SearchableGridLabel,{htmlFor:"enabled",alignWith:"toggleSmall",label:l.a.createElement(r.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_ENABLE_SNMP1_2"}),description:l.a.createElement(r.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_ENABLE_SNMP1_2_DESCRIPTION"})}),l.a.createElement(g.a,{column:!0},l.a.createElement(O.Field,{type:"checkbox",name:"enabled"}))),l.a.createElement(h.a,{disabled:!e.enabled},l.a.createElement(D.SearchableGridLabel,{htmlFor:"community",alignWith:"input",label:l.a.createElement(r.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_COMMUNITY_STRING"}),searchText:"SETTINGS_INTERNET_GENERAL_ADV_GW_COMMUNITY_STRING_SEARCH_TEXT"}),l.a.createElement(g.a,{column:!0},l.a.createElement(O.Field,{disabled:!e.enabled,name:"community",placeholder:"SETTINGS_INTERNET_GENERAL_ADV_GW_COMMUNITY_PLACEHOLDER"})))),l.a.createElement(u.a,null,l.a.createElement(h.a,null,l.a.createElement(D.SearchableGridLabel,{htmlFor:"enabledV3",alignWith:"toggleSmall",label:l.a.createElement(r.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_ENABLE_SNMP3"})}),l.a.createElement(g.a,{column:!0},l.a.createElement(i.g,{alignItems:"center"},l.a.createElement(O.Field,{type:"checkbox",name:"enabledV3"}),t.length>0&&l.a.createElement(C,{description:"SETTINGS_INTERNET_GENERAL_ADV_GW_UNSUPPORTED_DEVICE_DESCRIPTION",devices:t,tooltipWidth:196})))),l.a.createElement(h.a,{disabled:!e.enabledV3},l.a.createElement(D.SearchableGridLabel,{htmlFor:"username",alignWith:"input",label:l.a.createElement(r.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_USER_NAME"}),searchText:"SETTINGS_INTERNET_GENERAL_ADV_GW_USER_NAME_SEARCH_TEXT"}),l.a.createElement(g.a,{column:!0},l.a.createElement(O.Field,{disabled:!e.enabledV3,name:"username",placeholder:"SETTINGS_INTERNET_GENERAL_ADV_GW_USER_NAME_PLACEHOLDER"}))),l.a.createElement(h.a,{disabled:!e.enabledV3},l.a.createElement(D.SearchableGridLabel,{htmlFor:"x_password",alignWith:"input",label:l.a.createElement(r.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_PASSWORD"}),searchText:"SETTINGS_INTERNET_GENERAL_ADV_GW_PASSWORD_SEARCH_TEXT"}),l.a.createElement(g.a,{column:!0},l.a.createElement(O.Field,{disabled:!e.enabledV3,name:"x_password",type:"password",passwordToggle:!0,placeholder:"SETTINGS_INTERNET_GENERAL_ADV_GW_PASSWORD_PLACEHOLDER"}))))))};var j=e=>{const{onBack:a}=e,t=Object(N.useSelector)(n.selectSnmpSettings),c=Object(N.useDispatch)(),_=Object(E.useContext)(i.l),m=Object(E.useCallback)((e,{setSubmitting:t})=>{const{enabledV3:E,...l}=e;E||(delete l.username,delete l.x_password),c(Object(n.saveSettings)({...l,enabledV3:E})).then(()=>{c(Object(S.c)({icon:s.a.success,message:"SETTINGS_INTERNET_GENERAL_ADV_GW_SAVE_SUCCESS"})),a()}).catch(e=>{c(Object(S.c)({errorMessage:e.msg,errorValues:e,icon:s.a.danger,message:"SETTINGS_INTERNET_GENERAL_ADV_GW_SAVE_ERROR"})),t(!1)})},[c,a]);return l.a.createElement(T.b,{onSubmit:m,title:{component:l.a.createElement(r.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_SNMP"}),message:"SETTINGS_INTERNET_GENERAL_ADV_GW_SNMP"},initialValues:t,isEdit:!1,isView:_,onEscClicked:a,validationSchema:A,showBack:!0,goBack:a},l.a.createElement(M,null))};a.default=()=>{const e=Object(c.g)();return Object(c.e)([Object(n.fetchSettings)({type:_.a.CACHE})],l.a.createElement(j,{onBack:e}))}}}]);