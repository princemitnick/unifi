(window.webpackJsonpunifiNetworkUi=window.webpackJsonpunifiNetworkUi||[]).push([[56],{1809:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(64),o=a(4),l=a(8),c=a(458),s=a(13),S=a(42),_=a(1945),m=a(21),E=a(18),d=a(31),u=a(1917),T=a(389),p=a.n(T),I=a(817),O=a.n(I),b=a(15),N=a.n(b),A=a(37),g=a(2),f={VIEW_ONLY:"readonly",SITE_ADMIN:"admin",HOTSPOT:"hotspot",ADMIN:"superAdmin"},M="/api/s/{site}/cmd/sitemgr";function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){N()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C=function(e){return Object(g.n)(A.a.GRANT_ADMIN,M,e)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(g.o)("admins",M,{data:{cmd:A.a.GET_ADMINS}},{crudCacheStrategy:{type:e},method:"post"})},j=function(e){return Object(g.n)(A.a.GRANT_SUPER_ADMIN,M,e)},v=function(e){return function(){var t=O()(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(Object(g.n)(A.a.INVITE_ADMIN,M,R({},e)));case 2:return t.next=4,a(D());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return Object(g.n)(A.a.REVOKE_ADMIN,M,{admin:e})},y=function(e){return function(){var t=O()(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(x(e));case 2:return t.abrupt("return",a(D()));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=function(e){var t=e.role,a=t===f.ADMIN;return Object(g.n)(A.a.UPDATE_ADMIN,M,R(R({},e),{},{role:a?f.VIEW_ONLY:t}))},P=function(e,t){return!(0===e.super_site_permissions.length&&!t.super_site_permissions)&&!Object(c.a)(e.super_site_permissions,t.super_site_permissions)};const w=Object(g.x)(D()),G=e=>{var t,a;return null!==(a=null===(t=w(e))||void 0===t?void 0:t.data)&&void 0!==a?a:[]};var F=a(620),Y=a(5),k=a(1763),B=a(23),U=a(1972),V=a(95),W=a(464),$=a(1946),z=[{value:F.a.VIEW_ONLY,label:"COMMON_ADMIN_ROLE_VIEW_ONLY"},{value:F.a.SITE_ADMIN,label:"COMMON_ADMIN_ROLE_SITE_ADMINISTRATOR"},{value:F.a.ADMIN,label:"COMMON_ADMIN_ROLE_ADMINISTRATOR"}],H=a(98),q=a(88),X=q.a.object().shape({name:q.a.string().label("SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_USERNAME_LABEL").required().matches(H.a,r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_USERNAME_REGEX"})),email:q.a.string().label("SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_EMAIL_LABEL").email().required(),role:q.a.string().label("SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_ROLE_LABEL").required()});var K,J=q.a.object().shape({name:q.a.string().label("SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_USERNAME_LABEL").required().matches(H.a,r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_USERNAME_REGEX"})),email:q.a.string().label("SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_EMAIL_LABEL").email().required(),email_alert_grouping_enabled:q.a.boolean().label("SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_GROUP_IN_EMAIL"),email_alert_grouping_delay:q.a.number().when("email_alert_grouping_enabled",{is:!0,then:q.a.number().label("SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_GROUP_WITHIN").required().min(1).max(60)}),x_password:q.a.string().when(["isSelf","requires_new_password"],{is:(e,t)=>e&&t,then:q.a.string().label("SETTINGS_SYSTEM_ADMINISTRATION_CURRENT_PASSWORD_LABEL").required()}),x_oldpassword:q.a.string().when(["isSelf"],{is:!0,then:q.a.string().when(["requires_new_password"],{is:!1,then:q.a.string().label("SETTINGS_SYSTEM_ADMINISTRATION_CURRENT_PASSWORD_LABEL").required()})})}),Z="connecting",Q="connected",ee="disabled",te="disconnected",ae="not_registered",ne=q.a.object().shape({username:q.a.string().label("SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_CREDENTIAL_USERNAME_PLACHOLDER").required(),password:q.a.string().label("SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_CREDENTIAL_PASSWORD_PLACHOLDER").required(),faPrompt:q.a.boolean(),token:q.a.string().when("faPrompt",{is:!0,then:q.a.string().label("SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_CREDENTIALS_2FA_TOKEN").required()})});!function(e){e.PUSH="push_alert_enabled",e.EMAIL="email_alert_enabled"}(K||(K={}));var re,ie=[{value:K.PUSH,label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_PUSH_ALERTS"},{value:K.EMAIL,label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_EMAIL_ALERTS"}];!function(e){e.HTML="html_email_enabled",e.PROF="is_professional_installer"}(re||(re={}));var oe=[{value:re.HTML,label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_ADVANCED_ENABLE_HTML_EMAIL_TEMPLATE"},{value:re.PROF,label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_ADVANCED_ENABLE_OPTIONS"}];const le=[{label:"SETTINGS_SYSTEM_ADMINISTRATION_PERMISSION_DEVICE_ADOPTION",value:"API_DEVICE_ADOPT"},{label:"SETTINGS_SYSTEM_ADMINISTRATION_PERMISSION_DEVICE_RESTART",value:"API_DEVICE_RESTART"}],ce=[{label:"SETTINGS_SYSTEM_ADMINISTRATION_PERMISSION_DASHBOARD_EDITING",value:"API_DASHBOARD_EDIT"},{label:"SETTINGS_SYSTEM_ADMINISTRATION_PERMISSION_SYSTEM_STATS",value:"API_WIDGET_OS_STATS"},{label:"SETTINGS_SYSTEM_ADMINISTRATION_PERMISSION_READ_ONLY_ACCESS_TO_ALL_SITES",value:"GLOBAL_READONLY_ADMIN_ACCESS"},{label:"SETTINGS_SYSTEM_ADMINISTRATION_PERMISSION_SHOW_PENDING_DEVICES",value:"API_STAT_DEVICE_ACCESS_SUPER_SITE_PENDING"}],se=({is_super:e,role:t})=>e?"SETTINGS_SYSTEM_ADMINISTRATION_TABLE_ROLE_ADMINISTRATOR":t===F.a.SITE_ADMIN?"SETTINGS_SYSTEM_ADMINISTRATION_TABLE_ROLE_SITE_ADMINISTRATOR":"SETTINGS_SYSTEM_ADMINISTRATION_TABLE_ROLE_VIEW_ONLY",Se=e=>{const t=[],{permissions:a,super_site_permissions:n,role:r,is_super:i}=e,o=r===F.a.SITE_ADMIN;return(o||a&&a.includes("API_DEVICE_ADOPT"))&&t.push("SETTINGS_SYSTEM_ADMINISTRATION_TABLE_PERMISSIONS_ADOPT"),(o||a&&a.includes("API_DEVICE_RESTART"))&&t.push("SETTINGS_SYSTEM_ADMINISTRATION_TABLE_PERMISSIONS_RESTART"),(i||n&&n.includes("API_WIDGET_OS_STATS"))&&t.push("SETTINGS_SYSTEM_ADMINISTRATION_TABLE_PERMISSIONS_OS_STATS"),t},_e=e=>e.name||e.email,me=e=>{if(!e)return[];const{push_alert_enabled:t,email_alert_enabled:a}=e,n=[];return t&&n.push(K.PUSH),a&&n.push(K.EMAIL),n},Ee=e=>{if(!e)return[];const{html_email_enabled:t,is_professional_installer:a}=e,n=[];return t&&n.push(re.HTML),a&&n.push(re.PROF),n};var de=a(45),ue=a(1755),Te=a(1754),pe=a(1759),Ie=a(1924),Oe=a(54);const be=Object(Y.c)(V.g)`
  font-size: ${({theme:e})=>e.fontSize["font-size-xl"]}; // 20px
  position: relative;
  color: ${({theme:e})=>e.motifPalette.text01};
`,Ne=Object(Y.c)(ue.a)`
  flex: 1 !important;
  justify-content: flex-end !important;
`,Ae=Object(Y.c)(Te.a)`
  margin-top: ${({theme:e})=>e.spacing["spacing-xxxxxl"]}; // 40px
`,ge=Object(Y.c)(Te.a)`
  border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui04};
  padding-bottom: ${({theme:e})=>e.spacing["spacing-xxxxl"]}; // 32px
`,fe=Object(Y.c)(Oe.Field)`
  label {
    color: ${({theme:e})=>e.motifPalette.text03} !important;
  }

  > div:nth-child(2) > div {
    background: ${({theme:e})=>e.motifPalette.ui04} !important;
  }
`;function Me({closeModal:e}){const{is_super:t}=Object(l.useSelector)(s.z),{adminId:a}=Object(d.m)(),i="add-admin"===a,{values:{role:c},initialValues:{permissions:S,super_site_permissions:_},isSubmitting:m,resetForm:E,handleSubmit:u,setFieldValue:T}=Object(de.e)(),p=Object(n.useMemo)(()=>z.filter(({value:e})=>e!==F.a.ADMIN||t),[t]);return Object(n.useEffect)(()=>{T("permissions",S),T("super_site_permissions",_)},[c,T,S,_]),Object(n.useEffect)(()=>{i&&E()},[i,E]),r.a.createElement(pe.a,{size:"small",isOpen:i,onRequestClose:e,header:()=>r.a.createElement(be,{alignItems:"center",justifyContent:"center"},r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_ADD_NEW_ADMIN"})),actions:[{disabled:m,text:r.a.createElement(o.c,{id:"COMMON_ACTION_CANCEL"}),type:"button",variant:"default",onClick:e},{disabled:m,text:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_INVITE"}),type:"button",variant:"primary",onClick:()=>u()}]},r.a.createElement(Ae,null,r.a.createElement(ue.a,{column:!0,unlimitedWidth:!0},r.a.createElement(Oe.Field,{name:"name",full:!0,label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_USERNAME_LABEL"}))),r.a.createElement(Te.a,null,r.a.createElement(ue.a,{column:!0,unlimitedWidth:!0},r.a.createElement(Oe.Field,{name:"email",full:!0,label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_EMAIL_LABEL"}))),r.a.createElement(Te.a,null,r.a.createElement(ue.a,{column:!0,unlimitedWidth:!0},r.a.createElement(fe,{type:"dropdown",name:"role",options:p,translateOptions:!0,validated:!0,full:!0,label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_ROLE_LABEL",translateLabel:!0,placeholder:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_ROLE_PLACEHOLDER",translatePlaceholder:!0}))),c===F.a.VIEW_ONLY&&r.a.createElement(ge,null,r.a.createElement(fe,{type:"dropdown",name:"permissions",options:le,multi:!0,selectionItemWidth:"auto",translateOptions:!0,full:!0,label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_SITE_PERMISSIONS",translateLabel:!0,placeholder:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_SITE_PERMISSIONS_PLACEHOLDER",translatePlaceholder:!0})),c===F.a.SITE_ADMIN&&r.a.createElement(ge,null,r.a.createElement(fe,{type:"dropdown",name:"super_site_permissions",options:ce,multi:!0,selectionItemWidth:"auto",translateOptions:!0,full:!0,label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_PERMISSIONS",translateLabel:!0,placeholder:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_PERMISSIONS_PLACEHOLDER",translatePlaceholder:!0})),r.a.createElement(Te.a,null,r.a.createElement(Ie.a,{alignWith:"toggleSmall",htmlFor:"for_sso",label:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_REMOTE_LABEL"}),description:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_REMOTE_DESCRIPTION"})}),r.a.createElement(Ne,null,r.a.createElement(Oe.Field,{name:"for_sso",type:"checkbox"}))))}const he={name:"",email:"",role:"",for_sso:!1,permissions:le.map(({value:e})=>e),super_site_permissions:ce.map(({value:e})=>e)};function Re({closeModal:e}){const t=Object(l.useDispatch)(),{is_super:a}=Object(l.useSelector)(s.z),i=Object(n.useCallback)((n,{resetForm:r,setSubmitting:i})=>{const{role:o,permissions:l,super_site_permissions:c}=n;let s=[];a&&(o===F.a.SITE_ADMIN?s=c:o===F.a.ADMIN&&(s=he.super_site_permissions));const S={...n,permissions:o!==F.a.VIEW_ONLY?he.permissions:l,super_site_permissions:s},_=_e(S);t(v(S)).then(()=>{e(),r(),t(Object(m.c)({icon:E.a.success,message:"SETTINGS_SYSTEM_ADMINISTRATION_INVITE_SUCCESS",values:{name:_}}))}).catch(({msg:e})=>{t(Object(m.c)({icon:E.a.danger,message:"SETTINGS_SYSTEM_ADMINISTRATION_INVITE_ERROR",values:{name:_},errorMessage:e}))}).finally(()=>{i(!1)})},[t,e,a]);return r.a.createElement(de.c,{enableReinitialize:!0,initialValues:he,validationSchema:X,onSubmit:i},r.a.createElement(Me,{closeModal:e}))}var Ce=a(1929),De=a(49),je=a(52);const ve=Object(Y.c)(je.a,{shouldForwardProp:e=>!["shadow","isRemoveVisible"].includes(e)})`
  padding: 0 !important;
  width: 448px !important;
  z-index: 1337;
  footer {
    margin-top: 0;
    padding: ${({theme:e})=>`${e.spacing["spacing-xxl"]} ${e.spacing["spacing-xxxxl"]}`}; // 24px 32px 24px 32px
    ${({theme:e,shadow:t})=>t&&`box-shadow: 0 -1px 3px ${e.motifPalette.shadow02};`}
    z-index: 1;
    border-top: none;

    ${({isRemoveVisible:e})=>e&&"& > div {\n      width: 100%;\n\n      & > div:first-child {\n        margin-right: auto;\n      }\n    }"}
  }
`,xe=Object(Y.c)("div")`
  padding: 0 ${({theme:e})=>e.spacing["spacing-xxxxl"]}; // 0 32px
  height: 450px;
  overflow-y: auto;

  &::-webkit-scrollbar {
    width: 4px;

    &-track {
      background-color: ${({theme:e})=>e.motifPalette.ui04};
    }

    &-thumb {
      background-color: ${({theme:e})=>e.motifPalette.ui05};
      border-radius: 4px;
    }
  }
`,ye=Object(Y.c)("div")`
  padding-bottom: ${({theme:e})=>e.spacing["spacing-xxl"]}; // 24px
  border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui04};

  > div:last-child {
    border: none;
    padding-bottom: 0;
  }
`,Le=Object(Y.c)(V.g)`
  font-size: ${({theme:e})=>e.fontSize["font-size-xl"]}; // 20px
  position: relative;
  color: ${({theme:e})=>e.motifPalette.text01};
  padding-top: ${({theme:e})=>e.spacing["spacing-xxl"]}; // 24px;
  padding-bottom: ${({theme:e})=>e.spacing["spacing-xxl"]}; // 24px;
  ${({theme:e,shadow:t})=>t&&"box-shadow: 0 1px 3px "+e.motifPalette.shadow02};
  z-index: 1;
`,Pe=Object(Y.c)(Oe.Field)`
  label {
    color: ${({theme:e})=>e.motifPalette.text03} !important;
  }

  > div:nth-child(2) > div {
    background: ${({theme:e})=>e.motifPalette.ui04} !important;
  }
`,we=Object(Y.c)(Te.a)`
  border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui04};
  padding-bottom: ${({theme:e})=>e.spacing["spacing-xxxxl"]}; // 32px
`,Ge=Object(Y.c)(ue.a)`
  flex: 1 !important;
  justify-content: flex-end !important;
`,Fe=Object(Y.c)(Ie.a)`
  flex: none !important;
  padding-right: 0 !important;
  align-self: center;
  justify-content: flex-end;
  color: ${({theme:e})=>e.motifPalette.text02} !important;
`,Ye=Object(Y.c)(ue.a)`
  margin-right: 16px;
`,ke=Object(Y.c)(De.a)`
  color: ${({theme:e})=>e.motifPalette.text01};
  margin-bottom: ${({theme:e})=>e.spacing["spacing-m"]}; // 12px
`;function Be({closeModal:e,adminId:t,isSelf:a}){const i=Object(l.useDispatch)(),c=Object(l.useSelector)(s.u),S=a||!c,[_,d]=Object(n.useState)(!1),[u,T]=Object(n.useState)(!0),{resetForm:p,isSubmitting:I,handleSubmit:O,initialValues:{admin_id:b,is_super:N,name:A},values:{role:g,email_alert_grouping_delay:f,alerts:M,requires_new_password:h}}=Object(de.e)(),R=!!t,C=Object(l.useSelector)(s.v),{admin_id:D,site_role:j}=Object(l.useSelector)(s.z),v=D!==b&&!N&&(C||j!==g);Object(n.useEffect)(()=>{R&&p()},[R,p]);const x=Object(n.useCallback)(()=>i(Object(W.b)({name:A,onConfirm:()=>i(y(b)).then(()=>{i(Object(m.c)({icon:E.a.success,message:"SETTINGS_SYSTEM_ADMINISTRATION_REMOVE_SUCCESS",values:{name:A}})),e()}).catch(()=>{i(Object(m.c)({icon:E.a.danger,message:"COMMON_NOTICE_REMOVE_ERROR",values:{name:A}}))})})),[b,e,i,A]);return r.a.createElement(ve,{size:"small",isOpen:R,onRequestClose:e,header:()=>r.a.createElement(Le,{alignItems:"center",justifyContent:"center",shadow:_},r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_EDIT_ACCOUNT"})),shadow:u,actions:[v&&{disabled:I,text:r.a.createElement(o.c,{id:"COMMON_ACTION_REMOVE"}),type:"button",variant:"default",onClick:x},{disabled:I,text:r.a.createElement(o.c,{id:"COMMON_ACTION_CANCEL"}),type:"button",variant:"default",onClick:e},{disabled:I,text:r.a.createElement(o.c,{id:"COMMON_ACTION_SAVE_CHANGES"}),type:"button",variant:"primary",onClick:()=>O()}],isRemoveVisible:v},r.a.createElement(xe,{onScroll:({target:e})=>{const{scrollTop:t,clientHeight:a,scrollHeight:n}=e;d(t>0),T(n-t-a>1)}},r.a.createElement(ye,null,r.a.createElement(Te.a,{disabled:!S},r.a.createElement(ue.a,{column:!0,unlimitedWidth:!0},r.a.createElement(Oe.Field,{name:"name",full:!0,label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_USERNAME_LABEL",allowReadOnly:S}))),r.a.createElement(Te.a,{disabled:!S},r.a.createElement(ue.a,{column:!0,unlimitedWidth:!0},r.a.createElement(Oe.Field,{name:"email",full:!0,label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_EMAIL_LABEL",allowReadOnly:S}))),r.a.createElement(Te.a,{disabled:!S},r.a.createElement(ue.a,{column:!0,unlimitedWidth:!0},r.a.createElement(Oe.Field,{name:"x_password",full:!0,label:"SETTINGS_SYSTEM_ADMINISTRATION_EDIT_PASSWORD_LABEL",type:"password",passwordToggle:!0,allowReadOnly:S}))),!a&&r.a.createElement(Te.a,{disabled:!S},r.a.createElement(ue.a,{column:!0,unlimitedWidth:!0},r.a.createElement(Pe,{type:"dropdown",name:"role",options:z,translateOptions:!0,full:!0,validated:!0,label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_ROLE_LABEL",translateLabel:!0,placeholder:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_ROLE_PLACEHOLDER",translatePlaceholder:!0,allowReadOnly:S}))),g===F.a.VIEW_ONLY&&!a&&r.a.createElement(we,null,r.a.createElement(Pe,{type:"dropdown",name:"permissions",options:le,multi:!0,selectionItemWidth:"auto",translateOptions:!0,full:!0,label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_SITE_PERMISSIONS",translateLabel:!0,placeholder:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_SITE_PERMISSIONS_PLACEHOLDER",translatePlaceholder:!0,allowReadOnly:S})),g===F.a.SITE_ADMIN&&r.a.createElement(we,null,r.a.createElement(Pe,{type:"dropdown",name:"super_site_permissions",options:ce,multi:!0,selectionItemWidth:"auto",translateOptions:!0,full:!0,label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_PERMISSIONS",translateLabel:!0,placeholder:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_PERMISSIONS_PLACEHOLDER",translatePlaceholder:!0,allowReadOnly:S})),r.a.createElement(Te.a,null,r.a.createElement(Pe,{type:"dropdown",name:"alerts",options:ie,multi:!0,selectionItemWidth:"auto",translateOptions:!0,full:!0,label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_ALERTS_LABEL",translateLabel:!0,placeholder:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_ALERTS_PLACEHOLDER",translatePlaceholder:!0,allowReadOnly:S})),M.includes(K.EMAIL)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{disabled:!S},r.a.createElement(Ie.a,{htmlFor:"email_alert_grouping_enabled",alignWith:"toggleSmall",label:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_GROUP_IN_EMAIL"})}),r.a.createElement(Ge,null,r.a.createElement(Oe.Field,{type:"checkbox",name:"email_alert_grouping_enabled",allowReadOnly:S}))),r.a.createElement(we,{disabled:!S},r.a.createElement(Ye,{column:!0,unlimitedWidth:!0},r.a.createElement(Oe.Field,{full:!0,name:"email_alert_grouping_delay",type:"number",label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_GROUP_WITHIN",min:1,allowReadOnly:S})),r.a.createElement(Fe,{htmlFor:"email_alert_grouping_delay",alignWith:"input",label:r.a.createElement(o.c,{id:"COMMON_DATETIME_LABEL_MINUTES_CAPITALIZED",values:{minutes:f}})}))),g!==F.a.VIEW_ONLY&&a&&r.a.createElement(Te.a,null,r.a.createElement(Pe,{type:"dropdown",name:"advancedOptions",options:oe,multi:!0,selectionItemWidth:"auto",translateOptions:!0,full:!0,label:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_ADVANCED_OPTIONS_LABEL",translateLabel:!0,placeholder:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_ADVANCED_OPTIONS_PLACEHOLDER",translatePlaceholder:!0,allowReadOnly:S})),a&&!h&&r.a.createElement(Te.a,{disabled:!S},r.a.createElement(ue.a,{column:!0,unlimitedWidth:!0},r.a.createElement(ke,null,r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_CURRENT_PASSWORD_DESCRIPTION"})),r.a.createElement(Oe.Field,{name:"x_oldpassword",full:!0,label:"SETTINGS_SYSTEM_ADMINISTRATION_CURRENT_PASSWORD_LABEL",type:"password",passwordToggle:!0,allowReadOnly:S}))))))}const Ue=(e,t,a)=>{if(t){const{email_alert_grouping_delay:e}=a||{},n={...a,x_oldpassword:"",x_password:"",alerts:me(a),advancedOptions:Ee(a),isSelf:t};return e&&(n.email_alert_grouping_delay=Object(Ce.a)(e/60,2)),n}const{email_alert_grouping_delay:n}=e||{},r={...e,x_password:"",alerts:me(e),advancedOptions:Ee(e),role:(null==e?void 0:e.is_super)?F.a.ADMIN:null==e?void 0:e.role,isSelf:t};return n&&(r.email_alert_grouping_delay=Object(Ce.a)(n/60,2)),r};function Ve({closeModal:e}){var t;const a=Object(l.useDispatch)(),{adminId:i}=Object(d.m)(),o=Object(l.useSelector)(s.z),S=Object(l.useSelector)((_=i,e=>G(e).find(({_id:e})=>e===_)));var _;const u=(null==o?void 0:o.admin_id)===i,T=Object(n.useCallback)((t,{resetForm:n,setSubmitting:r})=>{const{name:i,email:o,x_password:l,x_oldpassword:_,alerts:d,advancedOptions:T,email_alert_grouping_enabled:I,email_alert_grouping_delay:b,_id:N,is_super:h,is_verified:R,role:v,super_site_permissions:x,super_site_role:y,permissions:w}=t,G=d.includes(K.EMAIL),Y=d.includes(K.PUSH),k=T.includes(re.HTML),B=T.includes(re.PROF),U=G&&I?Object(Ce.a)(60*b):0,V=G&&I;if(u){const t={email:o,name:i,x_oldpassword:_,x_password:l,email_alert_enabled:G,email_alert_grouping_enabled:V,email_alert_grouping_delay:U,push_alert_enabled:Y,html_email_enabled:k,is_professional_installer:B};a(Object(s.O)(t)).then(()=>{a(Object(m.c)({icon:E.a.success,message:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_EDIT_SELF_SUCCESS"})),a(D()),e(),n()}).catch(({msg:e})=>{a(Object(m.c)({icon:E.a.danger,message:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_EDIT_SELF_ERROR",errorMessage:e}))}).finally(()=>{r(!1)})}else{let t=[];v===F.a.SITE_ADMIN?t=x:v===F.a.ADMIN&&(t=ce.map(({value:e})=>e));const s={admin:N,email:o,email_alert_enabled:G,email_alert_grouping_enabled:V,email_alert_grouping_delay:U,html_email_enabled:k,is_professional_installer:B,is_super:h,is_verified:R,name:i,permissions:v!==F.a.VIEW_ONLY?le.map(({value:e})=>e):w,push_alert_enabled:Y,role:v,super_site_permissions:t,super_site_role:y,x_password:l};a((W=s,$=S,function(){var e=O()(p.a.mark((function e(t){var a,n,r,i,o,l,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=W.role,n=a===f.ADMIN,r=!n&&$.is_super,i=n&&!$.is_super,o=!Object(c.a)(W.permissions,$.permissions),l=a!==$.role&&[f.VIEW_ONLY,f.SITE_ADMIN].includes(W.role),s=P(W,$),e.next=9,t(L(W));case 9:if(e.t0=r,!e.t0){e.next=13;break}return e.next=13,t((S=W.admin,Object(g.n)(A.a.REVOKE_SUPER_ADMIN,M,{admin:S})));case 13:if(e.t1=i,!e.t1){e.next=17;break}return e.next=17,t(j({admin:W.admin}));case 17:if(n){e.next=26;break}if(e.t2=l||o,!e.t2){e.next=22;break}return e.next=22,t(C({admin:W.admin,role:a,permissions:W.permissions}));case 22:if(e.t3=s,!e.t3){e.next=26;break}return e.next=26,t(j({admin:W.admin,permissions:W.super_site_permissions,role:"nobody"}));case 26:return e.abrupt("return",t(D()));case 27:case"end":return e.stop()}var S}),e)})));return function(t){return e.apply(this,arguments)}}())).then(()=>{a(Object(m.c)({icon:E.a.success,message:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_EDIT_ADMIN_SUCCESS",values:{name:i}})),a(D()),e(),n()}).catch(({msg:e})=>{a(Object(m.c)({icon:E.a.danger,message:"SETTINGS_SYSTEM_ADMINISTRATION_ADMIN_EDIT_ADMIN_ERROR",values:{name:i},errorMessage:e}))}).finally(()=>{r(!1)})}var W,$},[a,e,u,S]);return r.a.createElement(de.c,{enableReinitialize:!0,initialValues:Ue(S,u,o),validationSchema:J,onSubmit:T},r.a.createElement(Be,{closeModal:e,adminId:null!==(t=null==S?void 0:S._id)&&void 0!==t?t:u&&(null==o?void 0:o.admin_id),isSelf:u}))}const We=Object(Y.c)("div")`
  border: 1px solid ${({theme:e})=>e.motifPalette.ui04};
  border-radius: ${({theme:e})=>e.spacing["spacing-xs"]}; // 4px
  padding: 3px;
  margin-right: ${({theme:e})=>e.spacing["spacing-xs"]}; // 4px
  text-transform: uppercase;
`,$e=Object(Y.c)(V.c)`
  margin-top: ${({theme:e})=>e.spacing["spacing-l"]}; // 16px
`,ze=Object(Y.c)(V.c)`
  padding-right: ${({theme:e})=>e.spacing["spacing-l"]}; // 16px

  > span {
    display: flex;
    align-items: center;
  }
`,He=[{id:"name",label:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_TABLE_USERNAME_LABEL"}),sortable:!0,minWidth:100},{id:"email",label:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_TABLE_EMAIL_LABEL"}),sortable:!0,minWidth:100,growthFactor:200},{id:"is_verified",label:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_TABLE_VERIFIED_LABEL"}),renderCell:({is_verified:e})=>e?r.a.createElement(B.v,{width:9}):"-",align:"center",minWidth:100},{compare:Object($.a)(({role:e,is_super:t})=>se({is_super:t,role:e})),id:"role",label:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_TABLE_ROLE_LABEL"}),sortable:!0,renderCell:({is_super:e,role:t})=>r.a.createElement(o.c,{id:se({is_super:e,role:t})}),minWidth:150,maxWidth:150},{compare:Object($.a)(e=>Se(e).join(" ")),id:"permissions",label:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_TABLE_PERMISSIONS_LABEL"}),sortable:!0,renderCell:e=>Se(e).map(e=>r.a.createElement(We,{key:e},r.a.createElement(o.c,{id:e}))),minWidth:170}];function qe(){const e=Object(i.h)("system/administration"),t=Object(d.k)(),a=Object(l.useDispatch)(),c=Object(l.useSelector)(G),S=Object(l.useSelector)(s.v),{admin_id:_,site_role:u}=Object(l.useSelector)(s.z),T=({_id:e,is_verified:t})=>t&&(S||_===e),p=Object(n.useCallback)(()=>{t.replace(""+e)},[e,t]),I=Object(n.useCallback)(e=>{a(v(e)).then(()=>{a(Object(m.c)({icon:E.a.success,message:"SETTINGS_SYSTEM_ADMINISTRATION_INVITE_SUCCESS",values:{name:_e(e)}}))}).catch(({msg:t})=>{a(Object(m.c)({icon:E.a.danger,message:"SETTINGS_SYSTEM_ADMINISTRATION_INVITE_ERROR",values:{name:_e(e)},errorMessage:t}))})},[a]),O=Object(n.useCallback)(e=>{const t=_e(e);a(Object(W.b)({name:t,onConfirm:()=>{a(y(e._id)).then(()=>{a(Object(m.c)({icon:E.a.success,message:"SETTINGS_SYSTEM_ADMINISTRATION_REMOVE_SUCCESS",values:{name:t}}))}).catch(()=>{a(Object(m.c)({icon:E.a.danger,message:"COMMON_NOTICE_REMOVE_ERROR",values:{name:t}}))})}}))},[a]);return Object(i.e)([D(g.a.CACHE)],r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{columns:He,items:c,idField:"_id",disableColumnFilters:!0,disableTextPointer:!0,disableSelection:!0,onRowClick:a=>T(a)&&t.push(`${e}/admin-table/${a._id}`),renderRowPopoverContent:e=>{const t=Object(k.a)(e,["expanded","lastChild","parent","child"]);return T(t)?null:r.a.createElement(V.g,{justifyContent:"space-around",alignItems:"center"},(({_id:e,is_super:t,is_verified:a,role:n})=>_!==e&&!t&&!a&&n!==F.a.HOTSPOT)(t)&&r.a.createElement(ze,{name:"re-invite-admin",type:"button",noWrap:!0,variant:"inline",onClick:()=>I(t),legacy:!1},r.a.createElement(B.hc,{isActive:!0})," ",r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_RE_INVITE"})),(({_id:e,is_super:t,role:a})=>_!==e&&!t&&(S||u!==a))(t)&&r.a.createElement(ze,{name:"remove-admin",type:"button",noWrap:!0,variant:"inline",onClick:()=>O(t),legacy:!1},r.a.createElement(B.cc,{isActive:!0})," ",r.a.createElement(o.c,{id:"COMMON_ACTION_REMOVE"})))}}),u!==F.a.VIEW_ONLY&&r.a.createElement($e,{legacy:!1,name:"add-new-admin",type:"button",variant:"inline",onClick:()=>t.push(e+"/admin-table/add-admin")},r.a.createElement(B.ub,{isActive:!0})," ",r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_ADD_NEW_ADMIN"})),r.a.createElement(Re,{closeModal:p}),r.a.createElement(Ve,{closeModal:p})))}var Xe=a(1753),Ke=a(99),Je=a(65),Ze=a(24),Qe=a(97),et=a(20),tt=a(75),at=a(609),nt=a(233);const rt=Object(Y.c)("div")`
  border: 1px solid ${({color:e})=>e};
  border-radius: 4px;
`,it=Object(Y.c)(De.a)`
  padding: 5px 12px;
  letter-spacing: 1.3px;
`;var ot=Object(nt.b)((function(e){const{level:t,label:a}=(({connected:e,connecting:t,enabled:a,registered:n,theme:r})=>t?{level:r.motifPalette.warning,label:Z}:a?e?{level:r.motifPalette.success,label:Q}:n?{level:r.motifPalette.error,label:te}:{level:r.motifPalette.error,label:ae}:{level:r.motifPalette.text02,label:ee})({...e});return r.a.createElement(rt,{color:t},r.a.createElement(it,{uppercase:!0},r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_"+a.toUpperCase()})))}));const lt=Object(Y.c)(je.a)`
  footer {
    border-top: none;
    margin-top: 0;
    padding-top: ${({theme:e})=>e.spacing["spacing-xxxxl"]}; // 32px
  }
`,ct=Object(Y.c)(V.g)`
  font-size: ${({theme:e})=>e.fontSize["font-size-xl"]}; // 20px
  font-weight: normal;
  position: relative;
  color: ${({theme:e})=>e.motifPalette.text01};
`,st=Object(Y.c)("div")`
  cursor: pointer;
  top: 0;
  position: absolute;
  right: 0;
`,St=Object(Y.c)(V.c)`
  color: ${({theme:e})=>e.motifPalette.text01};
  margin-top: ${({theme:e})=>e.spacing["spacing-l"]}; // 16px
  padding-top: ${({theme:e})=>e.spacing["spacing-xs"]}; // 4px

  > span {
    width: 100%;
    text-align: right;
  }

  &:focus {
    outline: none;
  }
`,_t=Object(Y.c)(De.a,{shouldForwardProp:e=>"paddingTop"!==e&&"paddingBottom"!==e})`
  padding-top: ${({paddingTop:e})=>e}px;
  padding-bottom: ${({paddingBottom:e})=>e}px;
`,mt=Object(Y.c)(Oe.Field)`
  margin-top: ${({theme:e})=>e.spacing["spacing-l"]}; // 16px
`;function Et({closeModal:e,isOpen:t,env:a,register:i,onRegisterControllerCloudAccessCancel:c}){const{isSubmitting:S,isValid:_,handleSubmit:m,resetForm:E,values:{faPrompt:d}}=Object(de.e)(),u=Object(l.useSelector)(s.l),T=Object(n.useMemo)(()=>`https://${Object(Ke.a)(a)}/register`,[a]),p=Object(n.useMemo)(()=>`https://${Object(Ke.a)(a)}/manage/settings/2fa`,[a]);Object(n.useEffect)(()=>{t&&E()},[t,E]);const I=Object(n.useCallback)(()=>{e(),i&&c()},[e,i,c]);return r.a.createElement(lt,{size:"small",isOpen:t,onRequestClose:I,header:()=>r.a.createElement(ct,{alignItems:"center",justifyContent:"center"},r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_ENABLE_LABEL"}),r.a.createElement(st,{onClick:I},r.a.createElement(B.A,null))),actions:[{disabled:S,text:r.a.createElement(o.c,{id:"COMMON_ACTION_CANCEL"}),type:"button",variant:"default",onClick:I},{disabled:S||!_,text:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_ENABLE_LABEL"}),type:"button",variant:"primary",onClick:()=>m()}]},r.a.createElement(V.g,{flexDirection:"column"},r.a.createElement(_t,{paddingTop:40,paddingBottom:d&&20},r.a.createElement(o.c,{id:d?"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_CREDENTIALS_2FA_TEXT":"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_CREDENTIALS_TEXT"})),d?r.a.createElement(Oe.Field,{name:"token",placeholder:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_CREDENTIALS_2FA_TOKEN",full:!0}):r.a.createElement(r.a.Fragment,null,r.a.createElement(_t,{color:"secondary",paddingTop:8,paddingBottom:8},r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_CREDENTIAL_DESCRIPTION",values:{user:u}})),r.a.createElement(Oe.Field,{name:"username",placeholder:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_CREDENTIAL_USERNAME_PLACHOLDER",full:!0}),r.a.createElement(mt,{name:"password",placeholder:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_CREDENTIAL_PASSWORD_PLACHOLDER",full:!0,type:"password",passwordToggle:!0})),r.a.createElement(St,{name:"account-prompt",legacy:!1,type:"button",variant:"link",target:"_blank",rel:"noopener noreferrer",href:d?p:T},r.a.createElement(o.c,{id:d?"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_CREDENTIALS_2FA_LINK":"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_CREDENTIAL_ACCOUNT_PROMPT"}))))}var dt=a(148);const ut={username:"",password:"",token:"",faPrompt:!1};function Tt({closeModal:e,isOpen:t,env:a,register:i,onRegisterControllerCloudAccessCancel:c}){const S=Object(l.useDispatch)(),_=i?at.registerControllerCloudAccess:s.e,d=Object(n.useCallback)((t,{setSubmitting:a,setFieldError:n,resetForm:l})=>{const c=Object.keys(t).reduce((e,a)=>(t[a]&&"faPrompt"!==a&&(e[a]=t[a]),e),{});_(c)(S).then(()=>{e(),l(),S(Object(m.c)({icon:E.a.success,message:i?"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_ENABLE_REMOTE_ACCESS_SUCCESS":"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_ENABLE_USER_ACCESS_SUCCESS"}))}).catch(({apiMsg:a})=>{"api.err.Ubic2faTokenRequired"===a?l({values:{...t,faPrompt:!0}}):"api.err.IncorrectUbicCreds"===a?n("password",r.a.createElement(o.c,{id:"API_ERROR_INCORRECT_CREDENTIALS"})):(e(),l(),S(Object(m.c)({icon:E.a.danger,message:i?"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_ENABLE_REMOTE_ACCESS_ERROR":"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_ENABLE_USER_ACCESS_ERROR",errorMessage:dt.a[a]})))}).finally(()=>{a(!1)})},[S,e,i,_]);return r.a.createElement(de.c,{enableReinitialize:!0,initialValues:ut,validationSchema:ne,onSubmit:d},r.a.createElement(Et,{closeModal:e,isOpen:t,env:a,register:i,onRegisterControllerCloudAccessCancel:c}))}const pt=Object(Y.c)(Xe.a)`
  border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui01};
  padding-left: 0 !important;
  margin-left: ${({theme:e})=>e.spacing["spacing-xxxxl"]}; // 32px
`,It=Object(Y.c)(B.d)`
  margin-right: 10px;
`,Ot=Object(Y.c)(Ze.a)`
  padding-top: 15px;
`,bt=Object(Y.c)(Oe.Field)`
  margin-right: ${({theme:e})=>e.spacing["spacing-s"]}; // 8px
`,Nt=Object(Y.c)(V.c)`
  margin-left: ${({theme:e})=>e.spacing["spacing-s"]}; // 8px
`,At=Object(Y.c)(ue.a)`
  align-items: center;
`;var gt=()=>{const{setFieldValue:e}=Object(de.e)(),t=Object(l.useDispatch)(),[a,c]=Object(n.useState)(!1),[_,m]=Object(n.useState)(!1),E=Object(l.useSelector)(Je.selectEnv),d=Object(l.useSelector)(s.m),u=Object(l.useSelector)(s.y),T=Object(l.useSelector)(Je.selectSSOLoginEnabled),p=Object(l.useSelector)(Je.selectEnabled),I=Object(l.useSelector)(Je.selectRegistered),{ubic_uuid:O}=Object(l.useSelector)(S.selectSuperCloudAccessSettings),b=Object(l.useSelector)(s.E),N=Object(l.useSelector)(Qe.o),A=Object(l.useSelector)(Je.selectConnected),f=Object(l.useSelector)(Je.selectConnecting),M=Object(n.useMemo)(()=>!!b&&O===b,[b,O]),h=Object(n.useMemo)(()=>I&&p,[I,p]),R=Object(n.useMemo)(()=>"https://"+Object(Ke.b)(E),[E]),C=Object(n.useMemo)(()=>!d&&(h||T),[T,d,h]),D=Object(n.useMemo)(()=>d&&(!M||!I),[M,I,d]),j=Object(n.useMemo)(()=>M&&!N,[M,N]);return Object(i.e)([Object(Je.fetchSdn)({type:g.a.CACHE})],r.a.createElement(r.a.Fragment,null,r.a.createElement(pt,null,r.a.createElement(Te.a,null,r.a.createElement(tt.SearchableGridLabel,{alignWith:"toggleSmall",htmlFor:"cloudAccess.enabled",label:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_ENABLE_LABEL"}),description:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_ENABLE_DESCRIPTION"}),searchText:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_ENABLE_SEARCH_TEXT"}),r.a.createElement(ue.a,null,r.a.createElement(Ze.a,null,r.a.createElement(bt,{name:"cloudAccess.enabled",type:"checkbox",afterChange:e=>{e&&!O?(m(!0),c(!0)):m(!1)}}),j&&r.a.createElement(V.c,{legacy:!1,name:"remove-controller-cloud-access",type:"button",variant:"inline",onClick:()=>{t(Object(W.a)({title:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_CONFIRM_REMOVE_TITLE",message:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_CONFIRM_REMOVE_DESCR",size:"medium",onConfirm:()=>{t(Object(et.e)()),t(Object(at.unregisterControllerCloudAccess)())}}))}},r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_DISABLE_REMOVE"}))))),r.a.createElement(Te.a,null,r.a.createElement(tt.SearchableGridLabel,{alignWith:8,htmlFor:"cloudStatus",label:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_STATUS_LABEL"})}),r.a.createElement(ue.a,{unlimitedWidth:!0,column:!0},r.a.createElement(ot,{connected:A,connecting:f,enabled:p,registered:I}),"stage"===E&&r.a.createElement(Ot,{alignItems:"center"},r.a.createElement(It,{size:"large"}),r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_NOTIFICATION"}))))),(d||C)&&r.a.createElement(pt,null,h&&r.a.createElement(Te.a,null,r.a.createElement(tt.SearchableGridLabel,{label:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_DASHBOARD_LABEL"}),searchIgnore:!0}),r.a.createElement(ue.a,null,r.a.createElement(V.c,{legacy:!1,name:"go-to-cloud-access-dashboard",variant:"inline",href:R,target:"_blank",rel:"noopener noreferrer"},R))),r.a.createElement(Te.a,null,r.a.createElement(tt.SearchableGridLabel,{label:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_CONFIGURED_FOR_LABEL"}),searchIgnore:!0}),r.a.createElement(At,{unlimitedWidth:!0},d&&u,C&&r.a.createElement(Nt,{legacy:!1,name:"enable-user-cloud-access",type:"button",variant:"inline",onClick:()=>c(!0)},r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_ENABLE_USER_ACCESS"})),D&&r.a.createElement(Nt,{legacy:!1,name:"disable-user-cloud-access",type:"button",variant:"inline",onClick:()=>{t(Object(W.a)({title:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_CONFIRM_DISABLE_USER_ACCESS_TITLE",message:"SETTINGS_SYSTEM_ADMINISTRATION_REMOTE_ACCESS_CONFIRM_DISABLE_USER_ACCESS_DESCR",size:"medium",onConfirm:()=>{t(Object(et.e)()),t(Object(s.d)())}}))}},r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_DISABLE_USER_ACCESS"}))))),r.a.createElement(Xe.a,null,r.a.createElement(Te.a,null,r.a.createElement(tt.SearchableGridLabel,{htmlFor:"sdn.sso_login_enabled",label:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_SYNC_LABEL"}),description:r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_ADMINISTRATION_SYNC_DESCRIPTION"})}),r.a.createElement(ue.a,null,r.a.createElement(Oe.Field,{type:"checkbox",name:"sdn.sso_login_enabled"})))),r.a.createElement(Tt,{env:E,isOpen:a,closeModal:()=>c(!1),register:_,onRegisterControllerCloudAccessCancel:()=>{e("cloudAccess.enabled",!1)}})))};var ft=()=>{const{adminEndpoint:e}=Object(d.m)(),{site_role:t}=Object(l.useSelector)(s.z),a=Object(n.useMemo)(()=>[{id:"admins",label:r.a.createElement(o.c,{id:"SETTINGS_ADMINS_NAME"}),renderContent:()=>r.a.createElement(qe,null),openByDefault:"admin-table"===e}],[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,null),t!==F.a.VIEW_ONLY&&r.a.createElement(u.a,{items:a}))};const Mt={isSubmitted:!1};var ht=({onBack:e})=>{const t=Object(l.useDispatch)(),a=Object(l.useSelector)(s.u),i=Object(l.useSelector)(S.selectSuperCloudAccessSettings),d=Object(l.useSelector)(S.selectSuperSdnSettings),u=Object(n.useMemo)(()=>({cloudAccess:{...i},sdn:{...d}}),[i,d]),T=Object(n.useMemo)(()=>({component:r.a.createElement(o.c,{id:"SETTINGS_ADMINISTRATION_FORM_TITLE"}),message:"administration"}),[]),p=Object(n.useCallback)((e,{setStatus:a,setSubmitting:n})=>{const{cloudAccess:r,sdn:i}=e,o=[];Object(c.a)(r,u.cloudAccess)||o.push(t(Object(S.saveCloudAccessSettings)(r))),Object(c.a)(i,u.sdn)||o.push(t(Object(S.saveSettings)(i))),Promise.all(o).then(()=>{t(Object(m.c)({icon:E.a.success,message:"SETTINGS_SYSTEM_ADMINISTRATION_SAVE_SUCCESS"})),t(Object(S.fetchSettings)()),a({isSubmitted:!0})}).catch(e=>{t(Object(m.c)({errorMessage:e.msg,errorValues:e,icon:E.a.danger,message:"SETTINGS_SYSTEM_ADMINISTRATION_SAVE_ERROR"})),n(!1)})},[t,u]);return r.a.createElement(_.b,{goBack:e,hideClose:!0,initialStatus:Mt,initialValues:u,isEdit:!a,isView:a,showBack:!0,title:T,validationSchema:void 0,onEscClicked:e,onSubmit:p,unsavedChangesModalIgnoredPaths:/\/admin-table((\/)|(\/[a-zA-Z0-9_-]+\/?))?$/},r.a.createElement(ft,null))};t.default=()=>{const e=Object(i.g)();return r.a.createElement(ht,{onBack:e})}},1939:function(e,t,a){"use strict";var n=a(0),r=a(31);t.a=()=>{const e=Object(r.l)(),[t]=Object(n.useState)(e.pathname),[a,i]=Object(n.useState)(!1),o=Object(n.useRef)();return Object(n.useEffect)(()=>{i(!1);const a=/^(.*)\/[a-z0-9]*/i.exec(t),n=/^(.*)\/[a-z0-9]*/i.exec(e.pathname);return a[0].length===n[0].length&&a[1]===n[1]&&(o.current=setTimeout(()=>i(!0),500)),()=>clearTimeout(o.current)},[e.pathname,t]),a}},1941:function(e,t,a){"use strict";var n=a(25);Object(n.a)(".formFooter__beOiSeOS{position:relative;overflow:hidden;width:100%;flex:none;transition:height .1s ease,transform .1s ease}.formFooterContent__beOiSeOS{position:absolute;display:flex;width:100%;align-items:flex-start}.formFooterContent-align-left__beOiSeOS{justify-content:flex-start}.formFooterContent-align-center__beOiSeOS{justify-content:center}.formFooterContent-align-right__beOiSeOS{justify-content:flex-end}.formFooterContent-light__beOiSeOS.formFooterContent-backgroundGradient__beOiSeOS{background:linear-gradient(90deg,#fff,#f4f4f5)}.formFooterContent-dark__beOiSeOS.formFooterContent-backgroundGradient__beOiSeOS{background:linear-gradient(90deg,#151725,#242635)}.formFooterButtonWrap__beOiSeOS{flex:0 1 100px}.formFooterButtonWrap__beOiSeOS:not(:last-child){margin-right:16px}.formFooterTertiaryButtonWrap__beOiSeOS:not(:last-child){margin-right:28px}button.formFooterButton-default-size-small__beOiSeOS{height:30px}button.formFooterButton-default-size-medium__beOiSeOS{height:34px}button.formFooterButton-default-size-large__beOiSeOS{height:50px}.formFooterSummary__beOiSeOS{flex:1}.formFooterSummary__beOiSeOS:not(:last-child){margin-right:16px}.formFooterSummaryTitle__beOiSeOS{margin-bottom:8px;margin-top:0}.formFooterSummaryParagraph__beOiSeOS{margin-bottom:0;margin-top:0}"),t.a={formFooter:"formFooter__beOiSeOS",formFooterContent:"formFooterContent__beOiSeOS","formFooterContent-align-left":"formFooterContent-align-left__beOiSeOS","formFooterContent-align-center":"formFooterContent-align-center__beOiSeOS","formFooterContent-align-right":"formFooterContent-align-right__beOiSeOS","formFooterContent-light":"formFooterContent-light__beOiSeOS","formFooterContent-backgroundGradient":"formFooterContent-backgroundGradient__beOiSeOS","formFooterContent-dark":"formFooterContent-dark__beOiSeOS",formFooterButtonWrap:"formFooterButtonWrap__beOiSeOS",formFooterTertiaryButtonWrap:"formFooterTertiaryButtonWrap__beOiSeOS","formFooterButton-default-size-small":"formFooterButton-default-size-small__beOiSeOS","formFooterButton-default-size-medium":"formFooterButton-default-size-medium__beOiSeOS","formFooterButton-default-size-large":"formFooterButton-default-size-large__beOiSeOS",formFooterSummary:"formFooterSummary__beOiSeOS",formFooterSummaryTitle:"formFooterSummaryTitle__beOiSeOS",formFooterSummaryParagraph:"formFooterSummaryParagraph__beOiSeOS"}},1945:function(e,t,a){"use strict";a.d(t,"b",(function(){return w})),a.d(t,"a",(function(){return D}));var n=a(0),r=a.n(n),i=a(5),o=a(4),l=a(45),c=a(1973),s=a(1974),S=a(1948),_=a(799),m=a(95),E=a(1952),d=a(23),u=a(49),T=a(40),p=a(1848),I=a(793),O=a(1939);const b=i.a`
  &-appear,
  &-enter {
    opacity: 0;
    transform: translateX(15px);
  }
  &-appear-active,
  &-enter-active,
  &-appear-done,
  &-enter-done {
    opacity: 1;
    transform: translateX(0);
    transition: opacity 150ms cubic-bezier(0.25, 0.1, 0.25, 1) 130ms,
      transform 300ms cubic-bezier(0.25, 0.1, 0.25, 1.4) 130ms;
  }
  &-exit {
    opacity: 1;
    transform: translateX(0);
  }
  &-exit-active,
  &-exit-done {
    opacity: 0;
    transform: translateX(15px);
    transition: opacity 100ms linear, transform 100ms linear;
  }
`;var N=({timeout:e={enter:300,exit:100},in:t,children:a,ignoredPaths:i,...o})=>{const l=Object(O.a)(),c=Object(I.a)(i),s=Object(n.useMemo)(()=>r.a.Children.map(a,a=>null===a?a:r.a.createElement(p.a,Object.assign({appear:t||!c||l,in:t||!c||l,timeout:e,classNames:b,mountOnEnter:!0},o),a)),[a,t,c,l,e,o]);return r.a.createElement(r.a.Fragment,null,s)};const A=i.a`
  &-appear,
  &-enter {
    border-bottom: transparent !important;
  }
  &-appear-active,
  &-enter-active,
  &-appear-done,
  &-enter-done {
    transition: border-bottom 150ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }
  &-exit {
    opacity: 1;
  }
  &-exit-active,
  &-exit-done {
    opacity: 0;
    transition: opacity 100ms linear;
  }
`;var g=({timeout:e={enter:150,exit:100},in:t,children:a,ignoredPaths:i,...o})=>{const l=Object(O.a)(),c=Object(I.a)(i),s=Object(n.useMemo)(()=>r.a.Children.map(a,a=>null===a?a:r.a.createElement(p.a,Object.assign({appear:t||!c||l,in:t||!c||l,timeout:e,classNames:A,mountOnEnter:!0},o),a)),[a,t,c,l,e,o]);return r.a.createElement(r.a.Fragment,null,s)};const f=Object(i.c)(m.g)`
  > * {
    /* Use margin on child rather than padding on self not to occupy space when no button is shown */
    margin-left: ${({theme:e})=>e.spacing["spacing-xxl"]};
    margin-right: ${({theme:e})=>e.spacing["spacing-xxl"]};
  }
`,M=Object(i.c)(m.g)`
  border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui03};
`,h=Object(i.c)("h1")`
  font-size: 16px;
  font-weight: normal;
`,R=Object(i.c)(m.c)`
  padding: ${({theme:e})=>e.spacing["spacing-s"]};
`,C=Object(i.c)(u.a)`
  color: ${({theme:e})=>e.motifPalette.text01} !important;
  font-size: 16px !important;
`;var D=({title:e,showBack:t,goBack:a,onEscClicked:n,hideClose:i,ignoredPaths:o})=>{const{motif:l}=Object(T.a)();return r.a.createElement(g,{ignoredPaths:o},r.a.createElement(M,{flex:"none",height:"65px"},r.a.createElement(N,{ignoredPaths:o},r.a.createElement(m.g,{alignItems:"center",flex:"1",justifyContent:"space-between"},r.a.createElement(f,{alignItems:"center",flex:"1",height:"100%"},t&&r.a.createElement(R,{legacy:!1,name:"backButton",type:"button",onClick:a,motif:l},r.a.createElement(d.g,null))),r.a.createElement(h,null,r.a.createElement(C,{weight:"bold"},e.component)),r.a.createElement(f,{alignItems:"center",flex:"1",height:"100%",justifyContent:"flex-end"},!i&&r.a.createElement(R,{legacy:!1,name:"closeButton",type:"button",onClick:n},r.a.createElement(d.A,null)))))))};const j=Object(i.c)(m.g)`
  width: 100%;
  max-width: ${_.a};
  margin: 0 auto;
  padding: ${({theme:e})=>e.spacing["spacing-xxxxl"]}
    ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px;
`,v=Object(i.c)("form")`
  display: flex;
  flex: 1;
  overflow: hidden;
  width: 100%;
  height: 100%;
`,x=Object(i.c)(m.g)`
  @media (max-width: 1010px) {
    flex-direction: column;
  }
`,y=Object(i.c)(c.a)`
  > :first-child {
    max-width: ${_.a};
    padding-left: ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px !important;
    padding-right: ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px !important;
    position: relative;
    margin: 0 auto;
  }
`,L=Object(i.c)(m.h)`
  background: transparent;
  overflow: scroll !important;
  margin-right: -${({theme:e})=>e.scrollBarWidth}px;
`,P=Object(i.c)(m.k)`
  height: 100%;
  width: 100%;
`;var w=({children:e,disableUnsavedChangesModal:t,goBack:a,hideClose:n,isEdit:i,isView:c,showBack:_,title:d,unsavedChangesModalIgnoredPaths:u,onEscClicked:T,submitText:p="COMMON_ACTION_APPLY_CHANGES",footerActiveOverride:I=!1,customFooterButtons:O,...b})=>r.a.createElement(l.c,Object.assign({enableReinitialize:!0},b),({dirty:i,handleReset:l,handleSubmit:b,isSubmitting:N})=>r.a.createElement(v,{autoComplete:"off",onSubmit:b},r.a.createElement(P,{vertical:!0},r.a.createElement(D,{goBack:a,hideClose:n,showBack:_,title:d,onEscClicked:T,ignoredPaths:u}),r.a.createElement(E.a,{ignoredPaths:u},r.a.createElement(L,{flex:"1"},r.a.createElement(j,{flex:"none",flexDirection:"column"},e))),!t&&!c&&r.a.createElement(S.a,{ignoredPaths:u,when:i&&!N}),(!c||I)&&r.a.createElement(y,{active:i||I},r.a.createElement(m.g,{justifyContent:O?"space-between":"flex-end",width:"100%",alignItems:"center"},O&&r.a.createElement(x,null,O(N)),!c&&r.a.createElement(m.g,null,r.a.createElement(s.a,{disabled:!i||N,type:"button",variant:"default",onClick:l},r.a.createElement(o.c,{id:"COMMON_ACTION_CANCEL"})),r.a.createElement(s.a,{disabled:!i||N,type:"submit",variant:"primary"},r.a.createElement(o.c,{id:p}))))))))},1946:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"m",(function(){return m})),a.d(t,"k",(function(){return E})),a.d(t,"h",(function(){return d})),a.d(t,"g",(function(){return u})),a.d(t,"j",(function(){return T})),a.d(t,"f",(function(){return p})),a.d(t,"i",(function(){return I})),a.d(t,"l",(function(){return O})),a.d(t,"d",(function(){return N})),a.d(t,"e",(function(){return A})),a.d(t,"n",(function(){return f})),a.d(t,"o",(function(){return M})),a.d(t,"c",(function(){return h})),a.d(t,"p",(function(){return C})),a.d(t,"q",(function(){return D}));var n=a(112);const r=e=>(t,a,r,i)=>Object(n.d)(e(r,t),e(i,a)),i=e=>t=>{const a=(e=>t=>e.formatMessage({id:t}))(e);return(e,n,r,i)=>{const[o,l]=[t(e,r),t(n,i)].map(a);return o.localeCompare(l)}};var o=a(16),l=a(133),c=a(6),s=a(138),S=a(76);const _={ugw:1,usw:2,uap:3},m=(e,t,a,r)=>{const i=c.DEVICE_STATE_IMPORTANCE[Object(c.getDeviceState)(a)],o=c.DEVICE_STATE_IMPORTANCE[Object(c.getDeviceState)(r)];if(i===o){if(a.adopted===r.adopted){if(a.type!==r.type)return((e,t)=>{const a=e.type,r=t.type;return a===r?Object(n.d)(Object(S.a)(e),Object(S.a)(t)):Object(n.d)(_[a],_[r])})(a,r);const e=a.originalName,t=r.originalName;return e&&t?Object(n.d)(e,t):e?-1:t?1:Object(n.d)(a.modelName,r.modelName)}return Object(n.d)(a.adopted?1:2,r.adopted?1:2)}return Object(n.d)(i,o)},E=(e,t,a,r)=>Object(n.d)(Object(S.a)(a),Object(S.a)(r)),d=(e,t,a,r)=>{const i=Object(s.d)(Object(c.getDeviceIp)(a))||0,o=Object(s.d)(Object(c.getDeviceIp)(r))||0;return Object(n.d)(i,o)},u=(e,t,a,r)=>{const{averageSatisfaction:i}=a.satisfactionByRadio,{averageSatisfaction:o}=r.satisfactionByRadio;let l=Object(c.getDeviceExperience)(a),s=Object(c.getDeviceExperience)(r);return a.type===c.DeviceType.AP&&i<0&&(l=-.5),r.type===c.DeviceType.AP&&o<0&&(s=-.5),Object(n.d)(l,s)},T=(e,t,a,r)=>{const i=Object(c.getDeviceMemoryUsage)(a)||0,o=Object(c.getDeviceMemoryUsage)(r)||0;return Object(n.d)(i,o)},p=(e,t,a,r)=>{const i=parseFloat(Object(o.a)(a,"system-stats.cpu",0)),l=parseFloat(Object(o.a)(r,"system-stats.cpu",0));return Object(n.d)(i,l)},I=(e,t,a,r)=>{const i=parseFloat(Object(o.a)(a,"sys_stats.loadavg_1",-1)),l=parseFloat(Object(o.a)(r,"sys_stats.loadavg_1",-1));return Object(n.d)(i,l)},O=(e,t,a)=>{const r=Object(c.getRadioByType)(e,a),i=Object(c.getRadioByType)(t,a),o=r?Object(c.getRadioStatsByName)(e,r.name):null,l=i?Object(c.getRadioStatsByName)(t,i.name):null;if(r&&i&&o&&l){let a,s;const S=(e,t)=>e&&t?Object(n.d)(e,t):(e?-1:t&&1)||0;return a=("auto"===r.channel?0:r.channel)||0,s=("auto"===i.channel?0:i.channel)||0,S(a,s)?S(a,s):(a=Object(c.getRadioStatsBindedChannel)(e,o)||r.channel||0,s=Object(c.getRadioStatsBindedChannel)(t,l)||i.channel||0,S(a,s)?S(a,s):(a=parseInt(Object(c.getRadioHt)(r),10),s=parseInt(Object(c.getRadioHt)(i),10),S(a,s)?S(a,s):(a=Object(c.getRadioStatsPrimaryChannel)(o)||r.channel||0,s=Object(c.getRadioStatsPrimaryChannel)(l)||r.channel||0,S(a,s)?S(a,s):(a=Object(c.getRadioStatsTransmitPower)(o),s=Object(c.getRadioStatsTransmitPower)(l),S(a,s)?S(a,s):0))))}if(r&&i){if(o)return 1;if(l)return-1}return r?1:i?-1:0},b=(e,t)=>{if(!e.radio_table_stats)return-1;return Object(c.getRadioStatsByType)(e,t).reduce((e,t)=>e+t.num_sta||0,0)},N=(e,t,a,r)=>{const i=b(a,l.b.NG),o=b(r,l.b.NG);return Object(n.d)(i,o)},A=(e,t,a,r)=>{const i=b(a,l.b.NA),o=b(r,l.b.NA);return Object(n.d)(i,o)},g=(e,t)=>{const a=Object(c.getRadioStatsByType)(e,t);return a.length?a.reduce((e,t)=>e+(t.ast_be_xmit||0)+(t.tx_packets||0),0):-1},f=(e,t,a,r)=>{const i=g(a,l.b.NG),o=g(r,l.b.NG);return Object(n.d)(i,o)},M=(e,t,a,r)=>{const i=g(a,l.b.NA),o=g(r,l.b.NA);return Object(n.d)(i,o)},h=(e,t,a,r)=>{const i=Object(c.getChannelValue)(a),o=Object(c.getChannelValue)(r);return Object(n.d)(i,o)},R=(e,t)=>Object(c.getRadioStatsByType)(e,t).reduce((e,t)=>e+t.cu_total||0,0),C=(e,t,a,r)=>{const i=R(a,l.b.NG),o=R(r,l.b.NG);return Object(n.d)(i,o)},D=(e,t,a,r)=>{const i=R(a,l.b.NA),o=R(r,l.b.NA);return Object(n.d)(i,o)}},1948:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(5),o=a(4),l=a(1949),c=a.n(l),s=a(1759),S=a(538),_=a(539);const m=Object(i.c)("span")`
  line-height: 1.5;
  margin-top: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`;t.a=({when:e,ignoredPaths:t=null,onLeave:a=null,onStay:i=null})=>{const l=Object(n.useMemo)(()=>({overlay:{"--modal-z-index":2e3}}),[]),E=Object(_.a)(t),d=Object(n.useCallback)((e,t)=>t.pathname!==e.pathname,[]),u=Object(n.useCallback)(e=>(e={},t={})=>E(e,t)&&d(e,t),[E,d]);return!!e&&r.a.createElement(c.a,{when:u(t)},({onCancel:e,onConfirm:t})=>r.a.createElement(s.a,{actions:[{type:"button",text:r.a.createElement(o.c,{id:"SETTINGS_MODAL_UNSAVED_CHANGES_STAY"}),onClick:()=>i?i(e):e()},{type:"button",text:r.a.createElement(o.c,{id:"SETTINGS_MODAL_UNSAVED_CHANGES_LEAVE"}),onClick:()=>a?a(t):t(),variant:"primary"}],isOpen:!0,size:"small",style:l,parentSelector:S.b,title:r.a.createElement(o.c,{id:"SETTINGS_MODAL_UNSAVED_CHANGES_TITLE"}),onRequestClose:()=>i?i(e):e()},r.a.createElement(m,null,r.a.createElement(o.c,{id:"SETTINGS_MODAL_UNSAVED_CHANGES_CONTENT"}))))}},1949:function(e,t,a){e.exports=function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(1),l=(n=o)&&n.__esModule?n:{default:n},c=a(2);var s={action:null,isActive:!1,nextLocation:null},S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._prevUserAction="",a._isMounted=!0,a.block=a.block.bind(a),a.onBeforeUnload=a.onBeforeUnload.bind(a),a.onCancel=a.onCancel.bind(a),a.onConfirm=a.onConfirm.bind(a),a.when=a.when.bind(a),a.state=r({},s,{unblock:function(){}}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.disableNative||window.addEventListener("beforeunload",this.onBeforeUnload),this.setState({unblock:this.props.history.block(this.block)})}},{key:"componentDidUpdate",value:function(e,t){"CANCEL"===this._prevUserAction&&"function"==typeof this.props.afterCancel?this.props.afterCancel():"CONFIRM"===this._prevUserAction&&"function"==typeof this.props.afterConfirm&&this.props.afterConfirm(),this._prevUserAction=""}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,"CONFIRM"===this._prevUserAction&&"function"==typeof this.props.afterConfirm&&(this._prevUserAction="",this.props.afterConfirm()),this.state.unblock(),this.props.disableNative||window.removeEventListener("beforeunload",this.onBeforeUnload)}},{key:"block",value:function(e,t){var a=this.when(e);return a&&this.setState({action:t,nextLocation:e,isActive:!0}),!a}},{key:"navigateToNextLocation",value:function(e){var t=this,a=this.state,n=a.action,i=a.nextLocation;n={POP:this.props.allowGoBack?"goBack":"push",PUSH:"push",REPLACE:"replace"}[n||"PUSH"],i||(i={pathname:"/"});var o=this.props.history;if(this.state.unblock(),this._prevUserAction="CONFIRM","goBack"===n){var l=o.listen((function(){l(),t._isMounted&&t.setState(r({},s,{unblock:o.block(t.block)}))}));o.goBack()}else o[n](i),this._isMounted&&this.setState(r({},s,{unblock:this.props.history.block(this.block)}))}},{key:"onCancel",value:function(){var e=this;(this.props.beforeCancel||function(e){e()})((function(){e._prevUserAction="CANCEL",e.setState(r({},s))}))}},{key:"onConfirm",value:function(){var e=this;(this.props.beforeConfirm||function(e){e()})((function(){e.navigateToNextLocation(e.props.afterConfirm)}))}},{key:"onBeforeUnload",value:function(e){if(this.when()){var t="Do you want to leave this site?\n\nChanges you made may not be saved.";return e.returnValue=t,t}}},{key:"when",value:function(e){return"function"==typeof this.props.when?this.props.when(this.props.location,e):this.props.when}},{key:"render",value:function(){return this.state.isActive||this.props.renderIfNotActive?l.default.createElement("div",null,this.props.children({isActive:this.state.isActive,onConfirm:this.onConfirm,onCancel:this.onCancel})):null}}]),t}(l.default.Component);t.default=(0,c.withRouter)(S)},function(e,t){e.exports=a(0)},function(e,t){e.exports=a(671)}])},1952:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(1848),o=a(5),l=a(793),c=a(1939);const s=o.a`
  &-appear,
  &-enter {
    opacity: 0;
    transform: translateX(60px);
  }
  &-appear-active,
  &-enter-active {
    opacity: 1;
    transform: translateX(0);
    transition: opacity 150ms cubic-bezier(0.25, 0.1, 0.25, 1), transform 300ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }
  &-exit {
    opacity: 1;
    transform: translateX(0);
  }
  &-exit-active,
  &-exit-done {
    opacity: 0;
    transform: translateX(60px);
    transition: opacity 100ms cubic-bezier(0.25, 0.1, 0.25, 1), transform 100ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }
`;t.a=({timeout:e={enter:300,exit:100},in:t,ignoredPaths:a,children:o,...S})=>{const _=Object(c.a)(),m=Object(l.a)(a),E=Object(n.useMemo)(()=>r.a.Children.map(o,a=>null===a?a:r.a.createElement(i.a,Object.assign({appear:t||!m||_,in:t||!m||_,timeout:e,classNames:s,mountOnEnter:!0},S),a)),[o,t,m,_,e,S]);return r.a.createElement(r.a.Fragment,null,E)}},1972:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(7),o=a.n(i),l=a(1752),c=a(73),s=a(795),S=a(27),_=a(796),m=a(688),E=a(231),d=a(112),u=a(798),T=a(794),p=a(390),I=a(797);t.a=Object(c.a)(class extends n.Component{constructor(e){super(e)}render(){const e=Object(l.a)({},this.props,d.a),{motif:t,renderFooter:a,className:i,width:c,tableClassName:O,renderPlaceholder:b,idField:N,forwardedRef:A}=e;return r.a.createElement(p.a,Object.assign({},e,{ref:A}),r.a.createElement(_.a,{className:i,motif:t,width:Object(d.g)(c)},r.a.createElement(E.a.Consumer,null,e=>{const{noItems:a,renderedItems:i}=e;return r.a.createElement(n.Fragment,null,r.a.createElement(m.a,{className:O,motif:t},r.a.createElement(u.a,null),r.a.createElement(T.a,null,i.map((t,a)=>r.a.createElement(I.a,{key:Object(d.h)(t[N]),row:t,rowIndex:a,context:e})))),a&&void 0!==b&&r.a.createElement("div",{className:S.a.placeholder},r.a.createElement(s.a,{className:S.a.placeholderIcon,size:"large"}),b()))}),void 0!==a&&r.a.createElement("div",{className:o()(S.a.footer,S.a[t])},a())))}})},1973:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(7),o=a.n(i),l=a(523),c=a(40),s=a(235),S=a(1941);t.a=({active:e=!0,align:t="right",backgroundGradient:a=!1,contentClassName:i,margin:_,marginX:m,marginY:E,marginTop:d,marginRight:u,marginBottom:T,marginLeft:p,padding:I="xxxxl",paddingX:O,paddingY:b,paddingTop:N,paddingRight:A,paddingBottom:g,paddingLeft:f,children:M,className:h,style:R,...C})=>{var D,j,v,x,y,L,P,w;const{motif:G}=Object(c.a)(),[F,Y]=Object(n.useState)(0),k=Object(n.useRef)(null);return Object(n.useEffect)(()=>{if(k.current){const{height:e}=k.current.getBoundingClientRect();Y(e)}},[]),Object(n.useEffect)(()=>{const e=Object(l.a)(()=>{if(k.current){const{height:e}=k.current.getBoundingClientRect();Y(e)}},100);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),r.a.createElement("footer",Object.assign({className:o()(S.a.formFooter,s.a["margin-top-"+(null!==(j=null!==(D=null!=d?d:E)&&void 0!==D?D:_)&&void 0!==j?j:"")],s.a["margin-right-"+(null!==(x=null!==(v=null!=u?u:m)&&void 0!==v?v:_)&&void 0!==x?x:"")],s.a["margin-bottom-"+(null!==(L=null!==(y=null!=T?T:E)&&void 0!==y?y:_)&&void 0!==L?L:"")],s.a["margin-left-"+(null!==(w=null!==(P=null!=p?p:m)&&void 0!==P?P:_)&&void 0!==w?w:"")],h),style:{height:e?F:0,transform:`translateY(${e?0:F+"px"})`,...R}},C),r.a.createElement("div",{className:o()(S.a.formFooterContent,S.a["formFooterContent-align-"+t],S.a["formFooterContent-"+G],a&&S.a["formFooterContent-backgroundGradient"],s.a["padding-top-"+(N||b||I)],s.a["padding-right-"+(A||O||I)],s.a["padding-bottom-"+(g||b||I)],s.a["padding-left-"+(f||O||I)],i),ref:k},M))}},1974:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(7),o=a.n(i),l=a(800),c=a(170),s=a(1941);t.a=({size:e="medium",variant:t,wrapClassName:a,className:n,...i})=>r.a.createElement(c.a,Object.assign({className:o()(t===l.b[0]&&s.a["formFooterButton-default-size-"+e],n),size:e,wrapClassName:o()("tertiary"===t?s.a.formFooterTertiaryButtonWrap:s.a.formFooterButtonWrap,a),variant:t},i))}}]);