(window.webpackJsonpunifiNetworkUi=window.webpackJsonpunifiNetworkUi||[]).push([[7],{1213:function(t,e,n){"use strict";var i;n.d(e,"a",(function(){return i})),function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"}(i||(i={}))},131:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return u}));var i=n(144),a=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function r(t){return"tracesSampleRate"in t||"tracesSampler"in t}function s(t){var e=t.match(a);if(e){var n=void 0;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}function o(t){var e,n;return void 0===t&&(t=Object(i.c)()),null===(n=null===(e=t)||void 0===e?void 0:e.getScope())||void 0===n?void 0:n.getTransaction()}function c(t){return t/1e3}function u(t){return 1e3*t}},1769:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s}));var i=n(327),a=n(80),r=n(81),s=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(e,n){var s;try{s=Object(i.a)(t,"pg").Client}catch(o){return void a.a.error("Postgres Integration was unable to require `pg` package.")}Object(r.c)(s.prototype,"query",(function(t){return function(e,i,a){var r,s,o=null===(s=null===(r=n().getScope())||void 0===r?void 0:r.getSpan())||void 0===s?void 0:s.startChild({description:"string"==typeof e?e:e.text,op:"db"});return"function"==typeof a?t.call(this,e,i,(function(t,e){var n;null===(n=o)||void 0===n||n.finish(),a(t,e)})):"function"==typeof i?t.call(this,e,(function(t,e){var n;null===(n=o)||void 0===n||n.finish(),i(t,e)})):t.call(this,e,i).then((function(t){var e;return null===(e=o)||void 0===e||e.finish(),t}))}}))},e.id="Postgres",e}()}).call(this,n(263)(t))},1770:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s}));var i=n(327),a=n(80),r=n(81),s=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(e,n){var s;try{s=Object(i.a)(t,"mysql/lib/Connection.js")}catch(o){return void a.a.error("Mysql Integration was unable to require `mysql` package.")}Object(r.c)(s.prototype,"query",(function(t){return function(e,i,a){var r,s,o=null===(s=null===(r=n().getScope())||void 0===r?void 0:r.getSpan())||void 0===s?void 0:s.startChild({description:"string"==typeof e?e:e.sql,op:"db"});return"function"==typeof a?t.call(this,e,i,(function(t,e,n){var i;null===(i=o)||void 0===i||i.finish(),a(t,e,n)})):"function"==typeof i?t.call(this,e,(function(t,e,n){var a;null===(a=o)||void 0===a||a.finish(),i(t,e,n)})):t.call(this,e,i,a)}}))},e.id="Mysql",e}()}).call(this,n(263)(t))},1771:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return u}));var i=n(10),a=n(327),r=n(80),s=n(81),o=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],c={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},u=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._operations=Array.isArray(t.operations)?t.operations:o,this._describeOperations=!("describeOperations"in t)||t.describeOperations}return e.prototype.setupOnce=function(e,n){var i;try{i=Object(a.a)(t,"mongodb").Collection}catch(s){return void r.a.error("Mongo Integration was unable to require `mongodb` package.")}this._instrumentOperations(i,this._operations,n)},e.prototype._instrumentOperations=function(t,e,n){var i=this;e.forEach((function(e){return i._patchOperation(t,e,n)}))},e.prototype._patchOperation=function(t,e,n){if(e in t.prototype){var a=this._getSpanContextFromOperationArguments.bind(this);Object(s.c)(t.prototype,e,(function(t){return function(){for(var r,s,o,c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=c[c.length-1],p=n().getScope(),l=null===(r=p)||void 0===r?void 0:r.getSpan();if("function"!=typeof d||"mapReduce"===e&&2===c.length){var f=null===(s=l)||void 0===s?void 0:s.startChild(a(this,e,c));return t.call.apply(t,Object(i.e)([this],c)).then((function(t){var e;return null===(e=f)||void 0===e||e.finish(),t}))}var m=null===(o=l)||void 0===o?void 0:o.startChild(a(this,e,c.slice(0,-1)));return t.call.apply(t,Object(i.e)([this],c.slice(0,-1),[function(t,e){var n;null===(n=m)||void 0===n||n.finish(),d(t,e)}]))}}))}},e.prototype._getSpanContextFromOperationArguments=function(t,e,n){var a={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},r={op:"db",description:e,data:a},s=c[e],o=Array.isArray(this._describeOperations)?this._describeOperations.includes(e):this._describeOperations;if(!s||!o)return r;try{if("mapReduce"===e){var u=Object(i.c)(n,2),d=u[0],p=u[1];a[s[0]]="string"==typeof d?d:d.name||"<anonymous>",a[s[1]]="string"==typeof p?p:p.name||"<anonymous>"}else for(var l=0;l<s.length;l++)a[s[l]]=JSON.stringify(n[l])}catch(f){}return r},e.id="Mongo",e}()}).call(this,n(263)(t))},1773:function(t,e,n){"use strict";n.d(e,"a",(function(){return G}));var i={};n.r(i),n.d(i,"Express",(function(){return P})),n.d(i,"Postgres",(function(){return z.a})),n.d(i,"Mysql",(function(){return J.a})),n.d(i,"Mongo",(function(){return Y.a}));var a=n(10),r=n(80),s=n(692),o=n(779),c=n(298),u=n(131),d=n(60),p=Object(d.e)();var l,f,m=n(685),h=function(t,e,n,i){var a;return function(){n&&e.isFinal&&n.disconnect(),e.value>=0&&(i||e.isFinal||"hidden"===document.visibilityState)&&(e.delta=e.value-(a||0),(e.delta||e.isFinal||void 0===a)&&(t(e),a=e.value))}},v=function(t,e){return void 0===e&&(e=-1),{name:t,value:e,delta:0,entries:[],id:Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),isFinal:!1}},g=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(i){}},_=!1,b=!1,y=function(t){_=!t.persisted},O=function(t,e){void 0===e&&(e=!1),b||(addEventListener("pagehide",y),addEventListener("beforeunload",(function(){})),b=!0),addEventListener("visibilitychange",(function(e){var n=e.timeStamp;"hidden"===document.visibilityState&&t({timeStamp:n,isUnloading:_})}),{capture:!0,once:e})},T=function(){return void 0===l&&(l="hidden"===document.visibilityState?0:1/0,O((function(t){var e=t.timeStamp;return l=e}),!0)),{get timeStamp(){return l}}},S=function(t,e){void 0===e&&(e=!1);var n,i=v("LCP"),a=T(),r=function(t){var e=t.startTime;e<a.timeStamp?(i.value=e,i.entries.push(t)):i.isFinal=!0,n()},s=g("largest-contentful-paint",r);if(s){n=h(t,i,s,e);var o=function(){i.isFinal||(s.takeRecords().map(r),i.isFinal=!0,n())};(f||(f=new Promise((function(t){return["scroll","keydown","pointerdown"].map((function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})}))}))),f).then(o),O(o,!0)}},j=Object(d.e)(),x=function(t){var e,n=v("TTFB");e=function(){try{var e=j.performance.getEntriesByType("navigation")[0]||function(){var t=j.performance.timing,e={entryType:"navigation",startTime:0};for(var n in t)"navigationStart"!==n&&"toJSON"!==n&&(e[n]=Math.max(t[n]-t.navigationStart,0));return e}();n.value=n.delta=e.responseStart,n.entries=[e],t(n)}catch(i){}},"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)},k=Object(d.e)(),E=function(){function t(){this._measurements={},this._performanceCursor=0,k&&k.performance&&(k.performance.mark&&k.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID(),this._trackTTFB())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(k&&k.performance&&k.performance.getEntries&&m.a){r.a.log("[Tracing] Adding & adjusting spans using Performance API");var n,i,a,s=Object(u.d)(m.a);if(k.document)for(var o=0;o<document.scripts.length;o++)if("true"===document.scripts[o].dataset.entry){n=document.scripts[o].src;break}if(k.performance.getEntries().slice(this._performanceCursor).forEach((function(o){var c=Object(u.d)(o.startTime),d=Object(u.d)(o.duration);if(!("navigation"===t.op&&s+c<t.startTimestamp))switch(o.entryType){case"navigation":!function(t,e,n){w(t,e,"unloadEvent",n),w(t,e,"redirect",n),w(t,e,"domContentLoadedEvent",n),w(t,e,"loadEvent",n),w(t,e,"connect",n),w(t,e,"secureConnection",n,"connectEnd"),w(t,e,"fetch",n,"domainLookupStart"),w(t,e,"domainLookup",n),function(t,e,n){I(t,{op:"browser",description:"request",startTimestamp:n+Object(u.d)(e.requestStart),endTimestamp:n+Object(u.d)(e.responseEnd)}),I(t,{op:"browser",description:"response",startTimestamp:n+Object(u.d)(e.responseStart),endTimestamp:n+Object(u.d)(e.responseEnd)})}(t,e,n)}(t,o,s);break;case"mark":case"paint":case"measure":var p=function(t,e,n,i,a){var r=a+n,s=r+i;return I(t,{description:e.name,endTimestamp:s,op:e.entryType,startTimestamp:r}),r}(t,o,c,d,s);void 0===a&&"sentry-tracing-init"===o.name&&(a=p);var l=T(),f=o.startTime<l.timeStamp;"first-paint"===o.name&&f&&(r.a.log("[Measurements] Adding FP"),e._measurements.fp={value:o.startTime},e._measurements["mark.fp"]={value:p}),"first-contentful-paint"===o.name&&f&&(r.a.log("[Measurements] Adding FCP"),e._measurements.fcp={value:o.startTime},e._measurements["mark.fcp"]={value:p});break;case"resource":var m=o.name.replace(window.location.origin,""),h=function(t,e,n,i,a,r){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;var s={};"transferSize"in e&&(s["Transfer Size"]=e.transferSize);"encodedBodySize"in e&&(s["Encoded Body Size"]=e.encodedBodySize);"decodedBodySize"in e&&(s["Decoded Body Size"]=e.decodedBodySize);var o=r+i,c=o+a;return I(t,{description:n,endTimestamp:c,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:o,data:s}),c}(t,o,m,c,d,s);void 0===i&&(n||"").indexOf(m)>-1&&(i=h)}})),void 0!==i&&void 0!==a&&I(t,{description:"evaluation",endTimestamp:a,op:"script",startTimestamp:i}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var c=Object(u.d)(m.a);["fcp","fp","lcp","ttfb"].forEach((function(n){if(e._measurements[n]&&!(c>=t.startTimestamp)){var i=e._measurements[n].value,a=c+Object(u.d)(i),s=Math.abs(1e3*(a-t.startTimestamp)),o=s-i;r.a.log("[Measurements] Normalized "+n+" from "+i+" to "+s+" ("+o+")"),e._measurements[n].value=s}})),this._measurements["mark.fid"]&&this._measurements.fid&&I(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+Object(u.d)(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),t.setMeasurements(this._measurements)}}},t.prototype._trackCLS=function(){var t=this;!function(t,e){void 0===e&&(e=!1);var n,i=v("CLS",0),a=function(t){t.hadRecentInput||(i.value+=t.value,i.entries.push(t),n())},r=g("layout-shift",a);r&&(n=h(t,i,r,e),O((function(t){var e=t.isUnloading;r.takeRecords().map(a),e&&(i.isFinal=!0),n()})))}((function(e){e.entries.pop()&&(r.a.log("[Measurements] Adding CLS"),t._measurements.cls={value:e.value})}))},t.prototype._trackNavigator=function(t){var e=k.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),C(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),C(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),C(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),C(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackLCP=function(){var t=this;S((function(e){var n=e.entries.pop();if(n){var i=Object(u.d)(performance.timeOrigin),a=Object(u.d)(n.startTime);r.a.log("[Measurements] Adding LCP"),t._measurements.lcp={value:e.value},t._measurements["mark.lcp"]={value:i+a}}}))},t.prototype._trackFID=function(){var t=this;!function(t){var e=v("FID"),n=T(),i=function(t){t.startTime<n.timeStamp&&(e.value=t.processingStart-t.startTime,e.entries.push(t),e.isFinal=!0,r())},a=g("first-input",i),r=h(t,e,a);a?O((function(){a.takeRecords().map(i),a.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(t,i){i.timeStamp<n.timeStamp&&(e.value=t,e.isFinal=!0,e.entries=[{entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+t}],r())}))}((function(e){var n=e.entries.pop();if(n){var i=Object(u.d)(performance.timeOrigin),a=Object(u.d)(n.startTime);r.a.log("[Measurements] Adding FID"),t._measurements.fid={value:e.value},t._measurements["mark.fid"]={value:i+a}}}))},t.prototype._trackTTFB=function(){var t=this;x((function(e){var n,i=e.entries.pop();if(i){r.a.log("[Measurements] Adding TTFB"),t._measurements.ttfb={value:e.value};var a=e.value-(n=e.entries[0],null!=n?n:i).requestStart;t._measurements["ttfb.requestTime"]={value:a}}}))},t}();
/*
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(t,e,n,i,a){var r=a?e[a]:e[n+"End"],s=e[n+"Start"];s&&r&&I(t,{op:"browser",description:n,startTimestamp:i+Object(u.d)(s),endTimestamp:i+Object(u.d)(r)})}function I(t,e){var n=e.startTimestamp,i=Object(a.d)(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild(Object(a.a)({startTimestamp:n},i))}function C(t){return"number"==typeof t&&isFinite(t)}var R=n(144),F=n(286),A=n(330),D=n(51),M={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function N(t){var e=Object(a.a)(Object(a.a)({},M),t),n=e.traceFetch,i=e.traceXHR,r=e.tracingOrigins,s=e.shouldCreateSpanForRequest,o={},c=function(t){if(o[t])return o[t];var e=r;return o[t]=e.some((function(e){return Object(F.a)(t,e)}))&&!Object(F.a)(t,"sentry_key"),o[t]},d=c;"function"==typeof s&&(d=function(t){return c(t)&&s(t)});var p={};n&&Object(A.a)({callback:function(t){!function(t,e,n){var i,r=null===(i=Object(R.c)().getClient())||void 0===i?void 0:i.getOptions();if(!(r&&Object(u.c)(r)&&t.fetchData&&e(t.fetchData.url)))return;if(t.endTimestamp&&t.fetchData.__span){if(c=n[t.fetchData.__span]){var s=t.response;s&&c.setHttpStatus(s.status),c.finish(),delete n[t.fetchData.__span]}return}var o=Object(u.b)();if(o){var c=o.startChild({data:Object(a.a)(Object(a.a)({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=c.spanId,n[c.spanId]=c;var d=t.args[0]=t.args[0],p=t.args[1]=t.args[1]||{},l=p.headers;Object(D.g)(d,Request)&&(l=d.headers),l?"function"==typeof l.append?l.append("sentry-trace",c.toTraceparent()):l=Array.isArray(l)?Object(a.e)(l,[["sentry-trace",c.toTraceparent()]]):Object(a.a)(Object(a.a)({},l),{"sentry-trace":c.toTraceparent()}):l={"sentry-trace":c.toTraceparent()},p.headers=l}}(t,d,p)},type:"fetch"}),i&&Object(A.a)({callback:function(t){!function(t,e,n){var i,r=null===(i=Object(R.c)().getClient())||void 0===i?void 0:i.getOptions();if(!r||!Object(u.c)(r)||!(t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url))||t.xhr.__sentry_own_request__)return;var s=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__){return void((c=n[t.xhr.__sentry_xhr_span_id__])&&(c.setHttpStatus(s.status_code),c.finish(),delete n[t.xhr.__sentry_xhr_span_id__]))}var o=Object(u.b)();if(o){var c=o.startChild({data:Object(a.a)(Object(a.a)({},s.data),{type:"xhr",method:s.method,url:s.url}),description:s.method+" "+s.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=c.spanId,n[t.xhr.__sentry_xhr_span_id__]=c,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",c.toTraceparent())}catch(d){}}}(t,d,p)},type:"xhr"})}var q=Object(d.e)();var H=Object(a.a)({idleTimeout:o.a,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),q&&q.location){var i,a=q.location.href;e&&(i=t({name:q.location.pathname,op:"pageload"})),n&&Object(A.a)({callback:function(e){var n=e.to,s=e.from;void 0===s&&a&&-1!==a.indexOf(n)?a=void 0:s!==n&&(a=void 0,i&&(r.a.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=t({name:q.location.pathname,op:"navigation"}))},type:"history"})}else r.a.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},M),L=function(){function t(e){this.name=t.id,this._metrics=new E,this._emitOptionsWarning=!1;var n=M.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=Object(a.a)(Object(a.a)(Object(a.a)({},H),e),{tracingOrigins:n})}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(r.a.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),r.a.warn("[Tracing] We added a reasonable default for you: "+M.tracingOrigins));var i=this.options,a=i.routingInstrumentation,s=i.startTransactionOnLocationChange,o=i.startTransactionOnPageLoad,d=i.markBackgroundTransactions,l=i.traceFetch,f=i.traceXHR,m=i.tracingOrigins,h=i.shouldCreateSpanForRequest;a((function(t){return n._createRouteTransaction(t)}),o,s),d&&(p&&p.document?p.document.addEventListener("visibilitychange",(function(){var t=Object(u.b)();p.document.hidden&&t&&(r.a.log("[Tracing] Transaction: "+c.a.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(c.a.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())})):r.a.warn("[Tracing] Could not set up background tab detection due to lack of global document")),N({traceFetch:l,traceXHR:f,tracingOrigins:m,shouldCreateSpanForRequest:h})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,i=n.beforeNavigate,o=n.idleTimeout,d=n.maxTransactionDuration,p="pageload"===t.op?function(){var t=(e="sentry-trace",n=document.querySelector("meta[name="+e+"]"),n?n.getAttribute("content"):null);var e,n;if(t)return Object(u.a)(t);return}():void 0,l=Object(a.a)(Object(a.a)(Object(a.a)({},t),p),{trimEnd:!0}),f="function"==typeof i?i(l):l,m=void 0===f?Object(a.a)(Object(a.a)({},l),{sampled:!1}):f;!1===m.sampled&&r.a.log("[Tracing] Will not send "+m.op+" transaction because of beforeNavigate.");var h=this._getCurrentHub(),v=Object(s.b)(h,m,o,!0);return r.a.log("[Tracing] Starting "+m.op+" transaction on scope"),v.registerBeforeFinishCallback((function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var i=n-e.startTimestamp;n&&(i>t||i<0)&&(e.setStatus(c.a.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}(Object(u.e)(d),t,n)})),v}r.a.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}();var P=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return t.prototype.setupOnce=function(){this._router?function(t,e){void 0===e&&(e=[]);e.forEach((function(e){return function(t,e){var n=t[e];return t[e]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return n.call.apply(n,Object(a.e)([this],U(t,e)))},t}(t,e)}))}(this._router,this._methods):r.a.error("ExpressIntegration is missing an Express instance")},t.id="Express",t}();function B(t,e){var n=t.length;switch(n){case 2:return function(n,i){var a=i.__sentry_transaction;if(a){var r=a.startChild({description:t.name,op:"middleware."+e});i.once("finish",(function(){r.finish()}))}return t.call(this,n,i)};case 3:return function(n,i,r){var s,o=null===(s=i.__sentry_transaction)||void 0===s?void 0:s.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=o)||void 0===t||t.finish(),r.call.apply(r,Object(a.e)([this],e))}))};case 4:return function(n,i,r,s){var o,c=null===(o=r.__sentry_transaction)||void 0===o?void 0:o.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,r,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=c)||void 0===t||t.finish(),s.call.apply(s,Object(a.e)([this],e))}))};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}function U(t,e){return t.map((function(t){return"function"==typeof t?B(t,e):Array.isArray(t)?t.map((function(t){return"function"==typeof t?B(t,e):t})):t}))}var z=n(1769),J=n(1770),Y=n(1771),G=Object(a.a)(Object(a.a)({},i),{BrowserTracing:L});Object(s.a)()},1774:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(330),a=n(80),r=n(298),s=n(131);function o(){Object(i.a)({callback:c,type:"error"}),Object(i.a)({callback:c,type:"unhandledrejection"})}function c(){var t=Object(s.b)();t&&(a.a.log("[Tracing] Transaction: "+r.a.InternalError+" -> Global error occured"),t.setStatus(r.a.InternalError))}},1775:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(10),a=n(162),r=n(60),s=n(781),o={},c=Object(r.e)();c.Sentry&&c.Sentry.Integrations&&(o=c.Sentry.Integrations);var u=Object(i.a)(Object(i.a)(Object(i.a)({},o),a.a),s)},1933:function(t,e,n){"use strict";var i=n(273),a=n(753),r=n(128);e.a=function(t,e){var n={};return e=Object(r.a)(e,3),Object(a.a)(t,(function(t,a,r){Object(i.a)(n,a,e(t,a,r))})),n}},1934:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(e,n){e((function(e){var i=n().getIntegration(t);if(i){try{if(i._shouldDropEvent(e,i._previousEvent))return null}catch(a){return i._previousEvent=e}return i._previousEvent=e}return e}))},t.prototype._shouldDropEvent=function(t,e){return!!e&&(!!this._isSameMessageEvent(t,e)||!!this._isSameExceptionEvent(t,e))},t.prototype._isSameMessageEvent=function(t,e){var n=t.message,i=e.message;return!(!n&&!i)&&(!(n&&!i||!n&&i)&&(n===i&&(!!this._isSameFingerprint(t,e)&&!!this._isSameStacktrace(t,e))))},t.prototype._getFramesFromEvent=function(t){var e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(n){return}else if(t.stacktrace)return t.stacktrace.frames},t.prototype._isSameStacktrace=function(t,e){var n=this._getFramesFromEvent(t),i=this._getFramesFromEvent(e);if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;if(n=n,(i=i).length!==n.length)return!1;for(var a=0;a<i.length;a++){var r=i[a],s=n[a];if(r.filename!==s.filename||r.lineno!==s.lineno||r.colno!==s.colno||r.function!==s.function)return!1}return!0},t.prototype._getExceptionFromEvent=function(t){return t.exception&&t.exception.values&&t.exception.values[0]},t.prototype._isSameExceptionEvent=function(t,e){var n=this._getExceptionFromEvent(e),i=this._getExceptionFromEvent(t);return!(!n||!i)&&(n.type===i.type&&n.value===i.value&&(!!this._isSameFingerprint(t,e)&&!!this._isSameStacktrace(t,e)))},t.prototype._isSameFingerprint=function(t,e){var n=t.fingerprint,i=e.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;n=n,i=i;try{return!(n.join("")!==i.join(""))}catch(a){return!1}},t.id="Dedupe",t}()},298:function(t,e,n){"use strict";var i;n.d(e,"a",(function(){return i})),function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"}(i||(i={})),function(t){t.fromHttpCode=function(e){if(e<400)return t.Ok;if(e>=400&&e<500)switch(e){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(e>=500&&e<600)switch(e){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}}(i||(i={}))},692:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return _})),n.d(e,"a",(function(){return b}));var i=n(10),a=n(144),r=n(1213),s=n(80),o=n(327),c=n(51),u=n(60),d=n(1774),p=n(779),l=n(780),f=n(131);function m(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function h(t,e,n){var a,o,c=t.getClient(),u=c&&c.getOptions()||{};return c&&Object(f.c)(u)?void 0!==e.sampled?(e.tags=Object(i.a)(Object(i.a)({},e.tags),{__sentry_samplingMethod:r.a.Explicit}),e):("function"==typeof u.tracesSampler?(o=u.tracesSampler(n),e.tags=Object(i.a)(Object(i.a)({},e.tags),{__sentry_samplingMethod:r.a.Sampler,__sentry_sampleRate:String(Number(o))})):void 0!==n.parentSampled?(o=n.parentSampled,e.tags=Object(i.a)(Object(i.a)({},e.tags),{__sentry_samplingMethod:r.a.Inheritance})):(o=u.tracesSampleRate,e.tags=Object(i.a)(Object(i.a)({},e.tags),{__sentry_samplingMethod:r.a.Rate,__sentry_sampleRate:String(Number(o))})),function(t){if(isNaN(t)||"number"!=typeof t&&"boolean"!=typeof t)return s.a.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1;if(t<0||t>1)return s.a.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1;return!0}(o)?o?(e.sampled=Math.random()<o,e.sampled?(e.initSpanRecorder(null===(a=u._experiments)||void 0===a?void 0:a.maxSpans),s.a.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(s.a.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(o)+")"),e)):(s.a.log("[Tracing] Discarding transaction because "+("function"==typeof u.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(s.a.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)):(e.sampled=!1,e)}function v(e){var n={transactionContext:e,parentSampled:e.parentSampled};if(Object(o.c)()){var r=Object(a.b)();if(r){var s=Object(o.a)(t,"http").IncomingMessage,d=r.members.find((function(t){return Object(c.g)(t,s)}));d&&(n.request=Object(o.b)(d))}}else{var p=Object(u.e)();"location"in p&&(n.location=Object(i.a)({},p.location))}return n}function g(t,e){return h(this,new l.a(t,this),Object(i.a)(Object(i.a)({},v(t)),e))}function _(t,e,n,i){return h(t,new p.b(e,t,n,i),v(e))}function b(){var t;(t=Object(a.d)()).__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=g),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=m)),Object(d.a)()}}).call(this,n(263)(t))},694:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u}));var i=n(10),a=n(60),r=n(685),s=n(81),o=n(298),c=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),u=function(){function t(t){if(this.traceId=Object(a.i)(),this.spanId=Object(a.i)().substring(16),this.startTimestamp=Object(r.c)(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t(Object(i.a)(Object(i.a)({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=Object(i.a)(Object(i.a)({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=Object(i.a)(Object(i.a)({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=o.a.fromHttpCode(t);return e!==o.a.UnknownError&&this.setStatus(e),this},t.prototype.isSuccess=function(){return this.status===o.a.Ok},t.prototype.finish=function(t){this.endTimestamp="number"==typeof t?t:Object(r.c)()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.getTraceContext=function(){return Object(s.a)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return Object(s.a)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}()},779:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return p}));var i=n(10),a=n(685),r=n(80),s=n(694),o=n(298),c=n(780),u=1e3,d=function(t){function e(e,n,i,a){void 0===i&&(i="");var r=t.call(this,a)||this;return r._pushActivity=e,r._popActivity=n,r.transactionSpanId=i,r}return Object(i.b)(e,t),e.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"==typeof t?t:Object(a.c)(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),t.prototype.add.call(this,e)},e}(s.b),p=function(t){function e(e,n,i,a){void 0===i&&(i=u),void 0===a&&(a=!1);var s=t.call(this,e,n)||this;return s._idleHub=n,s._idleTimeout=i,s._onScope=a,s.activities={},s._heartbeatTimer=0,s._heartbeatCounter=0,s._finished=!1,s._beforeFinishCallbacks=[],n&&a&&(l(n),r.a.log("Setting idle transaction on scope. Span ID: "+s.spanId),n.configureScope((function(t){return t.setSpan(s)}))),s}return Object(i.b)(e,t),e.prototype.finish=function(e){var n,s,c=this;if(void 0===e&&(e=Object(a.c)()),this._finished=!0,this.activities={},this.spanRecorder){r.a.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var u=Object(i.g)(this._beforeFinishCallbacks),d=u.next();!d.done;d=u.next()){(0,d.value)(this,e)}}catch(p){n={error:p}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(t){if(t.spanId===c.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus(o.a.Cancelled),r.a.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||r.a.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),this._onScope&&l(this._idleHub),r.a.log("[Tracing] flushing IdleTransaction")}else r.a.log("[Tracing] No active IdleTransaction");return t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;if(!this.spanRecorder){this._initTimeout=setTimeout((function(){e._finished||e.finish()}),this._idleTimeout);this.spanRecorder=new d((function(t){e._finished||e._pushActivity(t)}),(function(t){e._finished||e._popActivity(t)}),this.spanId,t),r.a.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),r.a.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,r.a.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(r.a.log("[Tracing] popActivity "+t),delete this.activities[t],r.a.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,i=Object(a.c)()+n/1e3;setTimeout((function(){e._finished||e.finish(i)}),n)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var t=Object.keys(this.activities),e=t.length?t.reduce((function(t,e){return t+e})):"";e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(r.a.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(o.a.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;r.a.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout((function(){t._beat()}),5e3)},e}(c.a);function l(t){if(t){var e=t.getScope();if(e)e.getTransaction()&&e.setSpan(void 0)}}},780:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(10),a=n(144),r=n(51),s=n(80),o=n(694),c=function(t){function e(e,n){var i=t.call(this,e)||this;return i._measurements={},i._hub=Object(a.c)(),Object(r.g)(n,a.a)&&(i._hub=n),i.name=e.name?e.name:"",i._trimEnd=e.trimEnd,i.transaction=i,i}return Object(i.b)(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new o.b(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=Object(i.a)({},t)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(s.a.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var i=this.spanRecorder?this.spanRecorder.spans.filter((function(t){return t!==n&&t.endTimestamp})):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce((function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t})).endTimestamp);var a={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction"};return Object.keys(this._measurements).length>0&&(s.a.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),a.measurements=this._measurements),this._hub.captureEvent(a)}s.a.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},e}(o.a)},781:function(t,e,n){"use strict";n.r(e);var i=n(1218);n.d(e,"GlobalHandlers",(function(){return i.a}));var a=n(1219);n.d(e,"TryCatch",(function(){return a.a}));var r=n(1217);n.d(e,"Breadcrumbs",(function(){return r.a}));var s=n(1220);n.d(e,"LinkedErrors",(function(){return s.a}));var o=n(1221);n.d(e,"UserAgent",(function(){return o.a}))}}]);