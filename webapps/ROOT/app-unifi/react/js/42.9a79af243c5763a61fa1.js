(window.webpackJsonpunifiNetworkUi=window.webpackJsonpunifiNetworkUi||[]).push([[42],{1810:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(31),i=a(293),c=a(838),_=a(6),o=a(28),s=a(171),E=a(42),d=a(211),m=a(36),u=a(465),p=a(2273),b=a(64),O=a(2),I=a(4),S=a(8),A=a(16),T=a(230),g=a.n(T),N=a(1197),R=a(170),h=a(13),F=a(1945),C=a(464);var D={GTK_REKEY_DEFAULT_VALUE:3600,SSID:{MAX_LENGTH:32},SSID_COMBINE:{DEFAULT_VALUE:"_IoT",MAX_LENGTH:8}},f=a(1982),M=a(45),W=a(75),P=a(5),L=a(1753),y=a(2251),v=a(1754),G=a(1755),j=a(49),w=a(23),x=a(95),V=a(54);const k=Object(P.c)("div")`
  margin-bottom: ${({theme:e})=>e.spacing["spacing-xxxl"]};
  padding: 16px 24px;
  border: 1px solid ${({theme:e})=>e.motifPalette.ui04};
  line-height: 1.5;
  max-width: 616px;
`,B=Object(P.c)(w.cb)`
  margin-right: ${({theme:e})=>e.spacing["spacing-m"]};
`;var U=()=>{const e=Object(S.useSelector)(d.selectUserGroupOptions);return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"dropdown",htmlFor:"usergroup_id",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_BANDWIDTH_PROFILE"})}),l.a.createElement(G.a,null,l.a.createElement(V.Field,{name:"usergroup_id",type:"dropdown",options:e}))),l.a.createElement(v.a,null,l.a.createElement(k,null,l.a.createElement(x.g,null,l.a.createElement(B,{isActive:!0}),l.a.createElement(j.a,{color:"tertiary"},l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_BANDWIDTH_PROFILE_DESCRIPTION"}))))))},H=a(2201),$=a(2202);const Y=Object(P.c)(v.a)`
  margin-bottom: 0 !important;
  flex-wrap: wrap;
`,X=Object(P.c)(x.g)`
  margin-bottom: ${({theme:e})=>e.spacing["spacing-xxxl"]};
  min-width: 342px;
`;var z=()=>{const{values:e}=Object(M.e)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null,l.a.createElement(X,{alignSelf:"flex-start",flex:"1"},l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_UAPSD_DESCRIPTION"}),htmlFor:"uapsd_enabled",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_UAPSD_LABEL"})}),l.a.createElement(x.g,{alignItems:"flex-start",flex:"0 1 72px"},l.a.createElement(V.Field,{name:"uapsd_enabled",type:"checkbox"}))),l.a.createElement(X,{flex:"1",flexDirection:"column"},l.a.createElement(x.g,{flex:"auto",width:"100%"},l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_MCASTENHANCE_ENABLED_DESCRIPTION"}),htmlFor:"mcastenhance_enabled",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_MCASTENHANCE_ENABLED_LABEL"})}),l.a.createElement(x.g,{alignItems:"flex-start",flex:"0 1 72px"},l.a.createElement(V.Field,{name:"mcastenhance_enabled",type:"checkbox"}))))),l.a.createElement(Y,null,l.a.createElement(X,{alignSelf:"flex-start",flex:"1"},l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_HIGH_PERFORMANCE_DEVICES_DESCRIPTION"}),htmlFor:"no2ghz_oui",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_HIGH_PERFORMANCE_DEVICES_LABEL"})}),l.a.createElement(x.g,{alignItems:"flex-start",flex:"0 1 72px"},l.a.createElement(V.Field,{name:"no2ghz_oui",type:"checkbox"}))),l.a.createElement(X,{flex:"1",flexDirection:"column"},l.a.createElement(x.g,{flex:"auto",width:"100%"},l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_BSS_TRANSITION_DESCRIPTION"}),htmlFor:"bss_transition",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_BSS_TRANSITION_LABEL"})}),l.a.createElement(x.g,{alignItems:"flex-start",flex:"0 1 72px"},l.a.createElement(V.Field,{name:"bss_transition",type:"checkbox"}))))),l.a.createElement(Y,null,l.a.createElement(X,{alignSelf:"flex-start",flex:"1"},l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_PROXY_ARP_DESCRIPTION"}),htmlFor:"proxy_arp",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_PROXY_ARP_LABEL"})}),l.a.createElement(x.g,{alignItems:"flex-start",flex:"0 1 72px"},l.a.createElement(V.Field,{name:"proxy_arp",type:"checkbox"}))),l.a.createElement(X,{flex:"1",flexDirection:"column"},l.a.createElement(x.g,{flex:"auto",width:"100%"},l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_L2_ISOLATION_DESCRIPTION"}),htmlFor:"l2_isolation",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_L2_ISOLATION_LABEL"})}),l.a.createElement(x.g,{alignItems:"flex-start",flex:"0 1 72px"},l.a.createElement(V.Field,{name:"l2_isolation",type:"checkbox"}))))),l.a.createElement(Y,null,l.a.createElement(X,{alignSelf:"flex-start",flex:"1"},l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_LEGACY_SUPPORT_ENABLED_DESCRIPTION"}),htmlFor:"b_supported",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_LEGACY_SUPPORT_ENABLED_LABEL"})}),l.a.createElement(x.g,{alignItems:"flex-start",flex:"0 1 72px"},l.a.createElement(V.Field,{name:"b_supported",type:"checkbox"}))),![m.WlanSecurityType.OPEN,m.WlanSecurityType.WEP].includes(e.security)&&l.a.createElement(X,{flex:"1",flexDirection:"column"},l.a.createElement(x.g,{flex:"auto",width:"100%"},l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_ADVANCED_FAST_ROAMING_DESCRIPTION"}),htmlFor:"fast_roaming_enabled",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_ADVANCED_FAST_ROAMING_LABEL"})}),l.a.createElement(x.g,{alignItems:"flex-start",flex:"0 1 72px"},l.a.createElement(V.Field,{name:"fast_roaming_enabled",type:"checkbox"}))))))},K=a(1761),q=a(133),Q=a(1924),Z=a(2366),J=a(24);const ee=Object(P.c)("div",{shouldForwardProp:e=>"left"!==e})`
  position: absolute;
  top: 0;
  left: ${({left:e})=>e}px;
  overflow: visible;
  white-space: nowrap;
  transform: translateX(-50%);
`,te=Object(P.c)("div")`
  position: absolute;
  left: 0;
  top: 0;
`,ae=Object(P.c)("div")`
  position: absolute;
  right: 0;
  top: 0;
`,ne=Object(P.c)(j.a)`
  position: absolute;
  left: 0;
  bottom: 0;
`,le=Object(P.c)(j.a)`
  position: absolute;
  right: 0;
  bottom: 0;
`,re=Object(P.c)("div")`
  display: flex;
  position: relative;
  padding: ${({theme:e})=>e.spacing["spacing-xxl"]} 0;
  margin-bottom: ${({theme:e})=>e.spacing["spacing-xxl"]};
  width: 100%;
  overflow: visible;
`,ie=Object(P.c)(Z.a)`
  transform: rotate(180deg) !important;
`,ce=({children:e})=>l.a.createElement(j.a,{color:"secondary"},e," ",l.a.createElement(I.c,{id:"COMMON_UNIT_BPS",values:{prefix:"M"}}));var _e=({name:e,range:t,hideStep:a=3})=>{const[r,i]=Object(n.useState)(0),c=Object(n.createRef)(),{setFieldValue:_,values:o}=Object(M.e)(),s=o[e],E=t.indexOf(s),d=t.length-1,m=Object(n.useCallback)(a=>_(e,t[-a.target.value]),[t,e,_]);Object(n.useEffect)(()=>{const{current:e}=c;if(e){const{width:t}=e.getBoundingClientRect();let a=t/d*E;0===a?a=14:a===t&&(a=t-14),i(a)}},[c,d,i,s,e,E]);const u=E<a,p=d-E<a;return l.a.createElement(J.a,{justifyContent:"center"},l.a.createElement(re,{innerRef:c},l.a.createElement(ie,{min:-d,max:0,value:-E,onChange:m}),!u&&l.a.createElement(te,null,l.a.createElement(ce,null,t[0]/1e3)),!p&&l.a.createElement(ae,null,l.a.createElement(ce,null,t[d]/1e3)),l.a.createElement(ne,{color:"tertiary"},l.a.createElement(I.c,{id:"SETTINGS_DATA_RATE_CONTROL_LOWER_DENSITY_LABEL"})),l.a.createElement(le,{color:"tertiary"},l.a.createElement(I.c,{id:"SETTINGS_DATA_RATE_CONTROL_HIGHER_DENSITY_LABEL"})),l.a.createElement(ee,{left:r},l.a.createElement(ce,null,s/1e3))))};const oe=Object(P.c)("div")`
  margin-bottom: ${({theme:e})=>e.spacing["spacing-xxxl"]};
  padding: 12px 24px;
  border: 1px solid ${({theme:e})=>e.motifPalette.ui04};
`,se=Object(P.c)(w.b)`
  margin-right: ${({theme:e})=>e.spacing["spacing-m"]};
`;var Ee=e=>{const t=Object(b.l)(),{message:a,color:n}=(({cckRatesDisabled:e,rate:t,radio:a},n)=>{const l={color:void 0,message:"SETTINGS_WIFI_MINRATE_INFO_FULL_COMPATIBILITY"};if("na"===a){return t===m.MIN_RATE_CONTROL.na[0]?l:{color:n.motifPalette.warning,message:"SETTINGS_WIFI_MINRATE_INFO_LIMITED_CONNECTIVITY_5G"}}if(e||t>=12e3)return{color:n.motifPalette.danger,message:"SETTINGS_WIFI_MINRATE_INFO_NO_CONNECTIVITY_2G"};return!(m.MIN_RATE_CONTROL.ng[0]===t)&&t<12e3?{color:n.motifPalette.warning,message:"SETTINGS_WIFI_MINRATE_INFO_LIMITED_CONNECTIVITY_2G"}:l})(e,t);return l.a.createElement(oe,null,l.a.createElement(x.g,{alignItems:"center"},l.a.createElement(se,{color:n}),l.a.createElement(I.c,{id:a})))};const de=Object(P.c)(N.a)`
  margin-left: ${({theme:e})=>e.spacing["spacing-m"]};
`;var me=({radio:e})=>{const{values:t}=Object(M.e)(),a=e===q.b.NG,n=e===q.b.NG?"2G":"5G",r=t[`minrate_${e}_enabled`],i=t[`minrate_${e}_data_rate_kbps`],c=i===m.MIN_RATE_CONTROL[e][0],_=!!a&&t.minRateNgCckRatesDisabled||!c;return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_DATA_RATE_CONTROL_DESCRIPTION",values:{band:n}}),htmlFor:`minrate_${e}_enabled`,searchHtmlFor:"minrate_na_enabled",label:l.a.createElement(x.g,{alignItems:"center"},l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_DATA_RATE_CONTROL_LABEL",values:{band:n}}),l.a.createElement(de,{message:l.a.createElement(l.a.Fragment,null,l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_DATA_RATE_CONTROL_TOOLTIP"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_DATA_RATE_CONTROL_DISABLE_TOOLTIP"})),width:240},l.a.createElement(w.cb,null)))}),l.a.createElement(G.a,null,l.a.createElement(V.Field,{name:`minrate_${e}_enabled`,type:"checkbox"}))),r&&l.a.createElement(l.a.Fragment,null,l.a.createElement(_e,{name:`minrate_${e}_data_rate_kbps`,range:m.MIN_RATE_CONTROL[e],hideStep:e===q.b.NG?3:2}),a&&l.a.createElement(v.a,null,l.a.createElement(Q.a,{alignWith:"toggleSmall",htmlFor:"minRateNgCckRatesDisabled",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_DISABLE_CCK_RATES_LABEL"})}),l.a.createElement(G.a,null,l.a.createElement(V.Field,{name:"minRateNgCckRatesDisabled",type:"checkbox"}))),l.a.createElement(v.a,{disabled:!_},l.a.createElement(Q.a,{alignWith:"toggleSmall",htmlFor:`minrate_${e}_advertising_rates`,label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_REQUIRE_CLIENTS_TO_USE_RATES_ABOVE_VALUE_LABEL"})}),l.a.createElement(G.a,null,l.a.createElement(V.Field,{disabled:!_,name:`minrate_${e}_advertising_rates`,type:"checkbox",value:_&&t[`minrate_${e}_advertising_rates`]}))),l.a.createElement(v.a,{disabled:c},l.a.createElement(Q.a,{alignWith:"toggleSmall",htmlFor:"minrateBeacon_"+e,label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_SEND_BEACONS_AT_MBPS_LABEL",values:{rate:m.MIN_RATE_CONTROL[e][0]/1e3}})}),l.a.createElement(G.a,null,l.a.createElement(V.Field,{disabled:c,name:"minrateBeacon_"+e,type:"checkbox",value:!c&&t["minrateBeacon_"+e]}))),l.a.createElement(Ee,{cckRatesDisabled:e===q.b.NG&&t.minRateNgCckRatesDisabled,rate:i,radio:e})))};const ue=Object(P.c)(L.a)`
  padding-bottom: 0 !important;
`;var pe=()=>{const{values:e,setFieldValue:t}=Object(M.e)(),a=Object(n.useCallback)(()=>{const a=e.dtim_mode===m.DtimMode.DEFAULT?m.DtimMode.CUSTOM:m.DtimMode.DEFAULT;t("dtim_mode",a)},[t,e.dtim_mode]);return l.a.createElement(ue,null,l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_OVERRIDE_DTIM_PERIOD_DESCRIPTION"}),htmlFor:"dtimMode",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_OVERRIDE_DTIM_PERIOD_LABEL"})}),l.a.createElement(G.a,null,l.a.createElement(K.a,{name:"dtimMode",checked:e.dtim_mode===m.DtimMode.CUSTOM,onChange:a}))),e.dtim_mode===m.DtimMode.CUSTOM&&l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"input",htmlFor:"dtim_ng",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_DTIM_PERIOD_LABEL",values:{band:"2G"}}),searchText:"SETTINGS_WIFI_FORM_ADVANCED_DTIM_PERIOD_LABEL_2G_SEARCH",searchIsApplicable:"isWFiWithManualDtim"}),l.a.createElement(G.a,{column:!0},l.a.createElement(V.Field,{full:!0,name:"dtim_ng",type:"number",min:m.MINRATE_SETTINGS.MIN,max:m.MINRATE_SETTINGS.MAX}))),l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"input",htmlFor:"dtim_na",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_DTIM_PERIOD_LABEL",values:{band:"5G"}}),searchText:"SETTINGS_WIFI_FORM_ADVANCED_DTIM_PERIOD_LABEL_5G_SEARCH",searchIsApplicable:"isWFiWithManualDtim"}),l.a.createElement(G.a,{column:!0},l.a.createElement(V.Field,{full:!0,name:"dtim_na",type:"number",min:m.MINRATE_SETTINGS.MIN,max:m.MINRATE_SETTINGS.MAX})))),l.a.createElement(me,{radio:q.b.NG}),l.a.createElement(me,{radio:q.b.NA}))},be=a(1969),Oe=a(98),Ie=a(30);const Se=[{id:"mac",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_MAC_ADDRESS_LABEL"}),sortable:!1}],Ae={mac_filter_list:"SETTINGS_WIFI_FORM_ADVANCED_MAC_ADDRESS_LABEL"},Te=[{name:"new_mac",placeholder:"SETTINGS_WIFI_FORM_ADVANCED_MAC_ADDRESS_FILTER_ENTER_MAC_ADDRESS"}],ge=Ie.a.object().shape({editActive:Ie.a.bool(),mac_filter_list:Ie.a.array().of(Ie.a.object().shape({mac:Ie.a.string().label("SETTINGS_WIFI_FORM_ADVANCED_MAC_ADDRESS_LABEL").matches(Oe.p,l.a.createElement(I.c,{id:"COMMON_VALIDATION_VALID_MAC"}))})),new_mac:Ie.a.string().label("SETTINGS_WIFI_FORM_ADVANCED_MAC_ADDRESS_LABEL").matches(Oe.p,l.a.createElement(I.c,{id:"COMMON_VALIDATION_VALID_MAC"}))}),Ne=Object(P.c)(x.g)`
  width: 100%;
  table + div {
    ${({itemCount:e})=>e>0&&`height: ${be.b.getHeight(e,6,0)}px;`}
  }
`;function Re(){const{values:{mac_filter_list:e=[]},setFieldValue:t}=Object(M.e)(),a=Object(n.useMemo)(()=>e.map(e=>({mac:e})),[e]),r=Object(n.useMemo)(()=>({editActive:!1,mac_filter_list:a}),[a]),i=Object(n.useCallback)(e=>{t("mac_filter_list",e)},[t]),c=Object(n.useCallback)(({mac_filter_list:e,new_mac:t})=>i([...new Set([...e.map(({mac:e})=>e),t])]),[i]),_=Object(n.useCallback)(e=>i([...new Set([...e.map(({mac:e})=>e)])]),[i]),o=Object(n.useCallback)(({mac:t})=>i(e.filter(e=>e!==t)),[i,e]);return l.a.createElement(Ne,{flexWrap:"wrap",itemCount:a.length},l.a.createElement(be.a,{idField:"mac",columns:Se,fieldName:"mac_filter_list",fieldLabels:Ae,initialValues:r,items:a,newFields:Te,onAddItem:c,onEditSubmit:_,onRemoveItem:o,useWindowTable:!0,validationSchema:ge}))}const he=Object(P.c)(V.Field)`
  margin-right: ${({theme:e})=>e.spacing["spacing-s"]};
  &:last-child {
    margin-right: ${({theme:e})=>e.spacing["spacing-xl"]};
  }
`;function Fe(){const{values:{mac_filter_enabled:e},errors:t}=Object(M.e)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",htmlFor:"mac_filter_enabled",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_MAC_ADDRESS_FILTER_LABEL"})}),l.a.createElement(G.a,null,l.a.createElement(V.Field,{type:"checkbox",name:"mac_filter_enabled"}))),e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{searchIsApplicable:"isNotHotspotWifi,isWifiMacFilterEnabled",searchText:"SETTINGS_WIFI_FORM_ADVANCED_MAC_ADDRESS_FILTER_TYPE_LABEL_SEARCH",description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_MAC_ADDRESS_FILTER_TYPE_DESCRIPTION"}),htmlFor:"mac_filter_policy",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_MAC_ADDRESS_FILTER_TYPE_LABEL"})}),l.a.createElement(G.a,{column:!0},l.a.createElement(x.g,null,l.a.createElement(he,{value:m.MacFilterPolicy.DENY,type:"togglebox",toggleboxType:"radio",name:"mac_filter_policy"},l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_MAC_ADDRESS_FILTER_TYPE_DENY_LIST"})),l.a.createElement(he,{value:m.MacFilterPolicy.ALLOW,type:"togglebox",toggleboxType:"radio",name:"mac_filter_policy"},l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_MAC_ADDRESS_FILTER_TYPE_ALLOW_LIST"}))),!!(null==t?void 0:t.mac_filter_policy)&&l.a.createElement(V.ValidationMessage,{visible:!0},t.mac_filter_policy))),l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{searchIsApplicable:"isNotHotspotWifi,isWifiMacFilterEnabled",htmlFor:"mac_filter_policy",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_MAC_ADDRESSES_LABEL"})}),l.a.createElement(G.a,null,l.a.createElement(Re,null)))))}const Ce=[{value:m.MacAddressFormat.NONE_LOWER,label:"aabbccddeeff"},{value:m.MacAddressFormat.HYPHEN_LOWER,label:"aa-bb-cc-dd-ee-ff"},{value:m.MacAddressFormat.COLON_LOWER,label:"aa:bb:cc:dd:ee:ff"},{value:m.MacAddressFormat.NONE_UPPER,label:"AABBCCDDEEFF"},{value:m.MacAddressFormat.HYPHEN_UPPER,label:"AA-BB-CC-DD-EE-FF"},{value:m.MacAddressFormat.COLON_UPPER,label:"AA:BB:CC:DD:EE:FF"}],De=Object(P.c)(L.a)`
  padding-bottom: 0 !important;
`;var fe=()=>{const e=Object(S.useSelector)(s.selectRadiusProfiles),{values:t}=Object(M.e)(),a=Object(n.useMemo)(()=>e.map(({_id:e,name:t})=>({label:t,value:e})),[e]);return l.a.createElement(De,null,l.a.createElement(Fe,null),l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",htmlFor:"radius_mac_auth_enabled",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_RADIUS_MAC_AUTHENTIFICATION_LABEL"})}),l.a.createElement(G.a,null,l.a.createElement(V.Field,{name:"radius_mac_auth_enabled",type:"checkbox"}))),t.radius_mac_auth_enabled&&l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"dropdown",htmlFor:"radiusprofile_id",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_RADIUS_PROFILE_LABEL"}),searchIsApplicable:"isWiFiRadiusMacAuthEnabled"}),l.a.createElement(G.a,{column:!0},l.a.createElement(V.Field,{name:"radiusprofile_id",options:a,type:"dropdown",full:!0,validated:!0}))),l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"dropdown",htmlFor:"radius_macacl_format",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_MAC_ADDRESS_FORMAT_LABEL"}),searchIsApplicable:"isWiFiRadiusMacAuthEnabled"}),l.a.createElement(G.a,{column:!0},l.a.createElement(V.Field,{name:"radius_macacl_format",options:Ce,type:"dropdown",full:!0})))))},Me=a(2903),We=a(97);var Pe=a(44);const Le=Object(Pe.a)((e,t)=>Ie.a.object().shape({ap_group_ids:Ie.a.array().of(Ie.a.string()).min(1,l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUPS_VALIDATION_MIN"})),hasInvalidApGroupsSelected:Ie.a.bool().oneOf([!1]),hotspot2conf_enabled:Ie.a.boolean(),hotspot2conf_id:Ie.a.string().when(["hotspot2conf_enabled","security"],{is:(e,t)=>!!e&&(t===m.WlanSecurityType.HOTSPOT_2_OSEN||t===m.WlanSecurityType.WPA_ENTERPRISE),then:Ie.a.string().label("SETTINGS_WIFI_FORM_GENERAL_FIELD_HOTSPOT2CONF_ID_LABEL").required()}),mac_filter_enabled:Ie.a.boolean(),mac_filter_policy:Ie.a.string().when("mac_filter_enabled",{is:!0,then:Ie.a.string().label("SETTINGS_WIFI_FORM_ADVANCED_MAC_ADDRESS_FILTER_TYPE_LABEL").oneOf([...Object.values(m.MacFilterPolicy)]).required()}),mac_filter_list:Ie.a.array().of(Ie.a.string()),name:Ie.a.string().label("SETTINGS_WIFI_FORM_GENERAL_FIELD_NAME").byteLength(32).required(),network:Ie.a.string().label("SETTINGS_WIFI_FORM_GENERAL_FIELD_NETWORK").oneOf(t.map(e=>Object(A.a)(e,"_id"))),pmf_mode:Ie.a.string().oneOf(Object.values(m.PmfMode)),radiusEnabled:Ie.a.bool(),radius_mac_auth_enabled:Ie.a.bool(),radiusprofile_id:Ie.a.string().when(["radius_mac_auth_enabled","security"],{is:(e,t)=>!!e&&t!==m.WlanSecurityType.HOTSPOT_2_OSEN&&t!==m.WlanSecurityType.WPA_ENTERPRISE,then:Ie.a.string().isAllowedDefaultRadiusProfile()}),radiusXSecret:Ie.a.string().when("radiusEnabled",{is:!0,then:Ie.a.string().label("SETTINGS_WIFI_FORM_GENERAL_FIELD_RADIUS_X_SECRET_LABEL").required()}),security:Ie.a.string().label("SETTINGS_WIFI_FORM_GENERAL_FIELD_SECURITY").oneOf(Object.values(m.WlanSecurityType)),usergroup_id:Ie.a.string().required(),wlan_band:Ie.a.string().oneOf(Object.values(m.WlanBand)),wep_idx:Ie.a.number().when("security",{is:m.WlanSecurityType.WEP,then:Ie.a.number().label("SETTINGS_WIFI_FORM_GENERAL_FIELD_WEP_IDX").min(1).max(4).required()}),x_passphrase:Ie.a.string().when("security",{is:m.WlanSecurityType.WPA_PERSONAL,then:Ie.a.string().label("SETTINGS_WIFI_FORM_GENERAL_FIELD_X_PASSPHRASE").matches(Oe.z,l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_VALIDATION_WPA_PASSWORD"})).required()}),x_wep:Ie.a.string().when("security",{is:m.WlanSecurityType.WEP,then:Ie.a.string().label("SETTINGS_WIFI_FORM_GENERAL_FIELD_X_WEP").matches(Oe.y,l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_VALIDATION_WEP_PASSWORD"})).required()}),sae_anti_clogging:Ie.a.number().when(["wpa3_support","security"],{is:(e,t)=>e&&t!==m.WlanSecurityType.WPA_ENTERPRISE,then:Ie.a.number().label("SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA3_SAE_ANTI_CLOGGING").min(1).max(60).required()}),sae_sync:Ie.a.number().when(["wpa3_support","security"],{is:(e,t)=>e&&t!==m.WlanSecurityType.WPA_ENTERPRISE,then:Ie.a.number().label("SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA3_SAE_SYNC_TIME").min(1).max(60).required()})}));var ye=[{value:m.PmfMode.REQUIRED,label:"SETTINGS_COMMON_REQUIRED"},{value:m.PmfMode.OPTIONAL,label:"SETTINGS_COMMON_OPTIONAL"},{value:m.PmfMode.DISABLED,label:"SETTINGS_COMMON_DISABLED"}];function ve({security:e,wpa_mode:t,wpa3_support:a,wpa3_transition:n}){return t!==m.WpaMode.WPA2&&t!==m.WpaMode.WPA3||m.WlanSecurityType.WPA_PERSONAL!==e&&m.WlanSecurityType.WPA_ENTERPRISE!==e||!a?m.PmfMode.DISABLED:n?m.PmfMode.OPTIONAL:m.PmfMode.REQUIRED}function Ge(e){const t=ve(e),a={[m.PmfMode.REQUIRED]:!0,[m.PmfMode.OPTIONAL]:t===m.PmfMode.OPTIONAL||t===m.PmfMode.DISABLED,[m.PmfMode.DISABLED]:t===m.PmfMode.DISABLED};return ye.map(({value:e,label:t})=>({disabled:!a[e],label:t,value:e}))}const je=Object(P.c)(G.a)`
  flex: 1 2;
`;var we=()=>{var e;const{handleChange:t,initialValues:a,isSubmitting:r,setFieldValue:i,setValues:c,values:_}=Object(M.e)(),o=Object(n.useContext)(x.l),d=Object(S.useSelector)(s.selectDefaultRadiusProfile),u=Object(S.useSelector)(We.e),b=null===(e=Object(S.useSelector)(E.selectRadiusSettings))||void 0===e?void 0:e.enabled,O=Object(S.useSelector)(s.selectRadiusProfiles),A=Object(S.useSelector)(p.selectIsWpa3Supported),T=Object(n.useRef)(b);r||(T.current=b);const g=Object(n.useMemo)(()=>((e,t,a,n,l,r)=>{const i=a&&!!l||n.some(e=>e!==l);return[...e===m.WlanSecurityType.OPEN?[{label:"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_OPEN",value:":"+m.WlanSecurityType.OPEN}]:[],...e===m.WlanSecurityType.WEP?[{label:"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WEP",value:":"+m.WlanSecurityType.WEP}]:[],...t===m.WpaMode.AUTO?[{label:"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_AUTO_PERSONAL",value:`${m.WpaMode.AUTO}:${m.WlanSecurityType.WPA_PERSONAL}`},{label:"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_AUTO_ENTERPRISE",value:`${m.WpaMode.AUTO}:${m.WlanSecurityType.WPA_ENTERPRISE}`}]:[],...t===m.WpaMode.WPA1?[{label:"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA1_PERSONAL",value:`${m.WpaMode.WPA1}:${m.WlanSecurityType.WPA_PERSONAL}`},{label:"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA1_ENTERPRISE",value:`${m.WpaMode.WPA1}:${m.WlanSecurityType.WPA_ENTERPRISE}`}]:[],{label:"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA2_PERSONAL",value:`${m.WpaMode.WPA2}:${m.WlanSecurityType.WPA_PERSONAL}`},{label:i?"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA2_ENTERPRISE":"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA2_ENTERPRISE_NO_RADIUS",value:`${m.WpaMode.WPA2}:${m.WlanSecurityType.WPA_ENTERPRISE}`,disabled:!i},...r?[{label:"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA2_WPA3",value:`${m.WpaMode.WPA2_WPA3}:${m.WlanSecurityType.WPA_PERSONAL}`},{label:"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA3_PERSONAL",value:`${m.WpaMode.WPA3}:${m.WlanSecurityType.WPA_PERSONAL}`},{label:i?"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA3_ENTERPRISE":"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA3_ENTERPRISE_NO_RADIUS",value:`${m.WpaMode.WPA3}:${m.WlanSecurityType.WPA_ENTERPRISE}`,disabled:!i}]:[]]})(a.security,a.wpa_mode,T.current,O,d,A),[d,a.security,a.wpa_mode,O,A]),N=Object(n.useMemo)(()=>Object(s.radiusProfileOptions)(O,u),[u,O]);return Object(n.useEffect)(()=>{i("wpa_enc",_.ccmpEncryption?m.WpaEnc.CCMP:m.WpaEnc.AUTO)},[i,_.ccmpEncryption]),Object(n.useEffect)(()=>{i("radiusEnabled",!T.current&&_.radiusprofile_id===(null==d?void 0:d._id)&&(_.security===m.WlanSecurityType.HOTSPOT_2_OSEN||_.security===m.WlanSecurityType.WPA_ENTERPRISE))},[_.radiusprofile_id,_.security,i,null==d?void 0:d._id]),Object(n.useEffect)(()=>{const[e,t]=_.securityProtocol.split(":"),a={..._};e?(a.wpa_mode=e===m.WpaMode.WPA2_WPA3?m.WpaMode.WPA3:e,a.security=t):a.security=t,a.wpa3_support=[m.WpaMode.WPA2_WPA3,m.WpaMode.WPA3].includes(e),a.wpa3_transition=e===m.WpaMode.WPA2_WPA3;const n=Ge(a).filter(({disabled:e})=>!e),l=ve(a);_._id&&n.some(({value:e})=>e===a.pmf_mode)||(a.pmf_mode=l),c(a)},[c,_.securityProtocol,_.wpa3_enhanced_192]),Object(n.useEffect)(()=>{_.wpa_mode===m.WpaMode.AUTO&&i("ccmpEncryption",!0)},[i,_.wpa_mode]),l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{searchTags:["SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA2_PERSONAL","SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA3_PERSONAL"],alignWith:"dropdown",htmlFor:"securityProtocol",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_GENERAL_FIELD_SECURITY_PROTOCOL_LABEL"})}),l.a.createElement(je,{wrap:!0},g.map(({label:e,value:t})=>l.a.createElement(V.Field,{key:t,multiline:!0,name:"securityProtocol",toggleboxType:"radio",type:"togglebox",value:t,disabled:1===g.length},l.a.createElement(I.c,{id:e}))))),_.security===m.WlanSecurityType.WEP&&l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"input",htmlFor:"x_wep",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_GENERAL_FIELD_X_WEP"}),searchIsApplicable:"isWiFiSecurityProtocolWep"}),l.a.createElement(G.a,{column:!0},l.a.createElement(V.Field,{full:!0,name:"x_wep",passwordToggle:!0,type:"password"}))),l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:7,description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_GENERAL_FIELD_WEP_IDX_DESCRIPTION"}),htmlFor:"wep_idx",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_GENERAL_FIELD_WEP_IDX_LABEL"}),searchIsApplicable:"isWiFiSecurityProtocolWep"}),l.a.createElement(Me.a,{disabled:o,integer:!0,max:4,min:1,name:"wep_idx",snap:!0,step:1,value:_.wep_idx,onChange:t}))),a.wpa_enc===m.WpaEnc.AUTO&&l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_GENERAL_FIELD_CCMP_ENCRYPTION_DESCRIPTION"}),htmlFor:"ccmpEncryption",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_GENERAL_FIELD_CCMP_ENCRYPTION_LABEL"}),searchIsApplicable:"isWiFiSecurityProtocolWpaEncAuto"}),l.a.createElement(G.a,null,l.a.createElement(V.Field,{disabled:o||_.wpa_mode===m.WpaMode.AUTO,name:"ccmpEncryption",type:"checkbox"}))),(_.security===m.WlanSecurityType.HOTSPOT_2_OSEN||_.security===m.WlanSecurityType.WPA_ENTERPRISE)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"dropdown",htmlFor:"radiusprofile_id",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_GENERAL_FIELD_RADIUS_PROFILE_LABEL"}),searchIsApplicable:"isWiFiRadiusProfileAvailable"}),l.a.createElement(G.a,null,l.a.createElement(V.Field,{full:!0,name:"radiusprofile_id",options:N,type:"dropdown"}))),!T.current&&_.radiusprofile_id===(null==d?void 0:d._id)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement(Q.a,{alignWith:"toggleSmall",description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_GENERAL_FIELD_RADIUS_ENABLED_DESCRIPTION",values:{security:l.a.createElement(I.c,{id:Object(m.getWlanSecurityTypeTranslationKey)(_.security)})}}),htmlFor:"radiusEnabled",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_GENERAL_FIELD_RADIUS_ENABLED_LABEL"})}),l.a.createElement(G.a,null,l.a.createElement(V.Field,{disabled:!0,name:"radiusEnabled",type:"checkbox"}))),l.a.createElement(v.a,null,l.a.createElement(Q.a,{alignWith:"input",htmlFor:"radiusXSecret",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_GENERAL_FIELD_RADIUS_X_SECRET_LABEL"})}),l.a.createElement(G.a,{column:!0},l.a.createElement(V.Field,{full:!0,name:"radiusXSecret",passwordToggle:!0,type:"password"}))))),_.security===m.WlanSecurityType.WPA_ENTERPRISE&&_.wpa_mode===m.WpaMode.WPA3&&l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{searchIsApplicable:"isWiFiWpa3,isWiFiWpaEap",alignWith:"toggleSmall",htmlFor:"wpa3_enhanced_192",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA3_192_BIT_MODE"})}),l.a.createElement(G.a,null,l.a.createElement(V.Field,{name:"wpa3_enhanced_192",type:"checkbox"}))),_.wpa3_support&&_.security!==m.WlanSecurityType.WPA_ENTERPRISE&&l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{searchIsApplicable:"isWiFiWpa3,isWiFiWpaPsk",alignWith:"input",htmlFor:"sae_anti_clogging",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA3_SAE_ANTI_CLOGGING"})}),l.a.createElement(G.a,{column:!0},l.a.createElement(V.Field,{full:!0,name:"sae_anti_clogging",type:"number",min:"1",max:"60"}))),l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{searchIsApplicable:"isWiFiWpa3,isWiFiWpaPsk",alignWith:"input",htmlFor:"sae_sync",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA3_SAE_SYNC_TIME"})}),l.a.createElement(G.a,{column:!0},l.a.createElement(V.Field,{full:!0,name:"sae_sync",type:"number",min:"1",max:"60"}))),_.wpa3_transition&&_.fast_roaming_enabled&&l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{searchIsApplicable:"isWiFiWpa3Transition,isWiFiWpaPsk,isWiFiFastRoamingEnabled",alignWith:"toggleSmall",htmlFor:"wpa3_fast_roaming",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_VALUES_SECURITY_PROTOCOL_WPA3_FAST_ROAMING"})}),l.a.createElement(G.a,null,l.a.createElement(V.Field,{name:"wpa3_fast_roaming",type:"checkbox"})))))};var xe=()=>{const{values:e}=Object(M.e)(),t=Object(n.useContext)(x.l),a=Object(S.useSelector)(c.selectHotspot2conf),r=Object(S.useSelector)(We.k),i=Object(n.useMemo)(()=>a.map(({_id:e,name:t})=>({label:t,value:e})),[a]);return e.security===m.WlanSecurityType.HOTSPOT_2_OSEN||e.security===m.WlanSecurityType.WPA_ENTERPRISE?l.a.createElement(l.a.Fragment,null,!1,!!e.hotspot2conf_enabled&&l.a.createElement(v.a,null,l.a.createElement(Q.a,{alignWith:"dropdown",badge:r?l.a.createElement(I.c,{id:"COMMON_BADGE_COMING_SOON"}):void 0,htmlFor:"hotspot2conf_id",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_GENERAL_FIELD_HOTSPOT2CONF_ID_LABEL"})}),l.a.createElement(G.a,{column:!0},l.a.createElement(V.Field,{full:!0,disabled:t||r,name:"hotspot2conf_id",options:i,searchEmptyMessage:"SETTINGS_WIFI_FORM_GENERAL_FIELD_HOTSPOT2CONF_ID_EMPTY",translateSearchEmptyMessage:!0,type:"dropdown",validated:!0})))):null};var Ve=()=>{const{values:{security:e,wpa_mode:t,wpa3_support:a,wpa3_transition:n}}=Object(M.e)(),r=Ge({security:e,wpa_mode:t,wpa3_support:a,wpa3_transition:n});return l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_PROTECTED_MANAGEMENT_FRAMES_DESCRIPTION"}),htmlFor:"pmf_mode",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_PROTECTED_MANAGEMENT_FRAMES_LABEL"})}),l.a.createElement(G.a,{wrap:!0},r.map(({label:e,value:t,disabled:a})=>l.a.createElement(V.Field,{key:t,multiline:!0,name:"pmf_mode",toggleboxType:"radio",type:"togglebox",value:t,disabled:a},l.a.createElement(I.c,{id:e})))))};var ke=()=>l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_HIDE_SSID_DESCRIPTION"}),htmlFor:"hide_ssid",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_HIDE_SSID_LABEL"})}),l.a.createElement(G.a,null,l.a.createElement(V.Field,{name:"hide_ssid",type:"checkbox"})));const Be=Object(P.c)(L.a)`
  padding-bottom: 0 !important;
`;var Ue=()=>{const{values:e}=Object(M.e)();return l.a.createElement(Be,null,l.a.createElement(we,null),l.a.createElement(xe,null),l.a.createElement(ke,null),l.a.createElement(Ve,null),[m.WlanSecurityType.WPA_ENTERPRISE,m.WlanSecurityType.WPA_PERSONAL,m.WlanSecurityType.HOTSPOT_2_OSEN].includes(e.security)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",htmlFor:"gtkEnabled",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_GROUP_REKEY_INTERVAL_LABEL"}),searchIsApplicable:"isWiFiGtkAvailable"}),l.a.createElement(G.a,null,l.a.createElement(V.Field,{name:"gtkEnabled",type:"checkbox"}))),e.gtkEnabled&&l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",htmlFor:"group_rekey",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_GTK_REKEYING_EVERY_LABEL"}),searchIsApplicable:"isWiFiGtkAvailable"}),l.a.createElement(G.a,null,l.a.createElement(x.g,{alignItems:"center"},l.a.createElement(x.g,{flex:"1"},l.a.createElement(V.Field,{full:!0,name:"group_rekey",type:"number",min:1})),l.a.createElement(x.g,{marginLeft:"12px"},l.a.createElement(I.c,{id:"COMMON_UNIT_SECONDS"})))))))};const He=Object(P.c)(W.SearchableAccordion)`
  margin: 0 -${({theme:e})=>e.spacing["spacing-xxxxl"]};
  width: calc(100% + 64px);
`;var $e=()=>{const e=Object(b.h)("wifi/network/form"),t=Object(n.useMemo)(()=>[{id:"security",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_LABEL_SECURITY"}),renderContent:()=>l.a.createElement(Ue,null)},{id:"mac-authorization",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_LABEL_MAC_AUTHORIZATION"}),renderContent:()=>l.a.createElement(fe,null)},{id:"data-rate-control",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_LABEL_RATE_AND_BEACON_CONTROLS"}),renderContent:()=>l.a.createElement(pe,null)}],[]);return l.a.createElement(L.a,{padding:"none"},l.a.createElement($.a,null),l.a.createElement(y.a,{currentSettingsPath:e}),l.a.createElement(z,null),l.a.createElement(U,null),l.a.createElement(He,{items:t,variant:"secondary",multiOpen:!0}),l.a.createElement(H.a,{fieldName:"schedule_with_duration"}))};var Ye=()=>{const{values:e}=Object(M.e)(),t=Object(S.useSelector)(o.selectLocalNetworks),a=Object(n.useMemo)(()=>t.map(({_id:e,name:t})=>({label:t,value:e})),[t]);return l.a.createElement(L.a,null,l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"toggleSmall",htmlFor:"enabled",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_GENERAL_FIELD_ENABLED"})}),l.a.createElement(G.a,null,l.a.createElement(V.Field,{name:"enabled",type:"checkbox"}))),l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"input",htmlFor:"name",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_GENERAL_FIELD_NAME"})}),l.a.createElement(G.a,{column:!0},l.a.createElement(V.Field,{full:!0,maxLength:"32",name:"name"}))),e.security===m.WlanSecurityType.WPA_PERSONAL&&l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{alignWith:"input",htmlFor:"x_passphrase",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_GENERAL_FIELD_X_PASSPHRASE"}),searchIsApplicable:"isWiFiSecurityProtocolWpaPersonal"}),l.a.createElement(G.a,{column:!0},l.a.createElement(V.Field,{full:!0,name:"x_passphrase",placeholder:"SETTINGS_WIFI_FORM_GENERAL_FIELD_X_PASSPHRASE_PLACEHOLDER",passwordToggle:!0,type:"password"}))),!!t&&t.length>1&&l.a.createElement(v.a,null,l.a.createElement(W.SearchableGridLabel,{searchIsApplicable:"hasMoreThanOneLocalNetwork",alignWith:"dropdown",htmlFor:"networkconf_id",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_GENERAL_FIELD_NETWORK"})}),l.a.createElement(G.a,{column:!0},l.a.createElement(V.Field,{full:!0,name:"networkconf_id",options:a,type:"dropdown"}))))};var Xe=()=>{const e=Object(n.useRef)(null),{errors:t}=Object(M.e)(),{modalType:a}=Object(r.m)(),i=Object(n.useMemo)(()=>[{id:"advanced",label:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_LABEL"}),description:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_LABEL_DESC"}),renderContent:()=>l.a.createElement($e,null),openByDefault:!!a}],[a]);return Object(b.f)(e,t),l.a.createElement("div",{ref:e},l.a.createElement(Ye,null),l.a.createElement(W.SearchableAccordion,{items:i,variant:"primary"}))},ze=a(2187),Ke=a(2189);var qe=Object(I.f)(e=>{const{initialValues:{id:t}={id:void 0},onBack:a,intl:r}=e,_=Object(S.useDispatch)(),p=Object(S.useSelector)(s.selectDefaultRadiusId),O=Object(S.useSelector)(d.selectDefaultUserGroupId),T=Object(S.useSelector)(c.selectHotspot2conf),M=Object(S.useSelector)(h.u),W=Object(S.useSelector)(o.selectLocalNetworks),P=Object(S.useSelector)(E.selectRadiusSettings),L=Object(S.useSelector)(s.selectRadiusProfiles),y=Object(S.useSelector)(u.selectWlanConfiguration)(t),v=Object(S.useSelector)(i.selectAPGroupsData),G=Object(S.useSelector)(i.selectDefaultAPGroup),j=Object(S.useSelector)(m.selectWifiNetworksData),w=j.find(({_id:e})=>e===t),x=Object(S.useSelector)(E.selectConnectivityMonitorEnabled),[V,k]=Object(n.useState)(!1),B=Object(S.useSelector)(u.selectWlanEnrichedConfiguration),U=Object(S.useSelector)(Ke.a),H=Object(S.useSelector)(E.selectConnectivityMonitorEnabled),$=Object(n.useMemo)(()=>Object(i.getInvalidApGroups)(v,y,j,x),[v,y,j,x]),Y=Object(n.useMemo)(()=>{var e,t,a,n;const l=null!==(e=null==w?void 0:w.minrate_ng_data_rate_kbps)&&void 0!==e?e:m.MIN_RATE_CONTROL.ng[0],r=(null==w?void 0:w.minrate_ng_beacon_rate_kbps)&&w.minrate_ng_beacon_rate_kbps!==l,c=null!==(t=null==w?void 0:w.minrate_na_data_rate_kbps)&&void 0!==t?t:m.MIN_RATE_CONTROL.na[0],_=(null==w?void 0:w.minrate_na_beacon_rate_kbps)&&w.minrate_na_beacon_rate_kbps!==c,s=(null==y?void 0:y.security)||m.WlanSecurityType.WPA_PERSONAL,E=(null==y?void 0:y.wpa3_support)?m.WpaMode.WPA3:(null==y?void 0:y.wpa_mode)||m.WpaMode.WPA2,d=(null==y?void 0:y.wpa3_transition)?m.WpaMode.WPA2_WPA3:E,u=s!==m.WlanSecurityType.WPA_ENTERPRISE&&s!==m.WlanSecurityType.WPA_PERSONAL?s:`${d}:${s}`;return{ap_group_ids:Object(i.canSelectDefaultApGroup)(G,v,w,j,x)?[G._id]:[],ccmpEncryption:Object(A.a)(y,"wpa_enc",m.WpaEnc.CCMP)===m.WpaEnc.CCMP,enabled:!0,fast_roaming_enabled:!1,hasInvalidApGroupsSelected:$.length>0,hide_ssid:!1,hotspot2conf_enabled:!1,hotspot2conf_id:Object(A.a)(T,"[0]._id",void 0),name:"",networkconf_id:Object(A.a)(y,"networkconf_id",null===(a=W.find(({attr_hidden_id:e})=>e===o.NetworkHiddenId.LAN))||void 0===a?void 0:a._id),passwordFilters:Object(A.a)(y,"passwordFilters",[]).map(e=>({id:g()(),...e})),pmf_mode:m.PmfMode.DISABLED,qosFairness:!1,radiusEnabled:!1,radiusprofile_id:Object(A.a)(y,"radiusprofile_id",Object(A.a)(y,"radius_profile_id",p)),radiusXSecret:"",securityProtocol:u,usergroup_id:O,wep_idx:1,wlan_band:m.WlanBand.BOTH,wpa_enc:m.WpaEnc.CCMP,x_passphrase:"",x_wep:"",wpa3_support:!1,wpa3_transition:!1,wpa3_fast_roaming:!1,wpa3_enhanced_192:!1,sae_anti_clogging:5,sae_sync:5,gtkEnabled:(null==w?void 0:w.group_rekey)>0,group_rekey:D.GTK_REKEY_DEFAULT_VALUE,uapsd_enabled:!1,mcastenhance_enabled:!1,no2ghz_oui:!1,bss_transition:!0,proxy_arp:!1,l2_isolation:!1,b_supported:!1,dtim_mode:(null==w?void 0:w.dtim_mode)||m.DtimMode.DEFAULT,dtim_ng:m.MINRATE_SETTINGS.DEFAULT,dtim_na:m.MINRATE_SETTINGS.DEFAULT,minrate_ng_enabled:!1,minrate_ng_data_rate_kbps:l,minrate_ng_cck_rates_enabled:!0,minRateNgCckRatesDisabled:!(null===(n=null==w?void 0:w.minrate_ng_cck_rates_enabled)||void 0===n||n),minrate_ng_advertising_rates:!1,minrateBeacon_ng:r,minrate_na_enabled:!1,minrate_na_data_rate_kbps:c,minrate_na_advertising_rates:!1,minrateBeacon_na:_,mac_filter_enabled:!1,mac_filter_policy:m.MacFilterPolicy.ALLOW,mac_filter_list:[],radius_mac_auth_enabled:!1,radius_macacl_format:Ce[0].value,radiusProfiles:L,radiusSettings:P,...w,...y,security:s,wpa_mode:E}},[v,$.length,x,j,p,O,T,W,y,G,w,L,P]),X=Object(b.m)({component:l.a.createElement(I.c,{id:"SETTINGS_WIFI_FORM_TITLE_CREATE"}),message:"wi-fi-create"},"wi-fi-edit-view",y?y.name:void 0),z=Object(n.useCallback)(Object(f.c)(e)(async e=>{const{ccmpEncryption:t,radiusEnabled:a,radiusXSecret:n,securityProtocol:l,gtkEnabled:r,minRateNgCckRatesDisabled:i,...c}=e;return delete c.passwordFilters,delete c.qosFairness,c.schedule&&c.schedule.length>0?c.schedule_enabled=!0:c.schedule&&0===c.schedule.length&&(c.schedule_enabled=!1),c.security!==m.WlanSecurityType.WPA_ENTERPRISE&&c.security!==m.WlanSecurityType.WPA_PERSONAL&&(delete c.wpa_enc,delete c.wpa_mode),c.security!==m.WlanSecurityType.HOTSPOT_2_OSEN&&(delete c.hotspot2conf_enabled,delete c.hotspot2conf_id),c.security!==m.WlanSecurityType.WPA_PERSONAL&&delete c.x_passphrase,c.security!==m.WlanSecurityType.WEP&&(delete c.wep_idx,delete c.x_wep),c.wpa3_support?(c.wpa_mode!==m.WpaMode.WPA2&&(c.wpa_mode=m.WpaMode.WPA2),c.wpa_enc===m.WpaEnc.NONE&&(c.wpa_enc=m.WpaEnc.CCMP),c.security===m.WlanSecurityType.WPA_ENTERPRISE?c.wpa3_enhanced_192&&(c.wpa_enc=m.WpaEnc.GCMP256,c.pmf_cipher=m.PmfCipher.BIPGMAC256,c.fast_roaming_enabled=!1):delete c.wpa3_enhanced_192):(delete c.sae_anti_clogging,delete c.sae_sync),a&&await _(Object(E.saveSettings)({...P,configure_whole_network:!0,enabled:!0,x_secret:n})),[m.WlanSecurityType.WPA_ENTERPRISE,m.WlanSecurityType.WPA_PERSONAL,m.WlanSecurityType.HOTSPOT_2_OSEN].includes(c.security)?r||(c.group_rekey=0):delete c.group_rekey,[m.WlanSecurityType.OPEN,m.WlanSecurityType.WEP].includes(e.security)&&(c.fast_roaming_enabled=!1),c.dtim_mode===m.DtimMode.DEFAULT&&(delete c.dtim_na,delete c.dtim_ng),c.minrate_ng_cck_rates_enabled=!i,c.minrate_ng_mgmt_rate_kbps=c.minrate_ng_data_rate_kbps,c.minrate_ng_beacon_rate_kbps=c.minrateBeacon_ng?m.MIN_RATE_CONTROL.ng[0]:c.minrate_ng_data_rate_kbps,m.MIN_RATE_CONTROL.ng[0]===c.minrate_ng_data_rate_kbps&&c.minrate_ng_cck_rates_enabled&&(c.minrate_ng_advertising_rates=!1),c.minrate_na_mgmt_rate_kbps=c.minrate_na_data_rate_kbps,c.minrate_na_beacon_rate_kbps=c.minrateBeacon_na?m.MIN_RATE_CONTROL.na[0]:c.minrate_na_data_rate_kbps,m.MIN_RATE_CONTROL.na[0]===c.minrate_na_data_rate_kbps&&(c.minrate_na_advertising_rates=!1),[m.WlanSecurityType.WPA_ENTERPRISE,m.WlanSecurityType.OPEN].includes(c.security)||c.radius_mac_auth_enabled||(delete c.radiusprofile_id,c.radius_das_enabled=!1),y?await _(Object(m.updateWifiNetwork)(c._id,Object(m.sanitizeWiFiModelValues)(c),c.name)):await _(Object(m.createWifiNetwork)(Object(m.sanitizeWiFiModelValues)(c))),_(Object(u.fetchWlanEnrichedConfiguration)())}),[_,P,y]),K=Object(n.useCallback)(()=>{_(Object(C.b)({name:null==y?void 0:y.name,onConfirm:()=>{k(!0),_(Object(m.deleteWifiNetwork)(null==y?void 0:y._id,null==y?void 0:y.name)).then(()=>{_(Object(u.fetchWlanEnrichedConfiguration)()),a()}).catch(()=>k(!1))}}))},[_,a,null==y?void 0:y._id,null==y?void 0:y.name]),q=Object(n.useCallback)(()=>{const e=B.find(e=>e.configuration._id===(null==y?void 0:y._id)),t=B.map(({configuration:{name:e}})=>e),n=Object(ze.a)(r,t,null==y?void 0:y.name),l=Object(m.prepareAdvancedWifiPacket)({...e.configuration,name:n});_(Object(m.prepareCreateWifiNetwork)(l)).then(()=>{_(Object(u.fetchWlanEnrichedConfiguration)()),a()})},[_,a,null==y?void 0:y._id,null==y?void 0:y.name,B]),[Q,Z,J]=Object(n.useMemo)(()=>{const e=B.find(e=>e.configuration._id===(null==y?void 0:y._id)),t=U(null==e?void 0:e.configuration);let a=N.a;e&&(a=t?n.Fragment:N.a);return[t,a,t?void 0:{message:l.a.createElement(I.c,{id:H?"SETTINGS_WIFI_BUTTON_TOOLTIP_MAX_WIFI_CONN_MONITOR":"SETTINGS_WIFI_BUTTON_TOOLTIP_MAX_WIFI"}),width:220,portal:!0}]},[U,H,null==y?void 0:y._id,B]);return l.a.createElement(F.b,{goBack:a,unsavedChangesModalIgnoredPaths:[/wifi\/network\/form(\/([\w-_]+)){2,3}$/],initialValues:Y,isEdit:!M,isView:M,showBack:!0,title:X,validationSchema:Le(Y,W),onEscClicked:a,onSubmit:z,enableReinitialize:!0,submitText:(null==Y?void 0:Y._id)?"COMMON_ACTION_APPLY_CHANGES":"SETTINGS_WIFI_FORM_ADD",footerActiveOverride:!!(null==Y?void 0:Y._id),customFooterButtons:e=>(null==Y?void 0:Y._id)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Z,Object.assign({},J),l.a.createElement(R.a,{disabled:V||e||!Q,type:"button",variant:"default",onClick:q},l.a.createElement(I.c,{id:"SETTINGS_WIFI_TABLE_ACTION_DUPLICATE"}))),l.a.createElement(R.a,{disabled:V||e,type:"button",variant:"default",onClick:K},l.a.createElement(I.c,{id:"COMMON_ACTION_REMOVE"})))},l.a.createElement(Xe,null))});t.default=()=>{const{networkId:e}=Object(r.m)(),t=Object(b.g)();return Object(b.e)([Object(u.fetchWlanEnrichedConfiguration)(void 0,{crudCacheStrategy:{type:O.a.CACHE}}),Object(m.fetchWifiNetworks)(void 0,{crudCacheStrategy:{type:O.a.CACHE}}),Object(c.fetchHotspot2conf)(void 0,{crudCacheStrategy:{type:O.a.CACHE}}),Object(o.fetchNetworks)(void 0,{crudCacheStrategy:{type:O.a.CACHE}}),Object(s.fetchRadiusProfiles)(void 0,{crudCacheStrategy:{type:O.a.CACHE}}),Object(E.fetchSettings)({type:O.a.CACHE}),Object(d.fetchUserGroups)(void 0,{crudCacheStrategy:{type:O.a.CACHE}}),Object(_.fetchDevices)(void 0,{crudCacheStrategy:{type:O.a.CACHE}}),Object(i.fetchAPGroups)(void 0,{crudCacheStrategy:{type:O.a.CACHE}}),Object(p.fetchWlanCapabilities)({crudCacheStrategy:{type:O.a.CACHE}})],l.a.createElement(qe,{initialValues:{id:e},onBack:t}))}},1939:function(e,t,a){"use strict";var n=a(0),l=a(31);t.a=()=>{const e=Object(l.l)(),[t]=Object(n.useState)(e.pathname),[a,r]=Object(n.useState)(!1),i=Object(n.useRef)();return Object(n.useEffect)(()=>{r(!1);const a=/^(.*)\/[a-z0-9]*/i.exec(t),n=/^(.*)\/[a-z0-9]*/i.exec(e.pathname);return a[0].length===n[0].length&&a[1]===n[1]&&(i.current=setTimeout(()=>r(!0),500)),()=>clearTimeout(i.current)},[e.pathname,t]),a}},1945:function(e,t,a){"use strict";a.d(t,"b",(function(){return G})),a.d(t,"a",(function(){return f}));var n=a(0),l=a.n(n),r=a(5),i=a(4),c=a(45),_=a(1973),o=a(1974),s=a(1948),E=a(799),d=a(95),m=a(1952),u=a(23),p=a(49),b=a(40),O=a(1848),I=a(793),S=a(1939);const A=r.a`
  &-appear,
  &-enter {
    opacity: 0;
    transform: translateX(15px);
  }
  &-appear-active,
  &-enter-active,
  &-appear-done,
  &-enter-done {
    opacity: 1;
    transform: translateX(0);
    transition: opacity 150ms cubic-bezier(0.25, 0.1, 0.25, 1) 130ms,
      transform 300ms cubic-bezier(0.25, 0.1, 0.25, 1.4) 130ms;
  }
  &-exit {
    opacity: 1;
    transform: translateX(0);
  }
  &-exit-active,
  &-exit-done {
    opacity: 0;
    transform: translateX(15px);
    transition: opacity 100ms linear, transform 100ms linear;
  }
`;var T=({timeout:e={enter:300,exit:100},in:t,children:a,ignoredPaths:r,...i})=>{const c=Object(S.a)(),_=Object(I.a)(r),o=Object(n.useMemo)(()=>l.a.Children.map(a,a=>null===a?a:l.a.createElement(O.a,Object.assign({appear:t||!_||c,in:t||!_||c,timeout:e,classNames:A,mountOnEnter:!0},i),a)),[a,t,_,c,e,i]);return l.a.createElement(l.a.Fragment,null,o)};const g=r.a`
  &-appear,
  &-enter {
    border-bottom: transparent !important;
  }
  &-appear-active,
  &-enter-active,
  &-appear-done,
  &-enter-done {
    transition: border-bottom 150ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }
  &-exit {
    opacity: 1;
  }
  &-exit-active,
  &-exit-done {
    opacity: 0;
    transition: opacity 100ms linear;
  }
`;var N=({timeout:e={enter:150,exit:100},in:t,children:a,ignoredPaths:r,...i})=>{const c=Object(S.a)(),_=Object(I.a)(r),o=Object(n.useMemo)(()=>l.a.Children.map(a,a=>null===a?a:l.a.createElement(O.a,Object.assign({appear:t||!_||c,in:t||!_||c,timeout:e,classNames:g,mountOnEnter:!0},i),a)),[a,t,_,c,e,i]);return l.a.createElement(l.a.Fragment,null,o)};const R=Object(r.c)(d.g)`
  > * {
    /* Use margin on child rather than padding on self not to occupy space when no button is shown */
    margin-left: ${({theme:e})=>e.spacing["spacing-xxl"]};
    margin-right: ${({theme:e})=>e.spacing["spacing-xxl"]};
  }
`,h=Object(r.c)(d.g)`
  border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui03};
`,F=Object(r.c)("h1")`
  font-size: 16px;
  font-weight: normal;
`,C=Object(r.c)(d.c)`
  padding: ${({theme:e})=>e.spacing["spacing-s"]};
`,D=Object(r.c)(p.a)`
  color: ${({theme:e})=>e.motifPalette.text01} !important;
  font-size: 16px !important;
`;var f=({title:e,showBack:t,goBack:a,onEscClicked:n,hideClose:r,ignoredPaths:i})=>{const{motif:c}=Object(b.a)();return l.a.createElement(N,{ignoredPaths:i},l.a.createElement(h,{flex:"none",height:"65px"},l.a.createElement(T,{ignoredPaths:i},l.a.createElement(d.g,{alignItems:"center",flex:"1",justifyContent:"space-between"},l.a.createElement(R,{alignItems:"center",flex:"1",height:"100%"},t&&l.a.createElement(C,{legacy:!1,name:"backButton",type:"button",onClick:a,motif:c},l.a.createElement(u.g,null))),l.a.createElement(F,null,l.a.createElement(D,{weight:"bold"},e.component)),l.a.createElement(R,{alignItems:"center",flex:"1",height:"100%",justifyContent:"flex-end"},!r&&l.a.createElement(C,{legacy:!1,name:"closeButton",type:"button",onClick:n},l.a.createElement(u.A,null)))))))};const M=Object(r.c)(d.g)`
  width: 100%;
  max-width: ${E.a};
  margin: 0 auto;
  padding: ${({theme:e})=>e.spacing["spacing-xxxxl"]}
    ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px;
`,W=Object(r.c)("form")`
  display: flex;
  flex: 1;
  overflow: hidden;
  width: 100%;
  height: 100%;
`,P=Object(r.c)(d.g)`
  @media (max-width: 1010px) {
    flex-direction: column;
  }
`,L=Object(r.c)(_.a)`
  > :first-child {
    max-width: ${E.a};
    padding-left: ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px !important;
    padding-right: ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px !important;
    position: relative;
    margin: 0 auto;
  }
`,y=Object(r.c)(d.h)`
  background: transparent;
  overflow: scroll !important;
  margin-right: -${({theme:e})=>e.scrollBarWidth}px;
`,v=Object(r.c)(d.k)`
  height: 100%;
  width: 100%;
`;var G=({children:e,disableUnsavedChangesModal:t,goBack:a,hideClose:n,isEdit:r,isView:_,showBack:E,title:u,unsavedChangesModalIgnoredPaths:p,onEscClicked:b,submitText:O="COMMON_ACTION_APPLY_CHANGES",footerActiveOverride:I=!1,customFooterButtons:S,...A})=>l.a.createElement(c.c,Object.assign({enableReinitialize:!0},A),({dirty:r,handleReset:c,handleSubmit:A,isSubmitting:T})=>l.a.createElement(W,{autoComplete:"off",onSubmit:A},l.a.createElement(v,{vertical:!0},l.a.createElement(f,{goBack:a,hideClose:n,showBack:E,title:u,onEscClicked:b,ignoredPaths:p}),l.a.createElement(m.a,{ignoredPaths:p},l.a.createElement(y,{flex:"1"},l.a.createElement(M,{flex:"none",flexDirection:"column"},e))),!t&&!_&&l.a.createElement(s.a,{ignoredPaths:p,when:r&&!T}),(!_||I)&&l.a.createElement(L,{active:r||I},l.a.createElement(d.g,{justifyContent:S?"space-between":"flex-end",width:"100%",alignItems:"center"},S&&l.a.createElement(P,null,S(T)),!_&&l.a.createElement(d.g,null,l.a.createElement(o.a,{disabled:!r||T,type:"button",variant:"default",onClick:c},l.a.createElement(i.c,{id:"COMMON_ACTION_CANCEL"})),l.a.createElement(o.a,{disabled:!r||T,type:"submit",variant:"primary"},l.a.createElement(i.c,{id:O}))))))))},1946:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return r})),a.d(t,"m",(function(){return d})),a.d(t,"k",(function(){return m})),a.d(t,"h",(function(){return u})),a.d(t,"g",(function(){return p})),a.d(t,"j",(function(){return b})),a.d(t,"f",(function(){return O})),a.d(t,"i",(function(){return I})),a.d(t,"l",(function(){return S})),a.d(t,"d",(function(){return T})),a.d(t,"e",(function(){return g})),a.d(t,"n",(function(){return R})),a.d(t,"o",(function(){return h})),a.d(t,"c",(function(){return F})),a.d(t,"p",(function(){return D})),a.d(t,"q",(function(){return f}));var n=a(112);const l=e=>(t,a,l,r)=>Object(n.d)(e(l,t),e(r,a)),r=e=>t=>{const a=(e=>t=>e.formatMessage({id:t}))(e);return(e,n,l,r)=>{const[i,c]=[t(e,l),t(n,r)].map(a);return i.localeCompare(c)}};var i=a(16),c=a(133),_=a(6),o=a(138),s=a(76);const E={ugw:1,usw:2,uap:3},d=(e,t,a,l)=>{const r=_.DEVICE_STATE_IMPORTANCE[Object(_.getDeviceState)(a)],i=_.DEVICE_STATE_IMPORTANCE[Object(_.getDeviceState)(l)];if(r===i){if(a.adopted===l.adopted){if(a.type!==l.type)return((e,t)=>{const a=e.type,l=t.type;return a===l?Object(n.d)(Object(s.a)(e),Object(s.a)(t)):Object(n.d)(E[a],E[l])})(a,l);const e=a.originalName,t=l.originalName;return e&&t?Object(n.d)(e,t):e?-1:t?1:Object(n.d)(a.modelName,l.modelName)}return Object(n.d)(a.adopted?1:2,l.adopted?1:2)}return Object(n.d)(r,i)},m=(e,t,a,l)=>Object(n.d)(Object(s.a)(a),Object(s.a)(l)),u=(e,t,a,l)=>{const r=Object(o.d)(Object(_.getDeviceIp)(a))||0,i=Object(o.d)(Object(_.getDeviceIp)(l))||0;return Object(n.d)(r,i)},p=(e,t,a,l)=>{const{averageSatisfaction:r}=a.satisfactionByRadio,{averageSatisfaction:i}=l.satisfactionByRadio;let c=Object(_.getDeviceExperience)(a),o=Object(_.getDeviceExperience)(l);return a.type===_.DeviceType.AP&&r<0&&(c=-.5),l.type===_.DeviceType.AP&&i<0&&(o=-.5),Object(n.d)(c,o)},b=(e,t,a,l)=>{const r=Object(_.getDeviceMemoryUsage)(a)||0,i=Object(_.getDeviceMemoryUsage)(l)||0;return Object(n.d)(r,i)},O=(e,t,a,l)=>{const r=parseFloat(Object(i.a)(a,"system-stats.cpu",0)),c=parseFloat(Object(i.a)(l,"system-stats.cpu",0));return Object(n.d)(r,c)},I=(e,t,a,l)=>{const r=parseFloat(Object(i.a)(a,"sys_stats.loadavg_1",-1)),c=parseFloat(Object(i.a)(l,"sys_stats.loadavg_1",-1));return Object(n.d)(r,c)},S=(e,t,a)=>{const l=Object(_.getRadioByType)(e,a),r=Object(_.getRadioByType)(t,a),i=l?Object(_.getRadioStatsByName)(e,l.name):null,c=r?Object(_.getRadioStatsByName)(t,r.name):null;if(l&&r&&i&&c){let a,o;const s=(e,t)=>e&&t?Object(n.d)(e,t):(e?-1:t&&1)||0;return a=("auto"===l.channel?0:l.channel)||0,o=("auto"===r.channel?0:r.channel)||0,s(a,o)?s(a,o):(a=Object(_.getRadioStatsBindedChannel)(e,i)||l.channel||0,o=Object(_.getRadioStatsBindedChannel)(t,c)||r.channel||0,s(a,o)?s(a,o):(a=parseInt(Object(_.getRadioHt)(l),10),o=parseInt(Object(_.getRadioHt)(r),10),s(a,o)?s(a,o):(a=Object(_.getRadioStatsPrimaryChannel)(i)||l.channel||0,o=Object(_.getRadioStatsPrimaryChannel)(c)||l.channel||0,s(a,o)?s(a,o):(a=Object(_.getRadioStatsTransmitPower)(i),o=Object(_.getRadioStatsTransmitPower)(c),s(a,o)?s(a,o):0))))}if(l&&r){if(i)return 1;if(c)return-1}return l?1:r?-1:0},A=(e,t)=>{if(!e.radio_table_stats)return-1;return Object(_.getRadioStatsByType)(e,t).reduce((e,t)=>e+t.num_sta||0,0)},T=(e,t,a,l)=>{const r=A(a,c.b.NG),i=A(l,c.b.NG);return Object(n.d)(r,i)},g=(e,t,a,l)=>{const r=A(a,c.b.NA),i=A(l,c.b.NA);return Object(n.d)(r,i)},N=(e,t)=>{const a=Object(_.getRadioStatsByType)(e,t);return a.length?a.reduce((e,t)=>e+(t.ast_be_xmit||0)+(t.tx_packets||0),0):-1},R=(e,t,a,l)=>{const r=N(a,c.b.NG),i=N(l,c.b.NG);return Object(n.d)(r,i)},h=(e,t,a,l)=>{const r=N(a,c.b.NA),i=N(l,c.b.NA);return Object(n.d)(r,i)},F=(e,t,a,l)=>{const r=Object(_.getChannelValue)(a),i=Object(_.getChannelValue)(l);return Object(n.d)(r,i)},C=(e,t)=>Object(_.getRadioStatsByType)(e,t).reduce((e,t)=>e+t.cu_total||0,0),D=(e,t,a,l)=>{const r=C(a,c.b.NG),i=C(l,c.b.NG);return Object(n.d)(r,i)},f=(e,t,a,l)=>{const r=C(a,c.b.NA),i=C(l,c.b.NA);return Object(n.d)(r,i)}},1952:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(1848),i=a(5),c=a(793),_=a(1939);const o=i.a`
  &-appear,
  &-enter {
    opacity: 0;
    transform: translateX(60px);
  }
  &-appear-active,
  &-enter-active {
    opacity: 1;
    transform: translateX(0);
    transition: opacity 150ms cubic-bezier(0.25, 0.1, 0.25, 1), transform 300ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }
  &-exit {
    opacity: 1;
    transform: translateX(0);
  }
  &-exit-active,
  &-exit-done {
    opacity: 0;
    transform: translateX(60px);
    transition: opacity 100ms cubic-bezier(0.25, 0.1, 0.25, 1), transform 100ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }
`;t.a=({timeout:e={enter:300,exit:100},in:t,ignoredPaths:a,children:i,...s})=>{const E=Object(_.a)(),d=Object(c.a)(a),m=Object(n.useMemo)(()=>l.a.Children.map(i,a=>null===a?a:l.a.createElement(r.a,Object.assign({appear:t||!d||E,in:t||!d||E,timeout:e,classNames:o,mountOnEnter:!0},s),a)),[i,t,d,E,e,s]);return l.a.createElement(l.a.Fragment,null,m)}},1982:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return _}));var n=a(18),l=function(e,t){var a=t.successMessage,n=t.failureMessage;if((a||n)&&!e.createToast)throw new Error("formSubmit util requires createToast action as a prop. Please add it to mapDispatchToProps")},r=function(e){return function(t){return function(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(i,c){var _=c.props||t;l(_,r);var o=_.createToast,s="function"==typeof r?r(i):r,E=s.msgValues,d=s.successMessage,m=s.failureMessage;a(i,_,c).then((function(){return d&&o({icon:n.a.success,message:d,values:E}),e(c,t)})).catch((function(e){m&&o({icon:n.a.danger,message:m,values:E,errorMessage:e.msg,errorValues:e}),c.setSubmitting(!1)}))}}}},i=r((function(e){return e.setStatus({isSubmitted:!0})}))(),c=r((function(e){return e.setStatus({isSubmitted:!0})})),_=(r((function(e){return e.props.onClose()}))(),r((function(e,t){return t.onBack()})))},2064:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),l=a.n(n),r=a(5),i=a(1796),c=a(49),_=a(625),o=a(95);const s=100,E=Object(r.c)(o.g)`
  max-width: ${s}px;
`,d=Object(r.c)(i.a)`
  > div > div > div {
    width: max-content !important;
    max-width: 250px;
    height: ${({apCount:e})=>`calc(24px + ${16*e}px)`};
    max-height: 88px;
  }
`,m=Object(r.c)("div")`
  height: 100%;
  overflow-y: scroll;
  overflow-x: hidden;
`,u=Object(r.c)(c.a)`
  display: block;
  width: 100%;
  line-height: 1.33333;
`;t.b=({apGroups:e})=>{const t=Object(n.useMemo)(()=>e.map(({name:e})=>e),[e]),a=Object(n.useMemo)(()=>t.map(e=>l.a.createElement(u,{truncate:!0,color:"primary"},e)),[t]);return l.a.createElement(_.a,{openOnMouseEnter:!0,align:"topCenter",toggleOffset:-10,renderToggle:()=>l.a.createElement(E,null,l.a.createElement(c.a,{truncate:!0,color:"tertiary"},t.join(", "))),renderCard:({open:e})=>e&&t.length>1&&l.a.createElement(d,{apCount:t.length,message:l.a.createElement(m,null,a)})})}},2187:function(e,t,a){"use strict";a.d(t,"b",(function(){return N})),a.d(t,"a",(function(){return R})),a.d(t,"c",(function(){return F}));var n=a(42);const l=({auth:e,facebook_enabled:t,gateway:a,password_enabled:l,payment_enabled:r,radius_enabled:i,voucher_enabled:c,wechat_enabled:_},o)=>{switch(e){case n.HotspotAuth.EXTERNAL:return o.formatMessage({id:"SETTINGS_HOTSPOT_GENERAL_AUTH_OPTION_EXTERNAL"});case n.HotspotAuth.FACEBOOK_WIFI:return o.formatMessage({id:"SETTINGS_HOTSPOT_GENERAL_AUTH_OPTION_FACEBOOK_WIFI"});case n.HotspotAuth.HOTSPOT:{const e=[];if(t&&e.push("SETTINGS_HOTSPOT_FORM_AUTH_OPTIONS_FACEBOOK"),l&&e.push("SETTINGS_HOTSPOT_FORM_AUTH_OPTIONS_PASSWORD"),r)switch(a){case n.PaymentGateway.AUTHORIZE:e.push("SETTINGS_HOTSPOT_PAYMENTS_GATEWAY_AUTHORIZE_SHORT");break;case n.PaymentGateway.IPPAY:e.push("SETTINGS_HOTSPOT_PAYMENTS_GATEWAY_IPPAY_SHORT");break;case n.PaymentGateway.MERCHANT_WARRIOR:e.push("SETTINGS_HOTSPOT_PAYMENTS_GATEWAY_MERCHANT_WARRIOR_SHORT");break;case n.PaymentGateway.PAYPAL:e.push("SETTINGS_HOTSPOT_PAYMENTS_GATEWAY_PAYPAL_SHORT");break;case n.PaymentGateway.QUICKPAY:e.push("SETTINGS_HOTSPOT_PAYMENTS_GATEWAY_QUICKPAY_SHORT");break;case n.PaymentGateway.STRIPE:e.push("SETTINGS_HOTSPOT_PAYMENTS_GATEWAY_STRIPE_SHORT")}return i&&e.push("SETTINGS_HOTSPOT_FORM_AUTH_OPTIONS_RADIUS"),c&&e.push("SETTINGS_HOTSPOT_FORM_AUTH_OPTIONS_VOUCHER"),_&&e.push("SETTINGS_HOTSPOT_FORM_AUTH_OPTIONS_WE_CHAT"),e.map(e=>o.formatMessage({id:e})).join(", ")}case n.HotspotAuth.NONE:default:return o.formatMessage({id:"SETTINGS_HOTSPOT_GENERAL_AUTH_OPTION_NONE"})}};var r=a(0),i=a.n(r),c=a(5),_=a(4),o=a(44),s=a(1199),E=a(49),d=a(1858),m=a(824),u=a(41),p=a(465),b=a(36),O=a(1950),I=a(95),S=a(1946),A=a(464),T=a(2064);const g=Object(c.c)(s.a)`
  margin-right: ${u.a["spacing-s"]};
`,N=Object(o.a)(e=>[{compare:Object(S.a)(({configuration:{name:e}})=>e),id:"wi-fi-hotspots-table-name",label:i.a.createElement(_.c,{id:"SETTINGS_WIFI_TABLE_HEADER_NAME"}),renderCell:({configuration:{enabled:e,name:t}})=>i.a.createElement(i.a.Fragment,null,i.a.createElement(g,{variant:e?"success":"neutral"}),i.a.createElement(E.a,{truncate:!0,color:"tertiary"},t)),sortable:!0,minWidth:100},{compare:Object(S.a)(({network:e})=>null==e?void 0:e.name),id:"wi-fi-hotspots-table-network",label:i.a.createElement(_.c,{id:"SETTINGS_WIFI_TABLE_HEADER_NETWORK"}),renderCell:({network:e})=>i.a.createElement(E.a,{color:"secondary",truncate:!0},null==e?void 0:e.name),sortable:!0,minWidth:100},{compare:Object(S.a)(({apGroups:e})=>null==e?void 0:e.length),id:"wi-fi-hotspots-table-ap-group-names",label:i.a.createElement(_.c,{id:"SETTINGS_WIFI_TABLE_HEADER_AP_GROUPS"}),renderCell:({apGroups:e})=>i.a.createElement(T.b,{apGroups:e}),sortable:!0,minWidth:T.a},{compare:Object(S.a)(({statistics:{current_client_count:e}})=>e),id:"wi-fi-hotspots-table-current-client-count",label:i.a.createElement(_.c,{id:"SETTINGS_WIFI_TABLE_HEADER_CLIENTS"}),renderCell:({statistics:{current_client_count:e,peak_client_count:t}})=>i.a.createElement(E.a,{color:"tertiary"},`${e} (${t})`),sortable:!0,minWidth:115},{compare:Object(S.a)(t=>(null==t?void 0:t.hotspot)?l(t.hotspot,e):null),id:"wi-fi-hotspots-table-authentication-type",label:i.a.createElement(_.c,{id:"SETTINGS_WIFI_TABLE_HEADER_SECURITY"}),renderCell:t=>(null==t?void 0:t.hotspot)?i.a.createElement(E.a,{color:"secondary",truncate:!0},l(t.hotspot,e)):null,sortable:!0,minWidth:135},{compare:Object(S.a)(({statistics:{current_satisfaction:e}})=>e),id:"wi-fi-hotspots-table-wi-fi-current-satisfaction",label:i.a.createElement(_.c,{id:"SETTINGS_WIFI_TABLE_HEADER_CURRENT_SATISFACTION"}),renderCell:({statistics:{current_satisfaction:e}})=>i.a.createElement(E.a,{color:"tertiary"},!e||e<0?i.a.createElement(_.c,{id:"COMMON_NA"}):i.a.createElement(d.a,{type:"percent",input:e/100,style:{color:m.a.getGradientColor(e/100)}})),sortable:!0,minWidth:120}]),R=(Object(o.a)((e,t,a,n)=>({_id:l,configuration:c})=>{const[o,s]=Object(r.useState)(!1);return i.a.createElement(O.h,null,i.a.createElement(I.b,null,!!a&&i.a.createElement(I.c,{legacy:!1,name:"wi-fi-hotspot-manager",size:"small",type:"button",variant:"inline",href:a,target:"_blank"},i.a.createElement(_.c,{id:"SETTINGS_HOTSPOT_FORM_OPEN_HOTSPOT_MANAGER"})),i.a.createElement(I.c,{disabled:o,legacy:!1,name:"wi-fi-hotspot-edit",size:"small",type:"button",variant:"inline",onClick:()=>e(l)},i.a.createElement(_.c,{id:"COMMON_ACTION_EDIT"})),i.a.createElement(I.c,{disabled:o,legacy:!1,name:"wi-fi-network-remove",size:"small",type:"button",variant:"inline",onClick:()=>t(Object(A.b)({name:c.name,onConfirm:()=>{s(!0),t(Object(b.deleteWifiNetwork)(c._id,c.name)).then(()=>{t(Object(p.fetchWlanEnrichedConfiguration)()),n()}).catch(()=>s(!1))}}))},i.a.createElement(_.c,{id:"COMMON_ACTION_REMOVE"}))),i.a.createElement(I.m,null,i.a.createElement(I.c,{legacy:!1,name:"wi-fi-network-view",size:"small",type:"button",variant:"inline",onClick:()=>e(l)},i.a.createElement(_.c,{id:"COMMON_ACTION_VIEW"}))))}),(e,t,a)=>{let n=1,l="";for(;!l||t.includes(l);)l=e.formatMessage({id:"SETTINGS_WIFI_DUPLICATE_NAME"},{name:a,number:n}),n+=1;return l}),h=Object(c.c)(s.a)`
  margin-right: ${u.a["spacing-s"]};
`,F=Object(o.a)(e=>{const t=Object(S.b)(e);return[{compare:Object(S.a)(({configuration:{name:e}})=>e),id:"wi-fi-networks-table-name",label:i.a.createElement(_.c,{id:"SETTINGS_WIFI_TABLE_HEADER_NAME"}),renderCell:({configuration:{enabled:e,name:t}})=>i.a.createElement(i.a.Fragment,null,i.a.createElement(h,{variant:e?"success":"neutral"}),i.a.createElement(E.a,{truncate:!0,color:"tertiary"},t)),sortable:!0,minWidth:100},{compare:Object(S.a)(({network:e})=>null==e?void 0:e.name),id:"wi-fi-networks-table-network",label:i.a.createElement(_.c,{id:"SETTINGS_WIFI_TABLE_HEADER_NETWORK"}),renderCell:({network:e})=>i.a.createElement(E.a,{color:"secondary",truncate:!0},null==e?void 0:e.name),sortable:!0,minWidth:100},{compare:Object(S.a)(({apGroups:e})=>null==e?void 0:e.length),id:"wi-fi-networks-table-ap-group-names",label:i.a.createElement(_.c,{id:"SETTINGS_WIFI_TABLE_HEADER_AP_GROUPS"}),renderCell:({apGroups:e})=>i.a.createElement(T.b,{apGroups:e}),sortable:!0,minWidth:T.a},{compare:Object(S.a)(({statistics:{current_client_count:e}})=>e),id:"wi-fi-networks-table-current-client-count",label:i.a.createElement(_.c,{id:"SETTINGS_WIFI_TABLE_HEADER_CLIENTS"}),renderCell:({statistics:{current_client_count:e,peak_client_count:t}})=>i.a.createElement(E.a,{color:"tertiary"},`${e} (${Math.max(e,t)})`),sortable:!0,minWidth:115},{compare:t((e,{security:t})=>Object(b.getWlanSecurityTypeTranslationKey)(t)),id:"wi-fi-networks-table-security",label:i.a.createElement(_.c,{id:"SETTINGS_WIFI_TABLE_HEADER_SECURITY"}),renderCell:({configuration:{security:e}})=>i.a.createElement(E.a,{truncate:!0,color:"tertiary"},i.a.createElement(_.c,{id:Object(b.getWlanSecurityTypeTranslationKey)(e)})),sortable:!0,minWidth:135},{compare:Object(S.a)(({statistics:{current_satisfaction:e}})=>e),id:"wi-fi-networks-table-wi-fi-current-satisfaction",label:i.a.createElement(_.c,{id:"SETTINGS_WIFI_TABLE_HEADER_CURRENT_SATISFACTION"}),renderCell:({statistics:{current_satisfaction:e}})=>i.a.createElement(E.a,{color:"tertiary"},!e||e<0?i.a.createElement(_.c,{id:"COMMON_NA"}):i.a.createElement(d.a,{type:"percent",input:e/100,style:{color:m.a.getGradientColor(e/100)}})),sortable:!0,minWidth:120}]})},2189:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return c.b})),a.d(t,"a",(function(){return c.a}));var n=a(3),l=a(42),r=a(465);const i=Object(n.a)(l.selectHotspotSettings,r.selectWlanEnrichedConfiguration,(e,t)=>void 0!==e.portal_enabled&&null!==e.portal_enabled||t.length>0);Object(n.a)(l.selectHotspotSettings,e=>void 0===e.portal_enabled),Object(n.a)(l.selectHotspotSettings,e=>[e]);var c=a(743)},2200:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(2),l=a(2260);const r=(e={})=>Object(n.q)(l.a,l.b,l.c,{},{idField:l.c,...e})},2201:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(5),i=a(4),c=a(8),_=a(759),o=a(16),s=a(45),E=a(49),d=a(824),m=a(2092),u=a(2885),p=a(2906),b=a(13),O=a(95),I=a(64);const S=Object(r.c)("div")`
  margin-top: ${({theme:e})=>e.spacing["spacing-s"]};
  width: 100%;
  margin-left: -16px;
`,A=Object(r.c)("div")`
  background-color: ${({theme:e})=>e.motifPalette.ui03};
  height: 1px;
  margin: ${({theme:{spacing:{"spacing-xxxxl":e}}})=>`${e} -${e} ${e}`};
  width: calc(100% + 64px);
`,T=Object(r.c)("div")`
  position: relative;
  margin-top: -2px;
  margin-left: -6px;
  margin-right: -6px;
  font-size: 10px;
  line-height: 12px;
  overflow: hidden;
`,g=Object(r.c)(E.a)`
  width: 100%;
`,N=d.a.getDiscreteColorScaler(8);t.a=Object(i.f)(({intl:e,fieldName:t="schedule_with_duration"})=>{const{use24HourTime:a}=Object(c.useSelector)(b.M),r=Object(n.useRef)(null),d=Object(I.o)(r),{setFieldValue:R,values:h}=Object(s.e)(),F=Object(n.useCallback)(e=>R(t,(e=>{if(e)return e.map(({name:e,startDaysOfWeek:t,startHour:a,startMinute:n,durationMinutes:l})=>({name:e,start_days_of_week:t,start_hour:a,start_minute:n,duration_minutes:l}))})(e)),[t,R]),C=(e=>{if(e)return e.map(({name:e,start_days_of_week:t,start_hour:a,start_minute:n,duration_minutes:l},r)=>({id:r,name:e,startDaysOfWeek:t,startHour:a,startMinute:n,durationMinutes:l}))})(Object(o.a)(h,t,[])),D=Object(n.useMemo)(()=>(e=>[{label:e.formatMessage({id:"COMMON_DAY_MONDAY"}),abbr:e.formatMessage({id:"COMMON_DAY_SHORT_MONDAY"}).toUpperCase(),value:"mon"},{label:e.formatMessage({id:"COMMON_DAY_TUESDAY"}),abbr:e.formatMessage({id:"COMMON_DAY_SHORT_TUESDAY"}).toUpperCase(),value:"tue"},{label:e.formatMessage({id:"COMMON_DAY_WEDNESDAY"}),abbr:e.formatMessage({id:"COMMON_DAY_SHORT_WEDNESDAY"}).toUpperCase(),value:"wed"},{label:e.formatMessage({id:"COMMON_DAY_THURSDAY"}),abbr:e.formatMessage({id:"COMMON_DAY_SHORT_THURSDAY"}).toUpperCase(),value:"thu"},{label:e.formatMessage({id:"COMMON_DAY_FRIDAY"}),abbr:e.formatMessage({id:"COMMON_DAY_SHORT_FRIDAY"}).toUpperCase(),value:"fri"},{label:e.formatMessage({id:"COMMON_DAY_SATURDAY"}),abbr:e.formatMessage({id:"COMMON_DAY_SHORT_SATURDAY"}).toUpperCase(),value:"sat",weekend:!0},{label:e.formatMessage({id:"COMMON_DAY_SUNDAY"}),abbr:e.formatMessage({id:"COMMON_DAY_SHORT_SUNDAY"}).toUpperCase(),value:"sun",weekend:!0}])(e),[e]),f=Object(n.useMemo)(()=>D.map(({value:e})=>e),[D]),M=Object(n.useMemo)(()=>a?Object(m.m)(1,!0):Object(m.m)(1,!1,!0),[a]),W=Object(n.useCallback)(e=>{if(!e)return;const t=C.findIndex(({id:t})=>t===e.id);return N((-1===t?C.length:t)%8)},[C]),P=Object(n.useCallback)(({item:t})=>{if(t){const e=Object(m.k)(t,f,a);return t.name?l.a.createElement(T,null,l.a.createElement(g,{weight:"bold",truncate:!0},t.name),l.a.createElement("div",null,e)):l.a.createElement(T,null,e)}return e.formatMessage({id:"SETTINGS_WIFI_FORM_ADVANCED_SCHEDULER_BLOCK_EVENT_CREATE"})},[f,e,a]),L=Object(n.useCallback)(({item:e,action:t})=>new Promise((a,n)=>{if(Object(m.c)(e,C.filter(({id:t})=>t!==e.id)))n(new Error("Overlapping events are not allowed"));else if("update"===t){const t=C.findIndex(({id:t})=>e.id===t);if(-1!==t){const n=[...C];n.splice(t,1,e),F(n),a(e)}else n(new Error("There was an error saving the event. Invalid ID."))}else{const t={...e,id:Object(_.v4)()};F([...C,t]),a(t)}}),[C,F]),y=Object(n.useCallback)(e=>new Promise(t=>{F(C.filter(t=>t.id!==e)),t()}),[C,F]),v=Object(n.useCallback)(e=>Object(m.c)(e,C.filter(({id:t})=>t!==e.id))?void 0:e,[C]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(A,null),l.a.createElement(O.g,{flexDirection:"column"},l.a.createElement(E.a,{weight:"bold",size:"body"},l.a.createElement(i.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_SCHEDULER_LABEL"})),l.a.createElement(E.a,{color:"secondary"},l.a.createElement(i.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_SCHEDULER_DESCRIPTION"}))),l.a.createElement(S,{innerRef:r},d&&l.a.createElement(u.a,{adjustDragPosition:v,days:D,getItemColor:W,getItemLabel:P,hideGridLines:!0,items:C,onChange:L,onRemove:y,renderPopup:t=>l.a.createElement(p.a,Object.assign({title:e.formatMessage({id:"SETTINGS_WIFI_FORM_ADVANCED_SCHEDULER_BLOCK_TITLE"}),labels:{name:e.formatMessage({id:"SETTINGS_WIFI_FORM_ADVANCED_SCHEDULER_FORM_LABEL_NAME"}),startDay:e.formatMessage({id:"SETTINGS_WIFI_FORM_ADVANCED_SCHEDULER_FORM_LABEL_START_DAY"}),endDay:e.formatMessage({id:"SETTINGS_WIFI_FORM_ADVANCED_SCHEDULER_FORM_LABEL_END_DAY"}),startTime:e.formatMessage({id:"SETTINGS_WIFI_FORM_ADVANCED_SCHEDULER_FORM_LABEL_START_TIME"}),endTime:e.formatMessage({id:"SETTINGS_WIFI_FORM_ADVANCED_SCHEDULER_FORM_LABEL_END_TIME"}),allDay:e.formatMessage({id:"SETTINGS_WIFI_FORM_ADVANCED_SCHEDULER_FORM_LABEL_ALL_DAY"}),repeatsWeeklyOnEvery:e.formatMessage({id:"SETTINGS_WIFI_FORM_ADVANCED_SCHEDULER_FORM_LABEL_REPEATS_WEEKLY_ON"}),repeatDisabled:e.formatMessage({id:"SETTINGS_WIFI_FORM_ADVANCED_SCHEDULER_FORM_LABEL_REPEAT_DISABLED"}),buttonRemove:e.formatMessage({id:"COMMON_ACTION_REMOVE"}),buttonCancel:e.formatMessage({id:"COMMON_ACTION_CANCEL"}),buttonSave:e.formatMessage({id:"COMMON_ACTION_SAVE"})}},t)),times:M,width:d})))})},2202:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(4),i=a(5),c=a(45),_=a(8),o=a(23),s=a(1754),E=a(1755),d=a(1197),m=a(293),u=a(42),p=a(36),b=a(95),O=a(54),I=a(75);const S=Object(i.c)(O.Field)`
  margin-right: ${({theme:e})=>e.spacing["spacing-s"]};
  &:last-child {
    margin-right: ${({theme:e})=>e.spacing["spacing-xl"]};
  }
`,A=Object(i.c)(b.p)`
  margin: 2px 6px 0 0;
`;t.a=({formPrefix:e})=>{const{values:t,initialValues:a}=Object(c.e)(),i=Object(_.useSelector)(m.selectAPGroupsData),O=Object(_.useSelector)(p.selectWifiNetworksData),T=Object(_.useSelector)(u.selectConnectivityMonitorEnabled),g=Object(n.useMemo)(()=>e&&t[e]?t[e]:t,[t,e]),N=Object(n.useMemo)(()=>e&&a[e]?a[e]:a,[a,e]),{_id:R,ap_group_ids:h}=g,F=e?e+".wlan_band":"wlan_band",[C,D]=Object(n.useMemo)(()=>[p.WlanBand.NG,p.WlanBand.NA].map(e=>i.some(t=>h.includes(t._id)&&t.device_macs.length?Object(m.apGroupContainsDeviceWithWlanLimitReached)(t,O,i,T,{_id:R,wlan_band:e,ap_group_ids:h},N.wlan_band===p.WlanBand.BOTH?void 0:e!==N.wlan_band):Object(m.apGroupLimitReached)(t,O,T,{_id:R,wlan_band:e,ap_group_ids:h},N.wlan_band===p.WlanBand.BOTH?void 0:e!==N.wlan_band))),[i,O,T,h,R,N]);return l.a.createElement(s.a,null,l.a.createElement(I.SearchableGridLabel,{description:l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_WI_FI_BAND_DESCRIPTION"}),htmlFor:F,label:l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_WI_FI_BAND_LABEL"}),searchHtmlFor:"wlan_band",searchTags:["SETTINGS_WIFI_FORM_ADVANCED_WI_FI_BAND_VALUE_NG","SETTINGS_WIFI_FORM_ADVANCED_WI_FI_BAND_VALUE_NA","SETTINGS_WIFI_FORM_ADVANCED_WI_FI_BAND_VALUE_NA_SEARCH","SETTINGS_WIFI_FORM_ADVANCED_WI_FI_BAND_VALUE_NG_SEARCH"]}),l.a.createElement(E.a,null,l.a.createElement(b.g,null,D?l.a.createElement(d.a,{position:"top",width:"210px",message:l.a.createElement(b.q,null,l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_DEVICES_TABLE_LIMIT_REACHED_FOR_BAND",values:{band:"na"}}))},l.a.createElement(S,{value:p.WlanBand.NA,type:"togglebox",toggleboxType:"radio",name:F,disabled:!0},l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_WI_FI_BAND_VALUE_NA"}))):l.a.createElement(S,{value:p.WlanBand.NA,type:"togglebox",toggleboxType:"radio",name:F},l.a.createElement(b.g,null,l.a.createElement(A,null,l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_WI_FI_BAND_VALUE_NA"})),l.a.createElement(d.a,{position:"top",width:"242px",message:l.a.createElement(b.q,null,l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_WI_FI_BAND_VALUE_NA_TOOLTIP"}))},l.a.createElement(o.cb,{isActive:!0})))),C?l.a.createElement(d.a,{position:"top",width:"210px",message:l.a.createElement(b.q,null,l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_DEVICES_TABLE_LIMIT_REACHED_FOR_BAND",values:{band:"ng"}}))},l.a.createElement(S,{value:p.WlanBand.NG,type:"togglebox",toggleboxType:"radio",name:F,disabled:!0},l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_WI_FI_BAND_VALUE_NG"}))):l.a.createElement(S,{value:p.WlanBand.NG,type:"togglebox",toggleboxType:"radio",name:F},l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_WI_FI_BAND_VALUE_NG"})),C||D?l.a.createElement(d.a,{position:"top",width:"210px",message:l.a.createElement(b.q,null,l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_DEVICES_TABLE_LIMIT_REACHED_FOR_BAND",values:{band:"both"}}))},l.a.createElement(S,{value:p.WlanBand.BOTH,type:"togglebox",toggleboxType:"radio",name:F,disabled:!0},l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_WI_FI_BAND_VALUE_NG_NA"}))):l.a.createElement(S,{value:p.WlanBand.BOTH,type:"togglebox",toggleboxType:"radio",name:F},l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_WI_FI_BAND_VALUE_NG_NA"})))))}},2251:function(e,t,a){"use strict";a.d(t,"a",(function(){return be}));var n=a(0),l=a.n(n),r=a(4),i=a(31),c=a(8),_=a(5),o=a(23),s=a(45),E=a(670),d=a(1754),m=a(1755),u=a(625),p=a(1796),b=a(159),O=a(293),I=a(6),S=a(42),A=a(36),T=a(95),g=a(54),N=a(75),R=a(1972),h=a(230),F=a.n(h),C=a(13),D=a(64),f=a(49),M=a(824),W=a(113),P=a(292),L=a(1946),y=a(30),v=a(76),G=a(1197);var j=({...e})=>l.a.createElement(G.a,Object.assign({position:"left",width:"210px",message:l.a.createElement(T.q,null,l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_DEVICES_TABLE_LIMIT_REACHED"}))},e),l.a.createElement(o.cb,{isActive:!0}));const w=Object(_.c)(f.a,{shouldForwardProp:e=>"disabled"!==e})`
  ${({disabled:e})=>e&&"opacity: 0.4 !important;"}
`,x=[{growthFactor:180,id:"name",label:l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUPS_TABLE_NAME"}),sortable:!0,renderCell:({name:e})=>l.a.createElement(f.a,{truncate:!0,color:"tertiary"},e)},{compare:Object(L.a)(({device_macs:e})=>e.length),growthFactor:180,id:"apCount",label:l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUPS_TABLE_APS"}),renderCell:({device_macs:e})=>l.a.createElement(f.a,{color:"tertiary"},e.length),sortable:!0},{growthFactor:32,minWidth:32,maxWidth:32,id:"limitTooltip",renderCell:({disabledApGroup:e})=>e&&l.a.createElement(j,{portal:!0,position:"top"}),renderLabel:()=>null,sortable:!1}],V=[{growthFactor:26,id:"icon",renderCell:e=>l.a.createElement(W.c,{device:e}),renderLabel:()=>null,sortable:!1},{compare:Object(L.a)(e=>Object(v.b)(e)),growthFactor:80,id:"name",label:l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_DEVICES_TABLE_NAME"}),renderCell:e=>l.a.createElement(f.a,{truncate:!0,color:"tertiary"},Object(v.b)(e)),sortable:!0},{compare:Object(L.a)(e=>Object(v.a)(e)),growthFactor:90,id:"model",label:l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_DEVICES_TABLE_MODEL"}),renderCell:e=>l.a.createElement(f.a,{truncate:!0,color:"tertiary"},Object(v.a)(e)),sortable:!0},{compare:Object(L.a)(e=>Object(I.getDeviceIp)(e)),growthFactor:80,id:"ip",label:l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_DEVICES_TABLE_IP_ADDRESS"}),renderCell:e=>l.a.createElement(f.a,{color:"tertiary"},Object(I.getDeviceIp)(e)),sortable:!0},{compare:Object(L.a)(({satisfaction:e})=>e),growthFactor:60,id:"wifiExperience",label:l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_DEVICES_TABLE_WIFI_EXPERIENCE"}),renderCell:({satisfaction:e,disabledDevice:t})=>{const a=Object(P.c)(e);return l.a.createElement(T.g,{justifyContent:"space-between",alignItems:"center",width:"100%"},l.a.createElement(w,{truncate:!0,color:"tertiary",disabled:t},a&&e>=0?l.a.createElement("span",{style:{color:M.a.getGradientColor(e/100)}},e,"%"):l.a.createElement(r.c,{id:"COMMON_NA"})))},sortable:!0}],k={name:"",device_macs:[""]},B=y.a.object().shape({name:y.a.string().label("SETTINGS_WIFI_FORM_ADVANCED_AP_GROUPS_TABLE_NAME").required(),device_macs:y.a.array().of(y.a.string())}),U=Object(_.c)("div")`
  width: 390px;
  margin-bottom: ${({theme:e})=>e.spacing["spacing-m"]};

  table {
    th {
      /* remove checkbox from header */
      &:first-child {
        opacity: 0;
        visibility: hidden;
      }

      height: 30px !important;
      font-weight: 400 !important;
    }

    tr:hover {
      background: ${({theme:e})=>e.motifPalette.hoverUi01} !important;
    }
  }
`,H=Object(_.c)(T.g,{shouldForwardProp:e=>"hasLimitInfo"!==e&&"isFirstRow"!==e})`
  ${({isFirstRow:e,hasLimitInfo:t})=>e&&t&&"margin-top: 1px;"}

  > * {
    margin-left: ${({theme:e})=>e.spacing["spacing-s"]};
    &:first-child {
      margin-left: 0;
    }

    &:last-child {
      ${({theme:{spacing:e},hasLimitInfo:t})=>`margin: ${t?"7px":"0"} ${e["spacing-s"]} 0 ${e["spacing-l"]}`}
    }
  }
`;var $=({currentSettingsPath:e,values:t,setFieldValue:a})=>{const _=Object(i.k)(),{_id:o,ap_group_ids:s,wlan_band:E}=t,d=Object(c.useSelector)(O.selectAPGroupsData),m=Object(c.useSelector)(A.selectWifiNetworksData),u=Object(c.useSelector)(S.selectConnectivityMonitorEnabled),p=Object(c.useSelector)(C.u),b=`${e}/${t._id||0}/ap-groups`,I=Object(n.useMemo)(()=>d.map(e=>{const t=m.filter(({ap_group_ids:t})=>null==t?void 0:t.includes(e._id)),a=e.device_macs.length?Object(O.apGroupContainsDeviceWithWlanLimitReached)(e,m,d,u,{_id:o,wlan_band:E,ap_group_ids:s}):Object(O.apGroupLimitReached)(e,m,u,{_id:o,wlan_band:E,ap_group_ids:s});return{...e,disabledApGroup:a,wlans:t}}),[d,m,u,s,o,E]),g=Object(n.useCallback)(e=>a("ap_group_ids",e.filter(e=>{var t;return!(null===(t=I.find(({_id:t})=>t===e))||void 0===t?void 0:t.disabledApGroup)})),[a,I]),N=Object(n.useCallback)(e=>l.a.createElement(H,{isFirstRow:!!e.attr_no_delete,hasLimitInfo:!!e.disabledApGroup},l.a.createElement(T.c,{legacy:!1,name:"ap-groups-view",type:"button",variant:"inline",onClick:()=>_.push(`${b}/${e._id}`)},e.attr_no_delete||p?l.a.createElement(r.c,{id:"COMMON_ACTION_VIEW"}):l.a.createElement(r.c,{id:"COMMON_ACTION_EDIT"})),e.disabledApGroup&&l.a.createElement(j,{position:"top"})),[b,_,p]),h=Object(n.useMemo)(()=>"_"+F()().replace(/-/g,""),[]);Object(D.k)(`\n    .${h} td input {\n      pointer-events: none !important;\n    }\n    .${h} td:not(:last-child) {\n      opacity: 0.4 !important;\n    }\n  `,!0);const f=Object(n.useCallback)(({disabledApGroup:e})=>e?h:"",[h]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(U,null,l.a.createElement(R.a,{columns:x,disableColumnFilters:!0,idField:O.ID_FIELD,items:I,renderHoverContent:N,multiSelectMode:!0,initialSelectedIds:t.ap_group_ids,selectedIds:t.ap_group_ids,onChangeSelection:g,rowClassName:f})))},Y=a(16),X=a(21),z=a(18),K=a(1859),q=a(20),Q=a(52),Z=a(38);const J=Object(_.c)(T.g,{shouldForwardProp:e=>"background"!==e})`
  border-radius: 5px;
  padding: ${({theme:e})=>e.spacing["spacing-s"]};
  padding-left: 11px;
  margin-bottom: ${({theme:e})=>e.spacing["spacing-xl"]};
  background: ${({theme:e,background:t})=>null!=t?t:e.motifPalette.ui10};
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    display: block;
    width: 3px;
    left: 0;
    top: 0;
    bottom: 0;
    background: ${({theme:e})=>e.motifPalette.ui06};
  }
`,ee=Object(_.c)(T.g)`
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: ${({theme:e})=>e.motifPalette.ui06};
  margin-right: ${({theme:e})=>e.spacing["spacing-s"]};
  color: ${({theme:e})=>e.motifPalette.white};
`,te=Object(_.c)("a")`
  margin-left: ${({theme:e})=>e.spacing["spacing-m"]};
  white-space: nowrap;
`;var ae=({background:e})=>{const t=Object(c.useSelector)(S.selectConnectivityMonitorEnabled);return l.a.createElement(J,{justifyContent:"space-between",alignItems:"center",background:e},l.a.createElement(T.g,{alignItems:"center"},l.a.createElement(ee,{justifyContent:"center",alignItems:"center",flex:"none"},l.a.createElement(o.p,{width:"10px",height:"10px"})),l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUP_LIMIT",values:{count:t?A.MAX_WIFI_WITH_CONN_MONITOR:A.MAX_WIFI}})),l.a.createElement(te,{target:"_blank",href:b.a.ssidLimit},l.a.createElement(r.c,{id:"COMMOM_LEARN_MORE"})))};const ne=Object(_.c)(Q.a,{shouldForwardProp:e=>"isDisabled"!==e})`
  width: 550px !important;

  ${({isDisabled:e})=>!e&&"& > footer > div {\n      width: 100%;\n\n      & > div:first-child {\n        margin-right: auto;\n      }\n    }"}
`,le=Object(_.c)(T.g)`
  margin-bottom: ${({theme:e})=>e.spacing["spacing-xxxl"]};
`,re=Object(_.c)("div")`
  width: calc(50% - 16px);
`,ie=Object(_.c)("div")`
  table {
    th {
      height: 32px !important;
      font-weight: 400 !important;
    }
    tr {
      background: none !important;
      border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui04} !important;

      &:hover {
        background: ${({theme:e})=>e.motifPalette.hoverUi01} !important;
      }

      /* using "*" to match "th|td" */

      *:nth-child(2) {
        padding-left: 2px !important;
        padding-right: 2px !important;
      }

      *:not(:first-child) {
        padding-right: 16px;
      }
    }
  }
`,ce=Object(_.c)("div")`
  padding: 0 !important;
  margin-bottom: ${({theme:e})=>e.spacing["spacing-xxl"]};
  text-align: center;
`,_e=Object(_.c)(K.a)`
  > div > div {
    /* removed top margin for serach icon */
    margin-top: 0 !important;
  }
`,oe=Object(_.c)(T.g)`
  margin-left: 11px;
`,se=Object(_.c)("div")`
  margin-left: ${({theme:e})=>e.spacing["spacing-s"]};
  padding-top: ${({theme:e})=>e.spacing["spacing-xxs"]};
`;var Ee=Object(r.f)(({initialValues:e,closeModal:t,intl:a,wlanData:_})=>{const E=Object(c.useSelector)(I.selectAdoptedApDevices),{isSubmitting:d,isValid:m,values:u,handleSubmit:p,setFieldValue:b}=Object(s.e)(),{device_macs:N=[]}=u,h=!!(null==e?void 0:e._id),M=Object(c.useSelector)(O.selectAPGroupsData),W=Object(c.useSelector)(A.selectWifiNetworksData),P=Object(c.useSelector)(S.selectConnectivityMonitorEnabled),L=Object(c.useSelector)(C.u),[y,G]=Object(n.useState)(""),j=L||(null==e?void 0:e.attr_no_delete),w=Object(n.useMemo)(()=>{const e=y.toLowerCase();return E.filter(({_id:t,name:a,model:n,mac:l,ip:r})=>[t,a,n,l,r,Object(v.a)({model:n})].some((t="")=>t.toLowerCase().indexOf(e)>=0)).map(e=>Object(O.isDeviceWlanLimitsReached)(e,W,M,P,_)?{...e,disabledDevice:!0}:e)},[E,y,W,M,P,_]),x=w.some(({disabledDevice:e})=>e),k=Object(D.h)("wifi"),B=Object(c.useDispatch)(),U=Object(i.k)(),H=Object(n.useCallback)(e=>b("device_macs",e.filter(e=>{var t;return!(null===(t=w.find(t=>e===t.mac))||void 0===t?void 0:t.disabledDevice)||N.includes(e)})),[b,N,w]),$=Object(n.useMemo)(()=>"_"+F()().replace(/-/g,""),[]);Object(D.k)(`\n    .${$} td:not(:last-child) {\n      opacity: 0.4 !important;\n    }\n  `,!0);const Y=Object(n.useCallback)(({disabledDevice:e})=>e?$:"",[$]),K=Math.min(32*(E.length+1)+1+10,225)+"px",Q=Object(n.useCallback)(()=>{const{_id:e,name:a}=u,n=W.filter(({ap_group_ids:t})=>null==t?void 0:t.includes(e)),l=n.filter(e=>e._id!==u._id).length>0;B(Object(q.g)({modalType:l?Z.a.CONFIRM_AP_GROUP_MULTI_REMOVE:Z.a.CONFIRM_REMOVE,modalProps:{name:a,wlans:n,canRemoveWlans:W.length>n.length,onConfirm:async a=>{const r=n.some(({_id:e})=>e===u._id)&&"remove"===a,i=[];l&&n.forEach(t=>{"remove"!==a?i.push(B(Object(A.updateWifiNetwork)(t._id,{...t,ap_group_ids:t.ap_group_ids.filter(t=>t!==e),enabled:!1},void 0,{}))):i.push(B(Object(A.deleteWifiNetwork)(t._id,void 0,{successToast:void 0,failureToast:void 0})))});try{await Promise.all(i),B(Object(O.removeAPGroup)(e)).then(()=>{B(Object(X.c)({icon:z.a.success,message:"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUP_REMOVE_SUCCESS"})),t(),l&&r&&U.push(k)}).catch(e=>{B(Object(X.c)({errorMessage:e.msg,errorValues:e,icon:z.a.danger,message:"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUP_REMOVE_FAILED"}))})}catch(c){B(Object(X.c)({errorMessage:c.msg,errorValues:c,icon:z.a.danger,message:"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUP_REMOVE_FAILED"}))}}}}))},[u,W,B,t,U,k]);return l.a.createElement(ne,{size:"small",isOpen:!0,header:()=>l.a.createElement(ce,null,l.a.createElement(f.a,{size:"header-s"},l.a.createElement(r.c,{id:h?"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUPS_EDIT_HEADER":"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUPS_CREATE_NEW",values:{name:null==e?void 0:e.name}}))),actions:[!j&&h&&{disabled:d,text:l.a.createElement(r.c,{id:"COMMON_ACTION_REMOVE"}),type:"button",variant:"default",onClick:Q},{disabled:d,text:l.a.createElement(r.c,{id:"COMMON_ACTION_CANCEL"}),type:"button",variant:"default",onClick:t},{disabled:j||d||!m,text:l.a.createElement(r.c,{id:h?"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUPS_SAVE":"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUPS_CREATE"}),type:"button",variant:"primary",onClick:()=>p()}],onRequestClose:t,isDisabled:j&&!h},x&&l.a.createElement(ae,null),l.a.createElement(le,{justifyContent:"space-between"},l.a.createElement(re,null,l.a.createElement(g.Field,{name:"name",label:"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUPS_TABLE_NAME",full:!0,disabled:j})),l.a.createElement(re,null,l.a.createElement(_e,{iconBefore:l.a.createElement(o.Hb,{size:"small"}),label:a.formatMessage({id:"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUPS_SEARCH_APS"}),onChange:(e,t)=>G(t),onClear:e=>G(""),placeholder:"",value:y,full:!0}))),y||w.length?l.a.createElement(ie,null,l.a.createElement(T.i,{vertical:!0,height:K},l.a.createElement(R.a,{columns:V,items:w,idField:"mac",disableColumnFilters:!0,multiSelectMode:!0,initialSelectedIds:N,selectedIds:N,onChangeSelection:H,disableSelection:j,rowClassName:Y,renderFooter:w.length?void 0:()=>l.a.createElement(oe,null,l.a.createElement("div",null,l.a.createElement(o.cb,{isActive:!0})),l.a.createElement(se,null,l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_DEVICES_TABLE_SEARCH_EMPTY"})))}))):l.a.createElement(T.g,null,l.a.createElement("div",null,l.a.createElement(o.cb,{isActive:!0})),l.a.createElement(se,null,l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_DEVICES_TABLE_EMPTY"}))))});var de=({data:e,closeModal:t,setFieldValue:a,wlanData:r})=>{const i=Object(c.useDispatch)(),_=Object(n.useMemo)(()=>e,[e]),o=Object(n.useCallback)((n,{setSubmitting:l})=>{const c=e._id?O.updateAPGroup:O.createAPGroup;i(c({...e,...n,device_macs:n.device_macs.filter(e=>!!e)})).then(n=>{const l=Object(Y.a)(n,"data[0]._id",Object(Y.a)(n,"_id"));i(Object(X.c)({icon:z.a.success,message:"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUP_SAVE_SUCCESS"})),e._id||a("ap_group_ids",[...r.ap_group_ids,l]),t()}).catch(e=>{i(Object(X.c)({errorMessage:e.msg,errorValues:e,icon:z.a.danger,message:"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUP_SAVE_FAILED"})),l(!1)})},[i,X.c,t,e]);return l.a.createElement(s.c,{enableReinitialize:!0,initialValues:_,validationSchema:B,onSubmit:o},l.a.createElement(Ee,{initialValues:e,closeModal:t,wlanData:r}))};const me=Object(_.c)(T.c)`
  display: flex;
  align-items: center;
  margin-left: ${({theme:e})=>e.spacing["spacing-m"]};
`,ue=Object(_.c)(g.ValidationMessage)`
  margin-left: ${({theme:e})=>e.spacing["spacing-m"]};
`,pe=Object(_.c)("div")`
  margin-bottom: ${({theme:e})=>e.spacing["spacing-m"]};
`;var be=({formPrefix:e="",currentSettingsPath:t})=>{const a=Object(i.k)(),{modalType:_,modalItemId:T,networkId:g}=Object(i.m)(),{values:R,errors:h,setFieldValue:F}=Object(s.e)(),C="ap-groups"===_,D=Object(c.useSelector)(O.selectAPGroupsData),f=Object(c.useSelector)(A.selectWifiNetworksData),M=Object(c.useSelector)(I.selectAdoptedApDevicesMac),W=Object(c.useSelector)(S.selectConnectivityMonitorEnabled),P=Object(n.useMemo)(()=>e&&R[e]?R[e]:R,[R,e]),L=Object(n.useMemo)(()=>e&&h[e]?h[e]:h,[h,e]),y=e?e+".":"",v=Object(n.useCallback)((e,t,a)=>F(`${y}${e}`,t,a),[F,y]),G=Object(n.useMemo)(()=>Object(E.a)(P,"_id","ap_group_ids","wlan_band"),[P._id,P.ap_group_ids,P.wlan_band]),j=Object(n.useMemo)(()=>C&&T&&D.find(({_id:e})=>e===T)||k,[C,T,D]),w=Object(n.useMemo)(()=>Object(O.getInvalidApGroups)(D,P,f,W),[D,P,f,W]),x=Object(n.useMemo)(()=>M.some(e=>!Object(O.isDeviceWlanLimitsReached)(e,f,D,W,G)),[M.length,f,D,W,G]),V=`${t}/${g||0}/ap-groups`,B=`${t}${g&&"0"!==g?"/"+g:""}`,U=Object(n.useCallback)(()=>a.push(B),[a,B]);return Object(n.useEffect)(()=>{w.length>0!==P.hasInvalidApGroupsSelected&&v("hasInvalidApGroupsSelected",w.length>0)},[w.length]),l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,null,l.a.createElement(N.SearchableGridLabel,{description:l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUPS_DESCRIPTION"}),label:l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUPS_LABEL"}),searchHtmlFor:"ap_group_ids",searchTags:["SETTINGS_WIFI_FORM_ADVANCED_AP_GROUPS_LABEL_SEARCH_TAG"]}),l.a.createElement(m.a,{column:!0},l.a.createElement($,{values:P,setFieldValue:v,currentSettingsPath:t}),x?l.a.createElement(me,{name:"ap-group-create",size:"small",type:"button",variant:"inline",legacy:!1,Icon:o.ub,onClick:()=>a.push(V)},l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUPS_CREATE_NEW"})):l.a.createElement(u.a,{openOnMouseEnter:!0,align:"bottomCenter",toggleOffset:16,renderToggle:()=>l.a.createElement(me,{name:"ap-group-create",size:"small",type:"button",variant:"inline",legacy:!1,Icon:o.ub,disabled:!0},l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUPS_CREATE_NEW"})),renderCard:({open:e})=>e&&l.a.createElement(p.a,{width:"200px",tooltipProps:{position:"bottom"},message:l.a.createElement(l.a.Fragment,null,l.a.createElement(pe,null,l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_DEVICES_TABLE_LIMIT_REACHED_FOR_DEFAULT"})),l.a.createElement("a",{target:"_blank",href:b.a.ssidLimit,rel:"noopener noreferrer"},l.a.createElement(r.c,{id:"COMMOM_LEARN_MORE"})))})}),L.ap_group_ids&&l.a.createElement(ue,{visible:!0},L.ap_group_ids),w.length>0&&w.map(({name:e,_id:t})=>l.a.createElement(ue,{visible:!0,key:"invalid-ap-group-"+t},l.a.createElement(r.c,{id:"SETTINGS_WIFI_FORM_ADVANCED_AP_GROUPS_VALIDATION_WLANS_EXCEED_DEVICE_LIMIT",values:{name:e}}))))),C&&l.a.createElement(de,{data:j,closeModal:U,wlanData:G,setFieldValue:v}))}},2260:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return r}));const n="wlanCapabilities",l="/v2/api/site/{site}/wlan-capabilities",r="wlanCapabilities"},2273:function(e,t,a){"use strict";var n=a(2200);a.d(t,"fetchWlanCapabilities",(function(){return n.a}));a(2260);var l=a(2274);a.d(t,"selectIsWpa3Supported",(function(){return l.a}));a(2275)},2274:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(3),l=a(2),r=a(2200);const i=Object(n.a)(e=>Object(l.t)(Object(r.a)(),e.models),e=>{var t;return null!==(t=null==e?void 0:e.data)&&void 0!==t?t:{wpa3_supported:!1}}),c=Object(n.a)(i,e=>e.wpa3_supported)},2275:function(e,t){}}]);